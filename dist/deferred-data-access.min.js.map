{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///deferred-data-access.min.js","webpack:///webpack/bootstrap fa25b604cdbb19649e5e","webpack:///./source/utils/isResource.js","webpack:///./source/utils/TARGET_INTERNALS.js","webpack:///./source/utils/TARGET_DATA.js","webpack:///./source/request/target/getInternals.js","webpack:///./source/command/Descriptor.js","webpack:///./source/resource/ResourcePool.js","webpack:///./source/request/Target.js","webpack:///./source/utils/TargetStatus.js","webpack:///./source/utils/getRawResource.js","webpack:///./source/utils/IConvertible.js","webpack:///./node_modules/event-dispatcher/dist/event-dispatcher.js","webpack:///./source/utils/getId.js","webpack:///./source/resource/Resource.js","webpack:///./source/utils/Deferred.js","webpack:///./source/utils/getResourcePoolId.js","webpack:///./source/utils/getResourceId.js","webpack:///./source/command/internal/ProxyCommands.js","webpack:///./source/utils/getResourceType.js","webpack:///./source/utils/createRequestPackage.js","webpack:///./source/utils/getResourceData.js","webpack:///./source/command/internal/RequestCommands.js","webpack:///./source/command/Reserved.js","webpack:///./source/request/Factory.js","webpack:///./source/resource/Converter.js","webpack:///./source/utils/isResourceConvertible.js","webpack:///./source/resource/PoolRegistry.js","webpack:///./source/index.js","webpack:///./source/DataAccessInterface.js","webpack:///./source/utils/areProxiesAvailable.js","webpack:///./source/request/target/toJSON.js","webpack:///(webpack)/buildin/module.js","webpack:///./source/request/target/SubTargets.js","webpack:///./source/request/target/Queue.js","webpack:///./source/request/target/Children.js","webpack:///./source/request/target/getRawPromise.js","webpack:///./source/utils/createForeignResource.js","webpack:///./source/request/Handlers.js","webpack:///./source/utils/filterRequestHandlers.js","webpack:///./source/request/ProxyFactory.js","webpack:///./source/request/Decorator.js","webpack:///./source/command/CallbackFactory.js","webpack:///./source/request/target/setTemporary.js","webpack:///./source/request/target/isPending.js","webpack:///./source/request/target/getStatus.js","webpack:///./source/request/target/PROMISE_FIELD.js","webpack:///./source/request/target/Internals.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__","__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_2__request_Target__","__WEBPACK_IMPORTED_MODULE_3__resource_Resource__","_typeof","Symbol","iterator","obj","constructor","__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__","target","_classCallCheck","instance","Constructor","TypeError","createDescriptor","addDescriptorTo","descriptorGeneratorFactory","DEFAULT_IS_TEMPORARY","Descriptor","type","handler","arguments","length","undefined","isTemporary","cacheable","virtual","resourceType","descriptor","freeze","Array","push","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","value","writable","setPrototypeOf","__proto__","ResourcePoolEvents","defaultResourcePool","createResourcePool","__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__","__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default","__WEBPACK_IMPORTED_MODULE_1__utils_getId__","__WEBPACK_IMPORTED_MODULE_2__utils_isResource__","__WEBPACK_IMPORTED_MODULE_3__Resource__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","next","done","err","isArray","_createClass","defineProperties","props","key","protoProps","staticProps","RESOURCE_ADDED","RESOURCE_REMOVED","POOL_CLEAR","POOL_CLEARED","POOL_DESTROYED","MAP_FIELD","validTargets","isValidTarget","Boolean","ResourcePool","_EventDispatcher","_this","getPrototypeOf","Map","id","map","resource","has","set","hasEventListener","dispatchEvent","delete","destroy","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_ref","_ref2","return","clear","a","events","DefaultResourcePool","_ResourcePool","apply","Error","list","reduce","createRequestTarget","__WEBPACK_IMPORTED_MODULE_1__utils_isResource__","__WEBPACK_IMPORTED_MODULE_2__target_PROMISE_FIELD__","__WEBPACK_IMPORTED_MODULE_3__target_Internals__","getRequestPromise","request","Target","promise","requestHandlers","handlePromise","data","then","catch","PENDING","RESOLVED","REJECTED","DESTROYED","__WEBPACK_IMPORTED_MODULE_1__IConvertible__","__WEBPACK_IMPORTED_MODULE_2__isResource__","__WEBPACK_IMPORTED_MODULE_3__request_target_toJSON__","__WEBPACK_IMPORTED_MODULE_4__resource_ResourcePool__","__WEBPACK_IMPORTED_MODULE_5__resource_Resource__","pool","toJSON","IConvertible","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof2","Event","_EventDispatcher2","default","hasOwnProp","defaultPrevented","ListenersRunner","listeners","onStopped","onComplete","index","immediatelyStopped","stopImmediatePropagation","event","listener","augmentEvent","clearEvent","eventObject","stopPropagation","EventListeners","_this2","_listeners","_runners","removeRunner","runner","splice","indexOf","eventType","priorityOpt","priority","parseInt","getPrioritiesByKey","String","handlers","createList","result","priorities","_this3","getOwnPropertyNames","handlerIndex","forEach","listenerRemoved","stopped","sort","b","_handlers","_runner","createRunner","run","EventDispatcher","eventPreprocessor","noInit","initialize","_eventPreprocessor","add","remove","removeAll","getEvent","eventOrType","optionalData","isObject","base","Date","now","_defineProperty","createResource","__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__","__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__","__WEBPACK_IMPORTED_MODULE_3__utils_getId__","getPoolId","Resource","_Object$definePropert","poolId","active","internals","keys","createDeferred","Deferred","Promise","resolve","reject","ProxyCommandFields","__WEBPACK_IMPORTED_MODULE_0__Descriptor__","ProxyCommandNames","GET","SET","APPLY","DELETE_PROPERTY","deleteProperty","ProxyCommandsClass","names","fields","createGETDescriptor","createSETDescriptor","createAPPLYDescriptor","ProxyCommands","getResourceType","args","targetId","cmd","__WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_1__getRawResource__","RequestCommandNames","RequestCommandFields","DESTROY","RequestCommands","createDESTROYDescriptor","NO_INIT","createRequestFactory","__WEBPACK_IMPORTED_MODULE_0__Decorator__","__WEBPACK_IMPORTED_MODULE_1__Target__","Factory","cacheImpl","cache","decorator","pack","available","createResourceConverter","__WEBPACK_IMPORTED_MODULE_1__utils_getResourcePoolId__","__WEBPACK_IMPORTED_MODULE_2__utils_getResourceId__","__WEBPACK_IMPORTED_MODULE_3__utils_isResource__","__WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__","__WEBPACK_IMPORTED_MODULE_5__utils_getRawResource__","__WEBPACK_IMPORTED_MODULE_6__request_target_isPending__","ConverterEvents","RESOURCE_CREATED","RESOURCE_CONVERTED","Converter","registry","setConverter","isRegistered","linkConvertHandler","item","resourceToObject","lookupArray","lookupObject","objectToResource","__WEBPACK_IMPORTED_MODULE_0__isResource__","createPoolRegistry","__WEBPACK_IMPORTED_MODULE_1__ResourcePool__","PoolRegistryEvents","RESOURCE_POOL_CREATED","RESOURCE_POOL_REGISTERED","RESOURCE_POOL_REMOVED","POOLS_FIELD","PoolRegistry","handlePoolDestroyed","register","addEventListener","removeEventListener","__WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__","__WEBPACK_IMPORTED_MODULE_1__utils_Deferred__","__WEBPACK_IMPORTED_MODULE_2__command_Descriptor__","__WEBPACK_IMPORTED_MODULE_3__command_Reserved__","__WEBPACK_IMPORTED_MODULE_4__command_internal_RequestCommands__","__WEBPACK_IMPORTED_MODULE_5__command_internal_ProxyCommands__","__WEBPACK_IMPORTED_MODULE_6__request_Target__","__WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__","__WEBPACK_IMPORTED_MODULE_8__resource_PoolRegistry__","__WEBPACK_IMPORTED_MODULE_9__resource_Converter__","__WEBPACK_IMPORTED_MODULE_10__utils_IConvertible__","__WEBPACK_IMPORTED_MODULE_11__utils_isResourceConvertible__","__WEBPACK_IMPORTED_MODULE_12__utils_getRawResource__","__WEBPACK_IMPORTED_MODULE_13__utils_getResourceData__","__WEBPACK_IMPORTED_MODULE_14__utils_getResourceId__","__WEBPACK_IMPORTED_MODULE_15__utils_getResourcePoolId__","__WEBPACK_IMPORTED_MODULE_16__utils_getResourceType__","__WEBPACK_IMPORTED_MODULE_17__utils_isResource__","__WEBPACK_IMPORTED_MODULE_0__utils_areProxiesAvailable__","__WEBPACK_IMPORTED_MODULE_2__utils_getResourcePoolId__","__WEBPACK_IMPORTED_MODULE_3__utils_getResourceId__","__WEBPACK_IMPORTED_MODULE_4__utils_createForeignResource__","__WEBPACK_IMPORTED_MODULE_5__request_Handlers__","__WEBPACK_IMPORTED_MODULE_6__request_ProxyFactory__","__WEBPACK_IMPORTED_MODULE_7__request_Factory__","__WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__","__WEBPACK_IMPORTED_MODULE_10__resource_PoolRegistry__","DataAccessInterface","descriptors","proxyEnabled","poolRegistry","createPool","resourceConverter","poolDestroyedHandler","setCommands","parse","Proxy","__WEBPACK_IMPORTED_MODULE_0__getInternals__","webpackPolyfill","deprecate","paths","children","__WEBPACK_IMPORTED_MODULE_0__utils_Deferred__","__WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__","__WEBPACK_IMPORTED_MODULE_2__Queue__","__WEBPACK_IMPORTED_MODULE_3__Children__","SubTargets","_Children","parent","handleSubRequest","deferred","child","handle","queue","setParent","hasQueue","send","message","hasCommand","handleSend","status","_toConsumableArray","arr2","from","createQueue","Queue","concat","callback","error","_ref3","__WEBPACK_IMPORTED_MODULE_0__getRawPromise__","Children","__WEBPACK_IMPORTED_MODULE_1__PROMISE_FIELD__","__WEBPACK_IMPORTED_MODULE_1__getId__","createHandlers","__WEBPACK_IMPORTED_MODULE_0__command_Descriptor__","__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__","__WEBPACK_IMPORTED_MODULE_2__utils_filterRequestHandlers__","__WEBPACK_IMPORTED_MODULE_3__utils_getResourceType__","DEFAULT_KEY","areProxyHandlersAvailable","throwError","required","HandlersEvents","HANDLERS_UPDATED","Handlers","properties","converter","setCommandsByType","descrs","getPropertyCommands","assign","parentRequest","resultRequest","lookupForPending","all","handleImmediately","getCommand","findIndex","__WEBPACK_IMPORTED_MODULE_1__command_Reserved__","applyDescriptor","filterArray","filterHash","getOwnPropertySymbols","createProxyFactory","__WEBPACK_IMPORTED_MODULE_0__Factory__","EXCLUSIONS","caller","createFunctionWrapper","requestTargetProxy","wrapWithProxy","proxyGet","wrapper","proxyApply","thisValue","proxySet","proxyHas","proxyDeleteProperty","proxyOwnKeys","proxyEnumerate","proxyGetOwnPropertyDescriptor","getOwnPropertyDescriptor","PROXY_HANDLERS","ownKeys","enumerate","ProxyFactory","_Factory","setFactory","getCached","createCached","createDecorator","__WEBPACK_IMPORTED_MODULE_0__command_CallbackFactory__","__WEBPACK_IMPORTED_MODULE_1__utils_getResourceType__","Decorator","members","__WEBPACK_IMPORTED_MODULE_0__request_target_getInternals__","__WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__","__WEBPACK_IMPORTED_MODULE_3__request_target_setTemporary__","createHandlerFor","factoryWrapper","propertyName","commandType","commandHandler","command","_len","_key","getChildRequest","checkState","CallbackFactory","isTemporaryFn","childRequest","temporary","__WEBPACK_IMPORTED_MODULE_0__getStatus__","__WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__","__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_4__utils_getResourceData__","__WEBPACK_IMPORTED_MODULE_5__command_internal_RequestCommands__","__WEBPACK_IMPORTED_MODULE_6__SubTargets__","Internals","_SubTargets","handlePromiseResolve","link","parentResolved","handlePromiseReject","parentRejected","hadChildPromises","canBeDestroyed","handleResolve","handleReject"],"mappings":"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","file":"deferred-data-access.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DataAccessInterface\"] = factory();\n\telse\n\t\troot[\"DataAccessInterface\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"DataAccessInterface\"] = factory();\n\telse\n\t\troot[\"DataAccessInterface\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 26);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__request_Target__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__resource_Resource__ = __webpack_require__(12);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  return object instanceof __WEBPACK_IMPORTED_MODULE_3__resource_Resource__[\"b\" /* default */] || object instanceof __WEBPACK_IMPORTED_MODULE_2__request_Target__[\"b\" /* default */] || object && (\n  // this case for Targets and Resources which contain\n  // data in TARGET_INTERNALS Symbol\n  // We check for their types above but in cases when Proxies are enabled\n  // their type will be Function and verification will come to this case\n  _typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object' ||\n  // this case for RAW resources passed via JSON conversion,\n  // look like {'resource::data': {id: '1111', poolId: '22222'}}\n  _typeof(object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]]) === 'object');\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (Symbol('request.target:internals'));\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ('resource::data');\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__ = __webpack_require__(1);\n/**\r\n * Created by Oleg Galaburda on 24.11.17.\r\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target) {\n  return target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] || null;\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export DEFAULT_IS_TEMPORARY */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createDescriptor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return addDescriptorTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return descriptorGeneratorFactory; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_IS_TEMPORARY = function DEFAULT_IS_TEMPORARY() {\n  return true;\n};\n\nvar Descriptor = function Descriptor(type, handler) {\n  var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n  _classCallCheck(this, Descriptor);\n\n  this.name = name !== undefined ? name : type;\n  this.type = type;\n  this.handler = handler;\n  /**\r\n   * @type {function(): boolean}\r\n   */\n  this.isTemporary = DEFAULT_IS_TEMPORARY;\n  this.cacheable = true;\n  this.virtual = false;\n  this.resourceType = null;\n};\n\nvar createDescriptor = function createDescriptor(type, handler, name) {\n  var isTemporary = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_IS_TEMPORARY;\n  var resourceType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n  var cacheable = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n  var virtual = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n\n  var descriptor = new Descriptor(type, handler, name);\n  descriptor.resourceType = resourceType;\n  descriptor.cacheable = cacheable;\n  descriptor.virtual = virtual;\n  if (isTemporary) {\n    descriptor.isTemporary = isTemporary;\n  }\n  // We can use Object.freeze(), it keeps class/constructor information\n  return Object.freeze(descriptor);\n};\n\nvar addDescriptorTo = function addDescriptorTo(descriptor, target) {\n  if (target instanceof Array) {\n    target.push(descriptor);\n  } else if (target) {\n    target[descriptor.name] = descriptor;\n  }\n};\n\nvar descriptorGeneratorFactory = function descriptorGeneratorFactory(type, name) {\n  return function (handler, target) {\n    var isTemporary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_IS_TEMPORARY;\n    var resourceType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var cacheable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var virtual = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n    var descriptor = createDescriptor(type, handler, name, isTemporary, resourceType, cacheable, virtual);\n    addDescriptorTo(descriptor, target);\n    return Object.freeze(descriptor);\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (Descriptor);\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ResourcePoolEvents; });\n/* unused harmony export MAP_FIELD */\n/* unused harmony export isValidTarget */\n/* unused harmony export setValidTargets */\n/* unused harmony export getDefaultValidTargets */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return defaultResourcePool; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createResourcePool; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_getId__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Resource__ = __webpack_require__(12);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar ResourcePoolEvents = Object.freeze({\n  RESOURCE_ADDED: 'resourceAdded',\n  RESOURCE_REMOVED: 'resourceRemoved',\n  POOL_CLEAR: 'poolClear',\n  POOL_CLEARED: 'poolCleared',\n  POOL_DESTROYED: 'poolDestroyed'\n});\n\nvar MAP_FIELD = Symbol('ResourcePool::map');\n\nvar validTargets = {};\n\nvar isValidTarget = function isValidTarget(target) {\n  return !Object(__WEBPACK_IMPORTED_MODULE_2__utils_isResource__[\"a\" /* default */])(target) && Boolean(validTargets[typeof target === 'undefined' ? 'undefined' : _typeof(target)]);\n};\n\nvar setValidTargets = function setValidTargets(list) {\n  validTargets = list.reduce(function (validTargets, target) {\n    validTargets[target] = true;\n\n    return validTargets;\n  }, {});\n};\n\nvar getDefaultValidTargets = function getDefaultValidTargets() {\n  return ['object', 'function'];\n};\n\nvar ResourcePool = function (_EventDispatcher) {\n  _inherits(ResourcePool, _EventDispatcher);\n\n  function ResourcePool() {\n    _classCallCheck(this, ResourcePool);\n\n    var _this = _possibleConstructorReturn(this, (ResourcePool.__proto__ || Object.getPrototypeOf(ResourcePool)).call(this));\n\n    _this[MAP_FIELD] = new Map();\n    Object.defineProperties(_this, {\n      id: {\n        value: Object(__WEBPACK_IMPORTED_MODULE_1__utils_getId__[\"a\" /* default */])()\n      }\n    });\n    return _this;\n  }\n\n  _createClass(ResourcePool, [{\n    key: 'set',\n    value: function set(value) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var map = this[MAP_FIELD];\n      var resource = null;\n      if (isValidTarget(value)) {\n        if (map.has(value)) {\n          resource = map.get(value);\n        } else {\n          resource = Object(__WEBPACK_IMPORTED_MODULE_3__Resource__[\"a\" /* createResource */])(this, value, type || (typeof value === 'undefined' ? 'undefined' : _typeof(value)));\n          map.set(resource.id, resource);\n          map.set(value, resource);\n          if (this.hasEventListener(ResourcePoolEvents.RESOURCE_ADDED)) {\n            this.dispatchEvent(ResourcePoolEvents.RESOURCE_ADDED, resource);\n          }\n        }\n      }\n\n      return resource;\n    }\n  }, {\n    key: 'has',\n    value: function has(target) {\n      return this[MAP_FIELD].has(target);\n    }\n  }, {\n    key: 'get',\n    value: function get(target) {\n      return this[MAP_FIELD].get(target);\n    }\n  }, {\n    key: 'remove',\n    value: function remove(value) {\n      var map = this[MAP_FIELD];\n      var resource = map.get(value);\n      if (resource) {\n        map.delete(resource.id);\n        map.delete(resource.value);\n        if (this.hasEventListener(ResourcePoolEvents.RESOURCE_REMOVED)) {\n          this.dispatchEvent(ResourcePoolEvents.RESOURCE_REMOVED, resource);\n        }\n        resource.destroy();\n      }\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var map = this[MAP_FIELD];\n      if (this.hasEventListener(ResourcePoolEvents.POOL_CLEAR)) {\n        this.dispatchEvent(ResourcePoolEvents.POOL_CLEAR, this);\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = map[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _ref = _step.value;\n\n          var _ref2 = _slicedToArray(_ref, 2);\n\n          var key = _ref2[0];\n          var resource = _ref2[1];\n\n          if (typeof key === 'string' && key === resource.id) {\n            resource.destroy();\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      map.clear();\n\n      if (this.hasEventListener(ResourcePoolEvents.POOL_CLEARED)) {\n        this.dispatchEvent(ResourcePoolEvents.POOL_CLEARED, this);\n      }\n    }\n  }, {\n    key: 'isActive',\n    value: function isActive() {\n      return Boolean(this[MAP_FIELD]);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.clear();\n      // intentionally make it not usable after its destroyed\n      delete this[MAP_FIELD];\n      if (this.hasEventListener(ResourcePoolEvents.POOL_DESTROYED)) {\n        // FIXME why for second parameter?\n        this.dispatchEvent(ResourcePoolEvents.POOL_DESTROYED, this);\n      }\n    }\n  }]);\n\n  return ResourcePool;\n}(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default.a);\n\nResourcePool.events = ResourcePoolEvents;\n\nvar DefaultResourcePool = function (_ResourcePool) {\n  _inherits(DefaultResourcePool, _ResourcePool);\n\n  function DefaultResourcePool() {\n    _classCallCheck(this, DefaultResourcePool);\n\n    return _possibleConstructorReturn(this, (DefaultResourcePool.__proto__ || Object.getPrototypeOf(DefaultResourcePool)).apply(this, arguments));\n  }\n\n  _createClass(DefaultResourcePool, [{\n    key: 'destroy',\n\n    // INFO default ResourcePool should not be destroyable;\n    value: function destroy() {\n      throw new Error('Default ResourcePool cannot be destroyed.');\n    }\n  }]);\n\n  return DefaultResourcePool;\n}(ResourcePool);\n\nvar defaultResourcePool = new DefaultResourcePool();\n\nvar createResourcePool = function createResourcePool() {\n  return new ResourcePool();\n};\n\nsetValidTargets(getDefaultValidTargets());\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (ResourcePool);\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createRequestTarget; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__target_PROMISE_FIELD__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__target_Internals__ = __webpack_require__(45);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar getRequestPromise = function getRequestPromise(request) {\n  return request[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] || request[__WEBPACK_IMPORTED_MODULE_2__target_PROMISE_FIELD__[\"a\" /* default */]];\n};\n\n/**\r\n * The object that will be available on other side\r\n * @class DataAccessInterface.RequestTarget\r\n * @param _promise {Promise}\r\n * @param _requestHandlers {Handlers}\r\n */\n\nvar Target = function () {\n  function Target(promise, requestHandlers) {\n    var _this = this;\n\n    _classCallCheck(this, Target);\n\n    this[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] = new __WEBPACK_IMPORTED_MODULE_3__target_Internals__[\"a\" /* default */](this, promise, requestHandlers);\n\n    var handlePromise = function handlePromise(data) {\n      if (!Object(__WEBPACK_IMPORTED_MODULE_1__utils_isResource__[\"a\" /* default */])(data)) {\n        _this[__WEBPACK_IMPORTED_MODULE_2__target_PROMISE_FIELD__[\"a\" /* default */]] = promise;\n        delete _this[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]];\n      }\n    };\n\n    promise.then(handlePromise, handlePromise);\n  }\n\n  _createClass(Target, [{\n    key: 'then',\n    value: function then() {\n      var target = getRequestPromise(this);\n      return target.then.apply(target, arguments);\n    }\n  }, {\n    key: 'catch',\n    value: function _catch() {\n      var target = getRequestPromise(this);\n      return target.catch.apply(target, arguments);\n    }\n  }]);\n\n  return Target;\n}();\n\nvar createRequestTarget = function createRequestTarget(promise, requestHandlers) {\n  return new Target(promise, requestHandlers);\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (Target);\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object.freeze({\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n  DESTROYED: 'destroyed'\n}));\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__IConvertible__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__request_target_toJSON__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__resource_ResourcePool__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__resource_Resource__ = __webpack_require__(12);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object, pool) {\n  pool = pool || __WEBPACK_IMPORTED_MODULE_4__resource_ResourcePool__[\"d\" /* defaultResourcePool */];\n\n  if (object instanceof __WEBPACK_IMPORTED_MODULE_5__resource_Resource__[\"b\" /* default */]) {\n    return object.toJSON();\n  } else if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return Object(__WEBPACK_IMPORTED_MODULE_3__request_target_toJSON__[\"a\" /* default */])(object);\n  } else if (object instanceof __WEBPACK_IMPORTED_MODULE_1__IConvertible__[\"a\" /* default */] || typeof object === 'function') {\n    return pool.set(object).toJSON();\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object;\n  }\n\n  return null;\n});\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Interface for all resource types, these will be treated as resources automatically\r\n * @interface\r\n */\nvar IConvertible = function IConvertible() {\n  _classCallCheck(this, IConvertible);\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (IConvertible);\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (( false ? 'undefined' : _typeof2(exports)) === 'object' && ( false ? 'undefined' : _typeof2(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if ((typeof exports === 'undefined' ? 'undefined' : _typeof2(exports)) === 'object') exports[\"EventDispatcher\"] = factory();else root[\"EventDispatcher\"] = factory();\n})(this, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/ };\n        /******/\n        /******/ // Execute the module function\n        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/__webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/__webpack_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/__webpack_require__.d = function (exports, name, getter) {\n        /******/if (!__webpack_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, {\n            /******/configurable: false,\n            /******/enumerable: true,\n            /******/get: getter\n            /******/ });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/__webpack_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ?\n        /******/function getDefault() {\n          return module['default'];\n        } :\n        /******/function getModuleExports() {\n          return module;\n        };\n        /******/__webpack_require__.d(getter, 'a', getter);\n        /******/return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/__webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/__webpack_require__.p = \"http://localhost:8081/dist/\";\n      /******/\n      /******/ // Load entry module and return exports\n      /******/return __webpack_require__(__webpack_require__.s = 0);\n      /******/\n    }(\n    /************************************************************************/\n    /******/[\n    /* 0 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Event = undefined;\n\n      var _EventDispatcher = __webpack_require__(1);\n\n      var _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      exports.default = _EventDispatcher2.default;\n      exports.Event = _EventDispatcher.Event;\n\n      /***/\n    },\n    /* 1 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n        return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var hasOwnProp = function hasOwnProp(target, name) {\n        return Object.prototype.hasOwnProperty.call(target, name);\n      }; /**\r\n          * Created by Oleg Galaburda on 09.02.16.\r\n          * \r\n          */\n\n      var Event = exports.Event = function () {\n        function Event(type) {\n          var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n          _classCallCheck(this, Event);\n\n          this.type = type;\n          this.data = data;\n          this.defaultPrevented = false;\n        }\n\n        _createClass(Event, [{\n          key: 'toJSON',\n          value: function toJSON() {\n            return { type: this.type, data: this.data };\n          }\n        }, {\n          key: 'isDefaultPrevented',\n          value: function isDefaultPrevented() {\n            return this.defaultPrevented;\n          }\n        }, {\n          key: 'preventDefault',\n          value: function preventDefault() {\n            this.defaultPrevented = true;\n          }\n        }]);\n\n        return Event;\n      }();\n\n      var ListenersRunner = function () {\n        function ListenersRunner(listeners, onStopped, onComplete) {\n          var _this = this;\n\n          _classCallCheck(this, ListenersRunner);\n\n          this.index = -1;\n          this.immediatelyStopped = false;\n\n          this.stopImmediatePropagation = function () {\n            _this.immediatelyStopped = true;\n          };\n\n          this.listeners = listeners;\n          this.onStopped = onStopped;\n          this.onComplete = onComplete;\n        }\n\n        _createClass(ListenersRunner, [{\n          key: 'run',\n          value: function run(event, target) {\n            var listener = void 0;\n            var listeners = this.listeners;\n\n            this.augmentEvent(event);\n            // TODO this has to be handled in separate object ListenersRunner that should be\n            // created for each call() call and asked for index validation on each listener remove.\n            for (this.index = 0; this.index < listeners.length; this.index++) {\n              if (this.immediatelyStopped) break;\n              listener = listeners[this.index];\n              listener.call(target, event);\n            }\n            this.clearEvent(event);\n            this.onComplete(this);\n          }\n        }, {\n          key: 'augmentEvent',\n          value: function augmentEvent(eventObject) {\n            var event = eventObject;\n            event.stopPropagation = this.onStopped;\n            event.stopImmediatePropagation = this.stopImmediatePropagation;\n          }\n\n          /* eslint class-methods-use-this: \"off\" */\n\n        }, {\n          key: 'clearEvent',\n          value: function clearEvent(eventObject) {\n            var event = eventObject;\n            delete event.stopPropagation;\n            delete event.stopImmediatePropagation;\n          }\n        }, {\n          key: 'listenerRemoved',\n          value: function listenerRemoved(listeners, index) {\n            if (listeners === this.listeners && index <= this.index) {\n              this.index--;\n            }\n          }\n        }]);\n\n        return ListenersRunner;\n      }();\n\n      var EventListeners = function () {\n        function EventListeners() {\n          var _this2 = this;\n\n          _classCallCheck(this, EventListeners);\n\n          this._listeners = {};\n          this._runners = [];\n\n          this.removeRunner = function (runner) {\n            _this2._runners.splice(_this2._runners.indexOf(runner), 1);\n          };\n        }\n        /**\r\n         * key - event Type\r\n         * value - hash of priorities\r\n         *    key - priority\r\n         *    value - list of handlers\r\n         * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n         * @private\r\n         */\n\n        _createClass(EventListeners, [{\n          key: 'createList',\n          value: function createList(eventType, priorityOpt) {\n            var priority = parseInt(priorityOpt, 10);\n            var target = this.getPrioritiesByKey(eventType);\n            var key = String(priority);\n            var value = void 0;\n            if (hasOwnProp(target, key)) {\n              value = target[key];\n            } else {\n              value = [];\n              target[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'getPrioritiesByKey',\n          value: function getPrioritiesByKey(key) {\n            var value = void 0;\n            if (hasOwnProp(this._listeners, key)) {\n              value = this._listeners[key];\n            } else {\n              value = {};\n              this._listeners[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'add',\n          value: function add(eventType, handler, priority) {\n            var handlers = this.createList(eventType, priority);\n            if (handlers.indexOf(handler) < 0) {\n              handlers.push(handler);\n            }\n          }\n        }, {\n          key: 'has',\n          value: function has(eventType) {\n            var priority = void 0;\n            var result = false;\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              for (priority in priorities) {\n                if (hasOwnProp(priorities, priority)) {\n                  result = true;\n                  break;\n                }\n              }\n            }\n            return result;\n          }\n        }, {\n          key: 'remove',\n          value: function remove(eventType, handler) {\n            var _this3 = this;\n\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              var list = Object.getOwnPropertyNames(priorities);\n              var length = list.length;\n\n              var _loop = function _loop(index) {\n                var priority = list[index];\n                var handlers = priorities[priority];\n                var handlerIndex = handlers.indexOf(handler);\n                if (handlerIndex >= 0) {\n                  handlers.splice(handlerIndex, 1);\n                  if (!handlers.length) {\n                    delete priorities[priority];\n                  }\n                  _this3._runners.forEach(function (runner) {\n                    runner.listenerRemoved(handlers, handlerIndex);\n                  });\n                }\n              };\n\n              for (var index = 0; index < length; index++) {\n                _loop(index);\n              }\n            }\n          }\n        }, {\n          key: 'removeAll',\n          value: function removeAll(eventType) {\n            delete this._listeners[eventType];\n          }\n        }, {\n          key: 'createRunner',\n          value: function createRunner(handlers, onStopped) {\n            var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\n            this._runners.push(runner);\n            return runner;\n          }\n        }, {\n          key: 'call',\n          value: function call(event, target) {\n            var priorities = this.getPrioritiesByKey(event.type);\n            var stopped = false;\n            var stopPropagation = function stopPropagation() {\n              stopped = true;\n            };\n            if (priorities) {\n              // getOwnPropertyNames() or keys()?\n              var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\n                return a - b;\n              });\n              var length = list.length;\n\n              for (var index = 0; index < length; index++) {\n                if (stopped) break;\n                var _handlers = priorities[list[index]];\n                // in case if all handlers of priority were removed while event\n                // was dispatched and handlers become undefined.\n                if (_handlers) {\n                  var _runner = this.createRunner(_handlers, stopPropagation);\n                  _runner.run(event, target);\n                  if (_runner.immediatelyStopped) break;\n                }\n              }\n            }\n          }\n        }]);\n\n        return EventListeners;\n      }();\n\n      var EventDispatcher = function () {\n        function EventDispatcher() {\n          var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n          var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n          _classCallCheck(this, EventDispatcher);\n\n          if (!noInit) {\n            this.initialize(eventPreprocessor);\n          }\n        }\n\n        /**\r\n         * @private\r\n         */\n\n        _createClass(EventDispatcher, [{\n          key: 'initialize',\n          value: function initialize() {\n            var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n            this._eventPreprocessor = eventPreprocessor;\n            this._listeners = new EventListeners();\n          }\n        }, {\n          key: 'addEventListener',\n          value: function addEventListener(eventType, listener) {\n            var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n            this._listeners.add(eventType, listener, -priority || 0);\n          }\n        }, {\n          key: 'hasEventListener',\n          value: function hasEventListener(eventType) {\n            return this._listeners.has(eventType);\n          }\n        }, {\n          key: 'removeEventListener',\n          value: function removeEventListener(eventType, listener) {\n            this._listeners.remove(eventType, listener);\n          }\n        }, {\n          key: 'removeAllEventListeners',\n          value: function removeAllEventListeners(eventType) {\n            this._listeners.removeAll(eventType);\n          }\n        }, {\n          key: 'dispatchEvent',\n          value: function dispatchEvent(event, data) {\n            var eventObject = EventDispatcher.getEvent(event, data);\n            if (this._eventPreprocessor) {\n              eventObject = this._eventPreprocessor.call(this, eventObject);\n            }\n            this._listeners.call(eventObject);\n          }\n        }], [{\n          key: 'isObject',\n          value: function isObject(value) {\n            return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n          }\n        }, {\n          key: 'getEvent',\n          value: function getEvent(eventOrType, optionalData) {\n            var event = eventOrType;\n            if (!EventDispatcher.isObject(eventOrType)) {\n              event = new EventDispatcher.Event(String(eventOrType), optionalData);\n            }\n            return event;\n          }\n        }, {\n          key: 'create',\n          value: function create(eventPreprocessor) {\n            return new EventDispatcher(eventPreprocessor);\n          }\n\n          /* eslint no-undef: \"off\" */\n\n        }]);\n\n        return EventDispatcher;\n      }();\n\n      EventDispatcher.Event = Event;\n\n      exports.default = EventDispatcher;\n\n      /***/\n    }]\n    /******/)\n  );\n});\n//# sourceMappingURL=event-dispatcher.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(30)(module)))\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar base = \"DA/\" + Date.now() + \"/\";\nvar index = 0;\n/* harmony default export */ __webpack_exports__[\"a\"] = (function () {\n  return \"\" + base + ++index + \"/\" + Date.now();\n});\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createResource; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_getId__ = __webpack_require__(11);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar getPoolId = function getPoolId(pool) {\n  return pool ? pool.id : null;\n};\n\n/**\r\n * @exports Resource\r\n */\n\nvar Resource = function () {\n  function Resource(pool, value, type, id) {\n    var _this = this,\n        _Object$definePropert;\n\n    _classCallCheck(this, Resource);\n\n    this.toJSON = function () {\n      return _defineProperty({}, __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__[\"a\" /* default */], {\n        id: _this.id,\n        type: _this.type,\n        poolId: _this.poolId\n      });\n    };\n\n    Object.defineProperties(this, (_Object$definePropert = {}, _defineProperty(_Object$definePropert, __WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__[\"a\" /* default */], {\n      value: {\n        pool: pool,\n        value: value,\n        type: type,\n        id: id,\n        active: true,\n        poolId: getPoolId(pool)\n      }\n    }), _defineProperty(_Object$definePropert, __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__[\"a\" /* default */], {\n      get: this.toJSON\n    }), _Object$definePropert));\n  }\n\n  _createClass(Resource, [{\n    key: 'destroy',\n    value: function destroy() {\n      var internals = Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this);\n      var id = internals.id,\n          pool = internals.pool;\n\n\n      if (!internals.active) {\n        return;\n      }\n\n      internals.active = false;\n      pool.remove(id);\n\n      Object.keys(internals).map(function (name) {\n        return delete internals[name];\n      });\n    }\n  }, {\n    key: 'active',\n    get: function get() {\n      return Boolean(Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).active);\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).value;\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).type || _typeof(Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).value);\n    }\n  }, {\n    key: 'id',\n    get: function get() {\n      return Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).id;\n    }\n  }, {\n    key: 'poolId',\n    get: function get() {\n      return Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).poolId;\n    }\n  }]);\n\n  return Resource;\n}();\n\nvar createResource = function createResource(pool, value, resourceType) {\n  var id = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  return new Resource(pool, value, resourceType, id || Object(__WEBPACK_IMPORTED_MODULE_3__utils_getId__[\"a\" /* default */])());\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (Resource);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createDeferred; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Deferred = function Deferred() {\n  var _this = this;\n\n  _classCallCheck(this, Deferred);\n\n  this.promise = new Promise(function (resolve, reject) {\n    _this.resolve = resolve;\n    _this.reject = reject;\n  });\n};\n\nvar createDeferred = function createDeferred() {\n  return new Deferred();\n};\n/* harmony default export */ __webpack_exports__[\"b\"] = (Deferred);\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]].poolId;\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]].poolId;\n  }\n  return null;\n});\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  // if (object instanceof Resource || object instanceof Target) {\n  if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]].id;\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]].id;\n  }\n\n  return null;\n});\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ProxyCommandNames */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ProxyCommandFields; });\n/* unused harmony export createDescriptors */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Descriptor__ = __webpack_require__(4);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar ProxyCommandNames = Object.freeze({\n  GET: 'get',\n  SET: 'set',\n  APPLY: 'apply',\n  DELETE_PROPERTY: 'deleteProperty'\n});\n\nvar ProxyCommandFields = Object.freeze({\n  get: Symbol('proxy.commands::get'),\n  set: Symbol('proxy.commands::set'),\n  apply: Symbol('proxy.commands::apply'),\n  deleteProperty: Symbol('proxy.commands::deleteProperty')\n});\n\nvar ProxyCommandsClass = function () {\n  function ProxyCommandsClass() {\n    _classCallCheck(this, ProxyCommandsClass);\n\n    this.names = ProxyCommandNames;\n    this.fields = ProxyCommandFields;\n    this.createGETDescriptor = Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"d\" /* descriptorGeneratorFactory */])(ProxyCommandNames.GET, ProxyCommandFields.get);\n    this.createSETDescriptor = Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"d\" /* descriptorGeneratorFactory */])(ProxyCommandNames.SET, ProxyCommandFields.set);\n    this.createAPPLYDescriptor = Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"d\" /* descriptorGeneratorFactory */])(ProxyCommandNames.APPLY, ProxyCommandFields.apply);\n\n    Object.freeze(this);\n  }\n\n  _createClass(ProxyCommandsClass, [{\n    key: 'list',\n    get: function get() {\n      return [ProxyCommandNames.GET, ProxyCommandNames.SET, ProxyCommandNames.APPLY, ProxyCommandNames.DELETE_PROPERTY];\n    }\n  }, {\n    key: 'required',\n    get: function get() {\n      return [ProxyCommandNames.GET, ProxyCommandNames.SET, ProxyCommandNames.APPLY];\n    }\n  }]);\n\n  return ProxyCommandsClass;\n}();\n\nvar ProxyCommands = new ProxyCommandsClass();\n\nvar createDescriptors = function createDescriptors(handlers) {\n  var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var isTemporary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n  var resourceType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  var cacheable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var virtual = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n  var args = [isTemporary, resourceType, cacheable, virtual];\n  ProxyCommands.list.forEach(function (name) {\n    var handler = handlers[name];\n    var field = ProxyCommandFields[name];\n\n    if (handler instanceof Function) {\n      var descriptor = __WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"b\" /* createDescriptor */].apply(undefined, [name, handler, field].concat(args));\n      descriptor = Object.freeze(descriptor);\n\n      if (target instanceof Array) {\n        target.push(descriptor);\n      } else if (target) {\n        target[field] = descriptor;\n      }\n    }\n  });\n\n  return target;\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (ProxyCommands);\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\nvar getResourceType = function getResourceType(object) {\n  if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]].type;\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]].type;\n  }\n\n  return null;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (getResourceType);\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (type, args, targetId) {\n  var result = {\n    type: type,\n    args: args,\n    cmd: args[0], // cmd,\n    value: args[1], // value,\n    target: targetId\n  };\n\n  return result;\n});\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__getRawResource__ = __webpack_require__(8);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  var data = Object(__WEBPACK_IMPORTED_MODULE_1__getRawResource__[\"a\" /* default */])(object);\n  return data ? data[__WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__[\"a\" /* default */]] : null;\n});\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return RequestCommandNames; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RequestCommandFields; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Descriptor__ = __webpack_require__(4);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar RequestCommandNames = Object.freeze({\n  DESTROY: '::destroy.resource'\n});\n\nvar RequestCommandFields = Object.freeze({\n  DESTROY: Symbol('::destroy.resource')\n});\n\n/**\r\n * Destroy is unique type that exists for every Target\r\n * and does not have a method on its instances. This type will\r\n * be send each time Target.destroy() is applied to\r\n * Target in stance.\r\n */\n\nvar RequestCommands = function RequestCommands() {\n  _classCallCheck(this, RequestCommands);\n\n  this.names = RequestCommandNames;\n  this.fields = RequestCommandFields;\n\n  this.createDESTROYDescriptor = function (handler, target) {\n    var descriptor = new __WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"c\" /* default */](RequestCommandNames.DESTROY, handler, RequestCommandFields.DESTROY);\n    descriptor.cacheable = false;\n    descriptor.virtual = true;\n    Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"a\" /* addDescriptorTo */])(descriptor, target);\n    return Object.freeze(descriptor);\n  };\n\n  Object.freeze(this);\n};\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (new RequestCommands());\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Reserved words\r\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object.freeze({\n  /**\r\n   * Contains property names that cannot be used for Descriptor's\r\n   */\n  names: Object.freeze({\n    // INFO Exposed Promise method, cannot be overwritten by type\n    then: true,\n    // INFO Exposed Promise method, cannot be overwritten by type\n    catch: true\n  })\n}));\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NO_INIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createRequestFactory; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Decorator__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Target__ = __webpack_require__(6);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar NO_INIT = {};\n\nvar Factory = function () {\n  /*\r\n   function DummyCacheImpl() {\r\n   this.get = function(name, pack) {\r\n     };\r\n   this.set = function(name, pack, request) {\r\n     };\r\n   }\r\n   */\n  function Factory(handlers) {\n    var cacheImpl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, Factory);\n\n    this.cache = cacheImpl;\n    this.handlers = handlers;\n\n    if (handlers !== NO_INIT) {\n      this.decorator = Object(__WEBPACK_IMPORTED_MODULE_0__Decorator__[\"a\" /* createDecorator */])(this, handlers);\n    }\n  }\n\n  _createClass(Factory, [{\n    key: 'create',\n    value: function create(promise) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var pack = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var cacheable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      var request = Object(__WEBPACK_IMPORTED_MODULE_1__Target__[\"a\" /* createRequestTarget */])(promise, this.handlers);\n      if (this.handlers.available) {\n        this.decorator.apply(request);\n      }\n\n      if (this.cache && cacheable) {\n        this.cache.set(name, pack, request);\n      }\n\n      return request;\n    }\n  }, {\n    key: 'getCached',\n    value: function getCached(name, pack) {\n      return this.cache && this.cache.get(name, pack);\n    }\n  }]);\n\n  return Factory;\n}();\n\nvar createRequestFactory = function createRequestFactory(handlers, cacheImpl) {\n  return new Factory(handlers, cacheImpl);\n};\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (Factory);\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ConverterEvents */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createResourceConverter; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_getResourcePoolId__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_getResourceId__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_getRawResource__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__request_target_isPending__ = __webpack_require__(42);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\nvar ConverterEvents = Object.freeze({\n  RESOURCE_CREATED: 'resourceCreated',\n  RESOURCE_CONVERTED: 'resourceConverted'\n});\n\n/**\r\n * Resource converter contains bunch of methods to lookup for resources\r\n * and registering them, converting them into RAWResource or into\r\n * Targets, depending on their origin.\r\n * Before sending data, bundled resources should be registered in ResourcePool\r\n * and then converted to RAWResource objects.\r\n * After data received, its RAWResources should be converted to Targets\r\n * for not resolved resources or to resource target values otherwise.\r\n * Resource can be resolved by its `id` and `poolId`, if Converter\r\n * can find ResourcePool with id from poolId, it will try to get target\r\n * resource value and replace with it RAWResource object.\r\n * If ResourcePool not found, Converter assumes that resource come from\r\n * other origin/environment and creates Target object that can be target\r\n * object for commands.\r\n * Converter while handling data does not look deeply, so its developer\r\n * responsibility to convert deeply nested resource targets.\r\n */\n\nvar Converter = function (_EventDispatcher) {\n  _inherits(Converter, _EventDispatcher);\n\n  function Converter(factory, registry, pool) {\n    var handlers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    _classCallCheck(this, Converter);\n\n    var _this = _possibleConstructorReturn(this, (Converter.__proto__ || Object.getPrototypeOf(Converter)).call(this));\n\n    _this.factory = factory;\n    _this.pool = pool;\n    _this.registry = registry;\n\n    if (handlers) {\n      handlers.setConverter(_this);\n    }\n    return _this;\n  }\n\n  _createClass(Converter, [{\n    key: 'resourceToObject',\n    value: function resourceToObject(data) {\n      var result = void 0;\n\n      if (Object(__WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__[\"a\" /* default */])(data)) {\n        result = Object(__WEBPACK_IMPORTED_MODULE_5__utils_getRawResource__[\"a\" /* default */])(data, this.pool);\n      } else if (typeof data.toJSON === 'function') {\n        result = data.toJSON();\n      } else {\n        return data;\n      }\n\n      if (this.hasEventListener(ConverterEvents.RESOURCE_CONVERTED)) {\n        this.dispatchEvent(ConverterEvents.RESOURCE_CONVERTED, {\n          data: data,\n          result: result\n        });\n      }\n\n      return result;\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#objectToResource\r\n     * @param {*} data\r\n     * @returns {*}\r\n     * @private\r\n     */\n\n  }, {\n    key: 'objectToResource',\n    value: function objectToResource(data) {\n      var result = data;\n\n      if (Object(__WEBPACK_IMPORTED_MODULE_3__utils_isResource__[\"a\" /* default */])(data)) {\n        var poolId = Object(__WEBPACK_IMPORTED_MODULE_1__utils_getResourcePoolId__[\"a\" /* default */])(data);\n\n        if (this.registry.isRegistered(poolId)) {\n          // target object is stored in current pool\n          var target = this.registry.get(poolId).get(Object(__WEBPACK_IMPORTED_MODULE_2__utils_getResourceId__[\"a\" /* default */])(data));\n\n          if (target) {\n            result = target.value;\n          }\n        } else {\n          // target object has another origin, should be wrapped\n          result = this.factory.create(Promise.resolve(data));\n        }\n      }\n\n      if (result !== data && this.hasEventListener(ConverterEvents.RESOURCE_CREATED)) {\n        this.dispatchEvent(ConverterEvents.RESOURCE_CREATED, {\n          data: data,\n          result: result\n        });\n      }\n\n      return result;\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#lookupArray\r\n     * @param list\r\n     * @param linkConvertHandler\r\n     * @returns {Array}\r\n     * @private\r\n     */\n\n  }, {\n    key: 'lookupArray',\n    value: function lookupArray(list, linkConvertHandler) {\n      var _this2 = this;\n\n      return list.map(function (item) {\n        return linkConvertHandler.call(_this2, item);\n      });\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#lookupObject\r\n     * @param {*} data\r\n     * @param {Function} linkConvertHandler\r\n     * @returns {*}\r\n     * @private\r\n     */\n\n  }, {\n    key: 'lookupObject',\n    value: function lookupObject(data, linkConvertHandler) {\n      var _this3 = this;\n\n      return Object.getOwnPropertyNames(data).reduce(function (result, name) {\n        if (Object.prototype.hasOwnProperty.call(data, name)) {\n          result[name] = linkConvertHandler.call(_this3, data[name]);\n        }\n\n        return result;\n      }, {});\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#toJSON\r\n     * @param {*} data\r\n     * @returns {*}\r\n     * @private\r\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function toJSON(data) {\n      var result = data;\n\n      if (data !== undefined && data !== null) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__[\"a\" /* default */])(data)) {\n          // if data is Target, Resource, IConvertible, Function or RAW resource data\n          result = this.resourceToObject(data);\n        } else if (data instanceof Array) {\n          // if data is Array of values, check its\n          result = this.lookupArray(data, this.resourceToObject);\n        } else if (data.constructor === Object) {\n          // only Object instances can be looked up, other object types must be converted by hand\n          result = this.lookupObject(data, this.resourceToObject);\n        }\n      }\n      return result;\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#parse\r\n     * @param {*} data\r\n     * @returns {*}\r\n     * @private\r\n     */\n\n  }, {\n    key: 'parse',\n    value: function parse(data) {\n      var result = data;\n\n      if (data !== undefined && data !== null) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_3__utils_isResource__[\"a\" /* default */])(data)) {\n          // if data is RAW resource data\n          result = this.objectToResource(data);\n        } else if (data instanceof Array) {\n          // if data is Array of values, check its\n          result = this.lookupArray(data, this.objectToResource);\n        } else if (data.constructor === Object) {\n          result = this.lookupObject(data, this.objectToResource);\n        }\n      }\n\n      return result;\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#lookupForPending\r\n     * @param {*} data\r\n     * @returns {Array}\r\n     */\n\n  }, {\n    key: 'lookupForPending',\n    value: function lookupForPending(data) {\n      var result = [];\n\n      var add = function add(value) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_6__request_target_isPending__[\"a\" /* default */])(value)) {\n          result.push(value);\n        }\n        return value;\n      };\n\n      if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object' && data !== null) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_6__request_target_isPending__[\"a\" /* default */])(data)) {\n          result.push(data);\n        } else if (data instanceof Array) {\n          this.lookupArray(data, add);\n        } else if (data.constructor === Object) {\n          this.lookupObject(data, add);\n        }\n      }\n      return result;\n    }\n  }]);\n\n  return Converter;\n}(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default.a);\n\n/**\r\n * @param {RequestFactory} factory\r\n * @param {DataAccessInterface.ResourcePoolRegistry} registry\r\n * @param {DataAccessInterface.ResourcePool} pool\r\n * @param {Handlers} handlers\r\n * @returns {ResourceConverter}\r\n */\n\n\nConverter.events = ConverterEvents;\nvar createResourceConverter = function createResourceConverter(factory, registry, pool, handlers) {\n  return new Converter(factory, registry, pool, handlers);\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (Converter);\n\n/***/ }),\n/* 24 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__IConvertible__ = __webpack_require__(9);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__isResource__[\"a\" /* default */])(data) || typeof data === 'function' || data instanceof __WEBPACK_IMPORTED_MODULE_1__IConvertible__[\"a\" /* default */];\n});\n\n/***/ }),\n/* 25 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export PoolRegistryEvents */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createPoolRegistry; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ResourcePool__ = __webpack_require__(5);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar PoolRegistryEvents = Object.freeze({\n  RESOURCE_POOL_CREATED: 'resourcePoolCreated',\n  RESOURCE_POOL_REGISTERED: 'resourcePoolRegistered',\n  RESOURCE_POOL_REMOVED: 'resourcePoolRemoved'\n});\n\nvar POOLS_FIELD = Symbol('resource.pool.registry::pools');\n\n/**\r\n * @classdesc Collection of ResourcePool instances. Allows lookup for ResourcePool by its Id.\r\n * When ResourcePool is registered in PoolRegistry, it subscribes to\r\n * ResourcePool POOL_DESTROYED event and removes pool from registry after its destroyed.\r\n */\n\nvar PoolRegistry = function (_EventDispatcher) {\n  _inherits(PoolRegistry, _EventDispatcher);\n\n  function PoolRegistry() {\n    _classCallCheck(this, PoolRegistry);\n\n    var _this = _possibleConstructorReturn(this, (PoolRegistry.__proto__ || Object.getPrototypeOf(PoolRegistry)).call(this));\n\n    _this.handlePoolDestroyed = function (event) {\n      _this.remove(event.data);\n    };\n\n    _this[POOLS_FIELD] = {};\n\n    // every registry should keep default pool, so you can have access from anywhere\n    _this.register(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"d\" /* defaultResourcePool */]);\n    return _this;\n  }\n\n  _createClass(PoolRegistry, [{\n    key: 'createPool',\n\n\n    /**\r\n     * Create and register ResourcePool\r\n     * @returns {DataAccessInterface.ResourcePool} New ResourcePool instance\r\n     */\n    value: function createPool() {\n      var pool = Object(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"b\" /* createResourcePool */])();\n      if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_CREATED)) {\n        this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_CREATED, pool);\n      }\n      this.register(pool);\n      return pool;\n    }\n\n    /**\r\n     * Register ResourcePool instance.\r\n     * @param pool {DataAccessInterface.ResourcePool} ResourcePool instance to be registered\r\n     */\n\n  }, {\n    key: 'register',\n    value: function register(pool) {\n      if (Object.prototype.hasOwnProperty.call(this[POOLS_FIELD], pool.id)) return;\n      this[POOLS_FIELD][pool.id] = pool;\n      pool.addEventListener(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, this.handlePoolDestroyed);\n      if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REGISTERED)) {\n        this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REGISTERED, pool);\n      }\n    }\n\n    /**\r\n     * Retrieve ResourcePool instance from registry by its Id.\r\n     * @param poolId {String} ResourcePool instance Id\r\n     * @returns {DataAccessInterface.ResourcePool|null}\r\n     */\n\n  }, {\n    key: 'get',\n    value: function get(poolId) {\n      return this[POOLS_FIELD][poolId] || null;\n    }\n\n    /**\r\n     * Check if ResourcePool registered in this registry instance.\r\n     * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\r\n     * @returns {Boolean}\r\n     */\n\n  }, {\n    key: 'isRegistered',\n    value: function isRegistered(pool) {\n      return Object.prototype.hasOwnProperty.call(this[POOLS_FIELD], pool instanceof __WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"c\" /* default */] ? pool.id : String(pool));\n    }\n\n    /**\r\n     * Remove ResourcePool from current registry instance.\r\n     * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\r\n     * @returns {Boolean}\r\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(pool) {\n      var result = false;\n      pool = pool instanceof __WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"c\" /* default */] ? pool : this.get(pool);\n      if (pool) {\n        pool.removeEventListener(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, this.handlePoolDestroyed);\n        result = delete this[POOLS_FIELD][pool.id];\n      }\n      if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REMOVED)) {\n        this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REMOVED, pool);\n      }\n      return result;\n    }\n  }]);\n\n  return PoolRegistry;\n}(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default.a);\n\nPoolRegistry.events = PoolRegistryEvents;\n\n\nvar createPoolRegistry = function createPoolRegistry() {\n  return new PoolRegistry();\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (PoolRegistry);\n\n/***/ }),\n/* 26 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__ = __webpack_require__(27);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__command_Descriptor__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__command_Reserved__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__command_internal_RequestCommands__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__command_internal_ProxyCommands__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__request_Target__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__resource_PoolRegistry__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__resource_Converter__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_IConvertible__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_isResourceConvertible__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__utils_getRawResource__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__utils_getResourceData__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__utils_getResourceId__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__utils_getResourcePoolId__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__utils_getResourceType__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__utils_isResource__ = __webpack_require__(0);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"create\", function() { return __WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"dummy\", function() { return __WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__[\"dummy\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"createDeferred\", function() { return __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Deferred\", function() { return __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Descriptor\", function() { return __WEBPACK_IMPORTED_MODULE_2__command_Descriptor__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Reserved\", function() { return __WEBPACK_IMPORTED_MODULE_3__command_Reserved__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"RequestCommands\", function() { return __WEBPACK_IMPORTED_MODULE_4__command_internal_RequestCommands__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ProxyCommands\", function() { return __WEBPACK_IMPORTED_MODULE_5__command_internal_ProxyCommands__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Target\", function() { return __WEBPACK_IMPORTED_MODULE_6__request_Target__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ResourcePool\", function() { return __WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"PoolRegistry\", function() { return __WEBPACK_IMPORTED_MODULE_8__resource_PoolRegistry__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Converter\", function() { return __WEBPACK_IMPORTED_MODULE_9__resource_Converter__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"IConvertible\", function() { return __WEBPACK_IMPORTED_MODULE_10__utils_IConvertible__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"isResourceConvertible\", function() { return __WEBPACK_IMPORTED_MODULE_11__utils_isResourceConvertible__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getRawResource\", function() { return __WEBPACK_IMPORTED_MODULE_12__utils_getRawResource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourceData\", function() { return __WEBPACK_IMPORTED_MODULE_13__utils_getResourceData__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourceId\", function() { return __WEBPACK_IMPORTED_MODULE_14__utils_getResourceId__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourcePoolId\", function() { return __WEBPACK_IMPORTED_MODULE_15__utils_getResourcePoolId__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourceType\", function() { return __WEBPACK_IMPORTED_MODULE_16__utils_getResourceType__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"isResource\", function() { return __WEBPACK_IMPORTED_MODULE_17__utils_isResource__[\"a\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__[\"b\" /* default */]);\n\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return create; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_areProxiesAvailable__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_getResourcePoolId__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_getResourceId__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_createForeignResource__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__request_Handlers__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__request_ProxyFactory__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__request_Factory__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__resource_Converter__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__resource_PoolRegistry__ = __webpack_require__(25);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @exports DataAccessInterface\r\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DataAccessInterface = function () {\n\n  /**\r\n   * @class DataAccessInterface\r\n   * @classdesc Facade of Deferred Data Access library, it holds all\r\n   * of public API -- objects like ResourcePool and methods to work\r\n   * with resources.\r\n   * @param {Descriptor[]|Object.<string, Function|Descriptor>} descriptors\r\n   * @param {boolean} [proxyEnabled=false]\r\n   * @param {ResourcePoolRegistry} [poolRegistry]\r\n   * @param {ResourcePool} [pool]\r\n   * @param {ICacheImpl} [cacheImpl]\r\n   */\n  function DataAccessInterface(descriptors) {\n    var proxyEnabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var poolRegistry = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var pool = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var cacheImpl = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\n    _classCallCheck(this, DataAccessInterface);\n\n    this.poolRegistry = poolRegistry;\n    this.pool = pool;\n    this.cache = cacheImpl;\n    this.initialize(descriptors, proxyEnabled);\n  }\n\n  _createClass(DataAccessInterface, [{\n    key: 'initialize',\n    value: function initialize(descriptors, proxyEnabled) {\n      var _this = this;\n\n      if (proxyEnabled && !Object(__WEBPACK_IMPORTED_MODULE_0__utils_areProxiesAvailable__[\"a\" /* default */])()) {\n        throw new Error('Proxies are not available in this environment');\n      }\n\n      this.handlers = Object(__WEBPACK_IMPORTED_MODULE_5__request_Handlers__[\"a\" /* createHandlers */])(proxyEnabled);\n\n      if (proxyEnabled) {\n        this.factory = Object(__WEBPACK_IMPORTED_MODULE_6__request_ProxyFactory__[\"a\" /* createProxyFactory */])(this.handlers, this.cache);\n      } else {\n        this.factory = Object(__WEBPACK_IMPORTED_MODULE_7__request_Factory__[\"b\" /* createRequestFactory */])(this.handlers, this.cache);\n      }\n\n      if (!this.poolRegistry) {\n        this.poolRegistry = Object(__WEBPACK_IMPORTED_MODULE_10__resource_PoolRegistry__[\"a\" /* createPoolRegistry */])();\n      }\n\n      if (this.pool) {\n        this.poolRegistry.register(this.pool);\n      } else if (this.pool !== undefined) {\n        this.pool = this.poolRegistry.createPool();\n      } else {\n        this.pool = __WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__[\"d\" /* defaultResourcePool */];\n      }\n\n      this.resourceConverter = Object(__WEBPACK_IMPORTED_MODULE_9__resource_Converter__[\"a\" /* createResourceConverter */])(this.factory, this.poolRegistry, this.pool, this.handlers);\n\n      var poolDestroyedHandler = function poolDestroyedHandler() {\n        _this.pool.removeEventListener(__WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, poolDestroyedHandler);\n        _this.pool = _this.poolRegistry.createPool();\n        _this.pool.addEventListener(__WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, poolDestroyedHandler);\n      };\n\n      this.handlers.setCommands(descriptors);\n      this.pool.addEventListener(__WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, poolDestroyedHandler);\n    }\n  }, {\n    key: 'parse',\n    value: function parse(data) {\n      return this.resourceConverter.parse(data);\n    }\n  }, {\n    key: 'dummy',\n    value: function dummy() {\n      return this.parse(Object(__WEBPACK_IMPORTED_MODULE_4__utils_createForeignResource__[\"a\" /* default */])());\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON(data) {\n      return this.resourceConverter.toJSON(data);\n    }\n  }, {\n    key: 'isOwnResource',\n    value: function isOwnResource(resource) {\n      /**\r\n       * @type {DataAccessInterface.ResourcePool}\r\n       */\n      var pool = void 0;\n      if (Object(__WEBPACK_IMPORTED_MODULE_1__utils_isResource__[\"a\" /* default */])(resource)) {\n        pool = this.poolRegistry.get(Object(__WEBPACK_IMPORTED_MODULE_2__utils_getResourcePoolId__[\"a\" /* default */])(resource));\n        return pool && pool.has(Object(__WEBPACK_IMPORTED_MODULE_3__utils_getResourceId__[\"a\" /* default */])(resource));\n      }\n      return false;\n    }\n  }, {\n    key: 'proxyEnabled',\n    get: function get() {\n      return this.handlers.proxyEnabled;\n    }\n  }]);\n\n  return DataAccessInterface;\n}();\n\nvar create = function create(handlers) {\n  var proxyEnabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var poolRegistry = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var pool = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  var cacheImpl = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n  return new DataAccessInterface(handlers, proxyEnabled, poolRegistry, pool, cacheImpl);\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (DataAccessInterface);\n\n/***/ }),\n/* 28 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (function () {\n  return typeof Proxy === 'function';\n});\n\n/***/ }),\n/* 29 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getInternals__ = __webpack_require__(3);\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__getInternals__[\"a\" /* default */])(target).toJSON();\n});\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_Deferred__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Queue__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Children__ = __webpack_require__(33);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar SubTargets = function (_Children) {\n  _inherits(SubTargets, _Children);\n\n  function SubTargets() {\n    var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    _classCallCheck(this, SubTargets);\n\n    var _this = _possibleConstructorReturn(this, (SubTargets.__proto__ || Object.getPrototypeOf(SubTargets)).call(this, children));\n\n    _this.handleSubRequest = function (name, pack, deferred, child) {\n      var handlers = _this.parent.handlers;\n\n      return handlers.handle(_this.parent, name, pack, deferred, child);\n    };\n\n    _this.queue = null;\n    _this.setParent(parent);\n    return _this;\n  }\n\n  _createClass(SubTargets, [{\n    key: 'setParent',\n    value: function setParent(parent) {\n      this.parent = parent;\n    }\n  }, {\n    key: 'parentResolved',\n    value: function parentResolved() {\n      if (this.hasQueue()) {\n        this.queue.send(this.parent.id, this.handleSubRequest);\n        this.queue = null;\n      }\n    }\n  }, {\n    key: 'parentRejected',\n    value: function parentRejected() {\n      var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      this.queue.reject(new Error(message || 'This request was rejected before sending.'));\n      this.queue = null;\n    }\n  }, {\n    key: 'hasQueue',\n    value: function hasQueue() {\n      return Boolean(this.queue && this.queue.length);\n    }\n  }, {\n    key: 'send',\n    value: function send(name, pack) {\n      var deferred = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var child = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var handlers = this.parent.handlers;\n\n      var promise = void 0;\n\n      if (!handlers.hasCommand(name)) {\n        return Promise.reject(new Error('Request handler for \"' + name + '\" is not registered.'));\n      }\n\n      promise = this.handleSend(name, pack, deferred || Object(__WEBPACK_IMPORTED_MODULE_0__utils_Deferred__[\"a\" /* createDeferred */])(), child);\n\n      if (child) {\n        promise = this.register(child);\n      }\n\n      return promise;\n    }\n  }, {\n    key: 'handleSend',\n    value: function handleSend(name, pack, deferred) {\n      var child = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var status = this.parent.status;\n\n\n      switch (status) {\n        case __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__[\"a\" /* default */].PENDING:\n          if (!this.queue) {\n            this.queue = Object(__WEBPACK_IMPORTED_MODULE_2__Queue__[\"a\" /* createQueue */])();\n          }\n\n          return this.queue.add(name, pack, deferred, child);\n        case __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__[\"a\" /* default */].REJECTED:\n          return Promise.reject(new Error('Target object was rejected and cannot be used for calls.'));\n        case __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__[\"a\" /* default */].DESTROYED:\n          return Promise.reject(new Error('Target object was destroyed and cannot be used for calls.'));\n        case __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__[\"a\" /* default */].RESOLVED:\n          this.handleSubRequest(name, pack, deferred, child);\n          return deferred.promise;\n        default:\n          return Promise.reject(new Error('Target object is in unknown status \"' + status + '\".'));\n      }\n    }\n  }]);\n\n  return SubTargets;\n}(__WEBPACK_IMPORTED_MODULE_3__Children__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (SubTargets);\n\n/***/ }),\n/* 32 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createQueue; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Queue = function () {\n  function Queue() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    _classCallCheck(this, Queue);\n\n    this.list = list;\n  }\n\n  _createClass(Queue, [{\n    key: 'add',\n    value: function add(name, pack, deferred, child) {\n      this.list.push({\n        name: name,\n        pack: pack,\n        deferred: deferred,\n        child: child\n      });\n\n      return deferred.promise;\n    }\n  }, {\n    key: 'getList',\n    value: function getList() {\n      return [].concat(_toConsumableArray(this.list));\n    }\n  }, {\n    key: 'getCommands',\n    value: function getCommands() {\n      // return this.list.map(([name, pack]) => pack.type);\n      return this.list.map(function (_ref) {\n        var name = _ref.name;\n        return name;\n      });\n    }\n  }, {\n    key: 'send',\n    value: function send(id, callback) {\n      this.list.forEach(function (_ref2) {\n        var name = _ref2.name,\n            pack = _ref2.pack,\n            deferred = _ref2.deferred,\n            child = _ref2.child;\n\n        pack.target = id;\n        callback(name, pack, deferred, child);\n      });\n      this.list = [];\n    }\n  }, {\n    key: 'reject',\n    value: function reject(message) {\n      var error = new Error(message || 'This request was rejected before sending.');\n      this.list.forEach(function (_ref3) {\n        var deferred = _ref3.deferred;\n        return deferred.reject(error);\n      });\n      this.list = [];\n    }\n  }, {\n    key: 'length',\n    get: function get() {\n      return this.list.length;\n    }\n  }]);\n\n  return Queue;\n}();\n\nvar createQueue = function createQueue() {\n  var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return new Queue(list);\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (Queue);\n\n/***/ }),\n/* 33 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getRawPromise__ = __webpack_require__(34);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar Children = function () {\n  function Children() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    _classCallCheck(this, Children);\n\n    this.list = list;\n  }\n\n  _createClass(Children, [{\n    key: 'register',\n    value: function register(child) {\n      var _this = this;\n\n      var handler = function handler() {\n        var index = _this.list.indexOf(child);\n        if (index >= 0) {\n          _this.list.splice(index, 1);\n        }\n      };\n\n      this.list.push(child);\n      // getRawPromise() is needed to capture promise resolution directly,\n      // otherwise this .then() call will be counted in child.hadChildPromises.\n      return Object(__WEBPACK_IMPORTED_MODULE_0__getRawPromise__[\"a\" /* default */])(child).then(handler, handler);\n    }\n  }, {\n    key: 'getList',\n    value: function getList() {\n      return [].concat(_toConsumableArray(this.list));\n    }\n  }, {\n    key: 'contains',\n    value: function contains(item) {\n      return this.list.indexOf(item) >= 0;\n    }\n  }, {\n    key: 'length',\n    get: function get() {\n      return this.list.length;\n    }\n  }, {\n    key: 'lastItem',\n    get: function get() {\n      var length = this.list.length;\n\n      return length ? this.list[length - 1] : null;\n    }\n  }]);\n\n  return Children;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Children);\n\n/***/ }),\n/* 34 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getInternals__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__PROMISE_FIELD__ = __webpack_require__(44);\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target) {\n  var internals = Object(__WEBPACK_IMPORTED_MODULE_0__getInternals__[\"a\" /* default */])(target);\n  if (internals && internals.promise) {\n    return internals.promise;\n  }\n  return target[__WEBPACK_IMPORTED_MODULE_1__PROMISE_FIELD__[\"a\" /* default */]] || null;\n});\n\n/***/ }),\n/* 35 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__getId__ = __webpack_require__(11);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function () {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var resource = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  resource[__WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__[\"a\" /* default */]] = {\n    id: 'foreign-id-' + Object(__WEBPACK_IMPORTED_MODULE_1__getId__[\"a\" /* default */])(),\n    type: type || (typeof resource === 'undefined' ? 'undefined' : _typeof(resource)),\n    poolId: 'foreign-poolId-' + Object(__WEBPACK_IMPORTED_MODULE_1__getId__[\"a\" /* default */])()\n  };\n\n  return resource;\n});\n\n/***/ }),\n/* 36 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export areProxyHandlersAvailable */\n/* unused harmony export HandlersEvents */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createHandlers; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_filterRequestHandlers__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_getResourceType__ = __webpack_require__(17);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n/**\r\n * Key for default type for handlers that will be applied to any\r\n * resource that does not have type-specific handlers registered\r\n * @type {string}\r\n */\nvar DEFAULT_KEY = '';\n\nvar areProxyHandlersAvailable = function areProxyHandlersAvailable(handlers) {\n  var throwError = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var result = true;\n  __WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"b\" /* default */].required.forEach(function (name) {\n    if (!(__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */][name] in handlers)) {\n      result = false;\n      if (throwError) {\n        throw new Error('For Proxy interface, handler \"' + name + '\" should be set.');\n      }\n    }\n  });\n\n  return result;\n};\n\nvar HandlersEvents = Object.freeze({\n  HANDLERS_UPDATED: 'handlersUpdated'\n});\n\nvar Handlers = function () {\n  function Handlers() {\n    var proxyEnabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _classCallCheck(this, Handlers);\n\n    // named collection of Descriptor lists that may be applied\n    this.properties = _defineProperty({}, DEFAULT_KEY, []);\n    this.descriptors = _defineProperty({}, DEFAULT_KEY, []);\n    this.proxyEnabled = Boolean(proxyEnabled);\n    this.converter = null;\n  }\n\n  _createClass(Handlers, [{\n    key: 'setConverter',\n    value: function setConverter(converter) {\n      this.converter = converter;\n    }\n  }, {\n    key: 'setCommands',\n    value: function setCommands(handlers) {\n      var _this = this;\n\n      this.setCommandsByType(DEFAULT_KEY, handlers);\n\n      Object.keys(handlers).forEach(function (name) {\n        var type = handlers[name];\n        if (type && (type.constructor === Object || type instanceof Array)) {\n          _this.setCommandsByType(name, type);\n        }\n      });\n\n      if (this.proxyEnabled) {\n        areProxyHandlersAvailable(this.descriptors[DEFAULT_KEY], true);\n      }\n    }\n  }, {\n    key: 'setCommandsByType',\n    value: function setCommandsByType(type, handlers) {\n      var descrs = {};\n      var props = [];\n      Object(__WEBPACK_IMPORTED_MODULE_2__utils_filterRequestHandlers__[\"a\" /* default */])(handlers, descrs, props);\n      this.descriptors[type] = descrs;\n      this.properties[type] = props;\n    }\n  }, {\n    key: 'hasCommand',\n    value: function hasCommand(name, type) {\n      return this.descriptors[type] && Object.prototype.hasOwnProperty.call(this.descriptors[type], name) || this.descriptors[DEFAULT_KEY] && Object.prototype.hasOwnProperty.call(this.descriptors[DEFAULT_KEY], name);\n    }\n  }, {\n    key: 'getPropertyCommands',\n    value: function getPropertyCommands() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      var list = this.properties[type || DEFAULT_KEY] || [];\n      return [].concat(_toConsumableArray(list));\n    }\n  }, {\n    key: 'getPropertyNames',\n    value: function getPropertyNames() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      return this.getPropertyCommands(type).map(function (descriptor) {\n        return descriptor.name;\n      });\n    }\n  }, {\n    key: 'getCommands',\n    value: function getCommands(type) {\n      if (this.descriptors[type]) {\n        return Object.assign({}, this.descriptors[DEFAULT_KEY], this.descriptors[type]);\n      }\n\n      return this.descriptors[DEFAULT_KEY];\n    }\n  }, {\n    key: 'getCommand',\n    value: function getCommand(name, type) {\n      var descriptor = this.descriptors[type] && this.descriptors[type][name] || this.descriptors[DEFAULT_KEY] && this.descriptors[DEFAULT_KEY][name];\n\n      return descriptor || null;\n    }\n  }, {\n    key: 'handle',\n    value: function handle(parentRequest, name, pack, deferred, resultRequest) {\n      var _this2 = this;\n\n      var list = this.converter ? this.converter.lookupForPending(pack.value) : null;\n      if (list && list.length) {\n        // FIXME Need to test on all platforms: might not work because may need list of\n        // Promise objects, not Targets\n        Promise.all(list).then(function () {\n          _this2.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\n        });\n      } else {\n        this.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\n      }\n    }\n  }, {\n    key: 'handleImmediately',\n    value: function handleImmediately(parentRequest, name, pack, deferred, resultRequest) {\n      var descriptor = this.getCommand(name, Object(__WEBPACK_IMPORTED_MODULE_3__utils_getResourceType__[\"a\" /* default */])(parentRequest));\n      if (descriptor instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n        // INFO result should be applied to deferred.resolve() or deferred.reject()\n        // FIXME change pack to {command, args} object\n        descriptor.handler(parentRequest, pack, deferred, resultRequest);\n      } else {\n        throw new Error('Command descriptor for \"' + name + '\" was not found.');\n      }\n    }\n  }, {\n    key: 'available',\n    get: function get() {\n      var _this3 = this;\n\n      var nonEmptyListIndex = Object.getOwnPropertyNames(this.properties).findIndex(function (name) {\n        var list = _this3.properties[name];\n        return Boolean(list && list.length);\n      });\n      return nonEmptyListIndex >= 0;\n    }\n  }]);\n\n  return Handlers;\n}();\n\nHandlers.events = HandlersEvents;\n\n\nvar createHandlers = function createHandlers(proxyEnabled) {\n  return new Handlers(proxyEnabled);\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (Handlers);\n\n/***/ }),\n/* 37 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command_Reserved__ = __webpack_require__(21);\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\n/**\r\n * Checks for Descriptor uniqueness and reserved words usage.\r\n * @param {DataAccessInterface.Descriptor} descriptor\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n * @private\r\n */\nvar applyDescriptor = function applyDescriptor(descriptor, descriptors, properties) {\n  var name = descriptor.name;\n\n  if (name in __WEBPACK_IMPORTED_MODULE_1__command_Reserved__[\"a\" /* default */].names) {\n    throw new Error('Name \"' + name + '\" is reserved and cannot be used in descriptor.');\n  }\n  if (Object.prototype.hasOwnProperty.call(descriptors, name) && descriptors[name] instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n    throw new Error('Field names should be unique, \"' + String(name) + '\" field has duplicates.');\n  }\n  descriptors[name] = descriptor;\n  if (!descriptor.virtual) {\n    properties.push(descriptor);\n  }\n};\n\n/**\r\n * @param {Array} handlers\r\n * @param {Object} descriptors\r\n * @private\r\n */\nvar filterArray = function filterArray(handlers, descriptors, properties) {\n  handlers.forEach(function (value) {\n    if (value instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n      applyDescriptor(value, descriptors, properties);\n    }\n  });\n};\n\n/**\r\n * @param {Object} handlers\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n * @private\r\n */\nvar filterHash = function filterHash(handlers, descriptors, properties) {\n  if (!handlers) return;\n  [].concat(_toConsumableArray(Object.getOwnPropertyNames(handlers)), _toConsumableArray(Object.getOwnPropertySymbols(handlers))).forEach(function (name) {\n    var value = handlers[name];\n    if (typeof value === 'function') {\n      value = Object(__WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"b\" /* createDescriptor */])(name, value);\n    }\n    if (value instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n      applyDescriptor(value, descriptors, properties);\n    }\n  });\n};\n\n/**\r\n * @method Handlers.filterHandlers\r\n * @param {Array|Object} handlers\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (handlers, descriptors, properties) {\n  if (handlers instanceof Array) {\n    filterArray(handlers, descriptors, properties);\n  } else {\n    filterHash(handlers, descriptors, properties);\n  }\n});\n\n/***/ }),\n/* 38 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export createProxyHandlers */\n/* unused harmony export applyProxyWithDefaultHandlers */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createProxyFactory; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Factory__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__ = __webpack_require__(16);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\nvar EXCLUSIONS = {\n  /*\r\n   INFO arguments and caller were included because they are required function properties\r\n   */\n  arguments: true,\n  caller: true,\n  prototype: true\n};\n\nvar createFunctionWrapper = function createFunctionWrapper(target) {\n  // INFO Target must be a function so I could use Proxy.call() interceptor.\n  function requestTargetProxy() {}\n\n  requestTargetProxy.target = target;\n\n  return requestTargetProxy;\n};\n\nvar wrapWithProxy = function wrapWithProxy(target, handlers) {\n  return new Proxy(createFunctionWrapper(target), handlers);\n};\n\nvar proxyGet = function proxyGet(wrapper, name) {\n  var target = wrapper.target;\n\n  if (name in target || name in EXCLUSIONS || (typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'symbol') {\n    return target[name];\n  }\n  // INFO Proxy should be already applied, so no need in additional wrapping\n  return target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].get](name);\n};\n\n// INFO Proxy should be already applied, so no need in additional wrapping\nvar proxyApply = function proxyApply(wrapper, thisValue, args) {\n  return wrapper.target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].apply](null, args);\n};\n\nvar proxySet = function proxySet(wrapper, name, value) {\n  var target = wrapper.target;\n\n\n  if (name in target || name in EXCLUSIONS || (typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'symbol') {\n    target[name] = value;\n    return value;\n  }\n\n  if (__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].set in target) {\n    target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].set](name, value);\n    return true;\n  }\n\n  return false;\n};\n\nvar proxyHas = function proxyHas(wrapper, name) {\n  return Object.prototype.hasOwnProperty.call(wrapper.target, name);\n};\n\nvar proxyDeleteProperty = function proxyDeleteProperty(wrapper, name) {\n  var target = wrapper.target;\n\n  if (__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].deleteProperty in target) {\n    target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].deleteProperty](name);\n    return true;\n  }\n\n  return false;\n};\n\nvar proxyOwnKeys = function proxyOwnKeys(wrapper) {\n  var target = wrapper.target;\n\n  return [].concat(_toConsumableArray(Object.getOwnPropertyNames(target)), _toConsumableArray(Object.getOwnPropertyNames(EXCLUSIONS)));\n};\n\nvar proxyEnumerate = function proxyEnumerate(wrapper) {\n  var target = wrapper.target;\n\n  return [].concat(_toConsumableArray(Object.getOwnPropertyNames(target)), _toConsumableArray(Object.getOwnPropertyNames(EXCLUSIONS)))[Symbol.iterator]();\n};\n\nvar proxyGetOwnPropertyDescriptor = function proxyGetOwnPropertyDescriptor(wrapper, name) {\n  if (Object.prototype.hasOwnProperty.call(EXCLUSIONS, name)) {\n    return Object.getOwnPropertyDescriptor(wrapper, name);\n  }\n  return Object.getOwnPropertyDescriptor(wrapper.target, name);\n};\n\n/**\r\n * Builds proper handlers hash for Proxy\r\n * @returns {Function}\r\n */\nvar createProxyHandlers = function createProxyHandlers() {\n  var handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.assign({\n    get: proxyGet,\n    apply: proxyApply,\n    set: proxySet,\n    has: proxyHas,\n    deleteProperty: proxyDeleteProperty,\n    ownKeys: proxyOwnKeys,\n    enumerate: proxyEnumerate,\n    getOwnPropertyDescriptor: proxyGetOwnPropertyDescriptor\n  }, handlers);\n};\n\nvar PROXY_HANDLERS = createProxyHandlers();\n\nvar ProxyFactory = function (_Factory) {\n  _inherits(ProxyFactory, _Factory);\n\n  function ProxyFactory(handlers, cacheImpl) {\n    _classCallCheck(this, ProxyFactory);\n\n    var _this = _possibleConstructorReturn(this, (ProxyFactory.__proto__ || Object.getPrototypeOf(ProxyFactory)).call(this, __WEBPACK_IMPORTED_MODULE_0__Factory__[\"a\" /* NO_INIT */]));\n\n    _this.handlers = handlers;\n    _this.factory = Object(__WEBPACK_IMPORTED_MODULE_0__Factory__[\"b\" /* createRequestFactory */])(handlers, cacheImpl);\n    _this.factory.decorator.setFactory(_this);\n    return _this;\n  }\n\n  _createClass(ProxyFactory, [{\n    key: 'create',\n    value: function create(promise) {\n      var instance = this.factory.create(promise);\n\n      if (this.handlers.available) {\n        return wrapWithProxy(instance, PROXY_HANDLERS);\n      }\n\n      return instance;\n    }\n  }, {\n    key: 'getCached',\n    value: function getCached(name, pack) {\n      return this.factory.getCached(name, pack);\n    }\n  }, {\n    key: 'createCached',\n    value: function createCached(promise, name, pack) {\n      var instance = this.factory.createCached(promise, name, pack);\n\n      if (this.handlers.available) {\n        return wrapWithProxy(instance, PROXY_HANDLERS);\n      }\n\n      return instance;\n    }\n  }]);\n\n  return ProxyFactory;\n}(__WEBPACK_IMPORTED_MODULE_0__Factory__[\"c\" /* default */]);\n\nvar applyProxyWithDefaultHandlers = function applyProxyWithDefaultHandlers(target) {\n  return wrapWithProxy(target, PROXY_HANDLERS);\n};\n\nvar createProxyFactory = function createProxyFactory(handlers, cacheImpl) {\n  return new ProxyFactory(handlers, cacheImpl);\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (ProxyFactory);\n\n/***/ }),\n/* 39 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createDecorator; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command_CallbackFactory__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_getResourceType__ = __webpack_require__(17);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar Decorator = function () {\n  function Decorator(factory, handlers) {\n    _classCallCheck(this, Decorator);\n\n    this.handlers = handlers;\n    this.members = new __WEBPACK_IMPORTED_MODULE_0__command_CallbackFactory__[\"a\" /* default */](factory);\n  }\n\n  _createClass(Decorator, [{\n    key: 'apply',\n    value: function apply(request) {\n      var _this = this;\n\n      if (!this.handlers.available) {\n        return request;\n      }\n\n      var descriptors = this.handlers.getPropertyCommands(Object(__WEBPACK_IMPORTED_MODULE_1__utils_getResourceType__[\"a\" /* default */])(request));\n      return descriptors.forEach(function (descriptor) {\n        request[descriptor.name] = _this.members.get(descriptor);\n      });\n    }\n  }, {\n    key: 'setFactory',\n    value: function setFactory(factory) {\n      if (factory) {\n        this.members.setFactory(factory);\n      }\n    }\n  }]);\n\n  return Decorator;\n}();\n\nvar createDecorator = function createDecorator(factory, handlers) {\n  return new Decorator(factory, handlers);\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (Decorator);\n\n/***/ }),\n/* 40 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__request_target_getInternals__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__request_target_setTemporary__ = __webpack_require__(41);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar createHandlerFor = function createHandlerFor(factoryWrapper, propertyName, commandType, isTemporary, cacheable) {\n  var factory = factoryWrapper.factory,\n      checkState = factoryWrapper.checkState,\n      getChildRequest = factoryWrapper.getChildRequest;\n\n\n  function commandHandler(command, value) {\n    var target = Object(__WEBPACK_IMPORTED_MODULE_0__request_target_getInternals__[\"a\" /* default */])(this);\n    var result = void 0;\n    var promise = void 0;\n    if (target) {\n      for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n\n      var pack = Object(__WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__[\"a\" /* default */])(commandType, [command, value].concat(args), target.id);\n      // FIXME Explicitly pass scope\n      var request = getChildRequest(propertyName, pack, cacheable);\n      result = request.child;\n      if (request.deferred) {\n        promise = target.send(propertyName, pack, request.deferred, result);\n        if (promise) {\n          // FIXME isTemporary must be called before `result` was resolved\n          // FIXME remove default `isTemporary`, if not defined just skip\n          checkState(promise, isTemporary, this, result, pack);\n        } else {\n          result = null;\n          promise = Promise.reject(new Error('Initial request failed and didn\\'t result in promise.'));\n        }\n      }\n    } else {\n      promise = Promise.reject(new Error('Target object is not a resource, so cannot be used for calls.'));\n    }\n    return result || factory.create(promise);\n  }\n\n  return commandHandler;\n};\n\nvar CallbackFactory = function () {\n  function CallbackFactory() {\n    var _this = this;\n\n    var factory = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    _classCallCheck(this, CallbackFactory);\n\n    this.members = new Map();\n    this.factory = null;\n\n    this.getChildRequest = function (propertyName, pack, cacheable) {\n      var child = void 0;\n      var deferred = void 0;\n\n      if (cacheable) {\n        child = _this.factory.getCached(propertyName, pack);\n      }\n\n      if (!child) {\n        deferred = Object(__WEBPACK_IMPORTED_MODULE_1__utils_Deferred__[\"a\" /* createDeferred */])();\n        child = _this.factory.create(deferred.promise, propertyName, pack, cacheable);\n      }\n\n      return { child: child, deferred: deferred };\n    };\n\n    this.checkState = function (promise, isTemporaryFn, parentRequest, childRequest, pack) {\n      promise.then(function (data) {\n        var isTemporary = Boolean(isTemporaryFn(parentRequest, childRequest, pack, data));\n        Object(__WEBPACK_IMPORTED_MODULE_3__request_target_setTemporary__[\"a\" /* default */])(childRequest, isTemporary);\n      });\n    };\n\n    this.setFactory(factory);\n  }\n\n  /**\r\n   * @param {Descriptor} descriptor\r\n   * @returns {Function}\r\n   * @private\r\n   */\n\n\n  _createClass(CallbackFactory, [{\n    key: 'get',\n    value: function get(descriptor) {\n      var propertyName = descriptor.name;\n      if (!this.members.has(propertyName)) {\n        this.members.set(propertyName, this.create(descriptor.name, descriptor.type, descriptor.isTemporary, descriptor.cacheable));\n      }\n      return this.members.get(propertyName);\n    }\n  }, {\n    key: 'create',\n    value: function create(propertyName, commandType, isTemporary, cacheable) {\n      return createHandlerFor(this, propertyName, commandType, isTemporary, cacheable);\n    }\n  }, {\n    key: 'setFactory',\n    value: function setFactory(factory) {\n      this.factory = factory;\n    }\n  }]);\n\n  return CallbackFactory;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (CallbackFactory);\n\n/***/ }),\n/* 41 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getInternals__ = __webpack_require__(3);\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target, value) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__getInternals__[\"a\" /* default */])(target).temporary = Boolean(value);\n});\n\n/***/ }),\n/* 42 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getStatus__ = __webpack_require__(43);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__ = __webpack_require__(7);\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (value) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__getStatus__[\"a\" /* default */])(value) === __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__[\"a\" /* default */].PENDING;\n});\n\n/***/ }),\n/* 43 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getInternals__ = __webpack_require__(3);\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__getInternals__[\"a\" /* default */])(target).status;\n});\n\n/***/ }),\n/* 44 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Symbol('request.target::promise'));\n\n/***/ }),\n/* 45 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_getResourceData__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__command_internal_RequestCommands__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__SubTargets__ = __webpack_require__(31);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\nvar Internals = function (_SubTargets) {\n  _inherits(Internals, _SubTargets);\n\n  function Internals(target, promise, handlers) {\n    _classCallCheck(this, Internals);\n\n    var _this = _possibleConstructorReturn(this, (Internals.__proto__ || Object.getPrototypeOf(Internals)).call(this));\n\n    _this.handlePromiseResolve = function (value) {\n      var result = { target: _this.target, value: value };\n      _this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED;\n      if (Object(__WEBPACK_IMPORTED_MODULE_3__utils_isResource__[\"a\" /* default */])(value)) {\n        _this.link = Object(__WEBPACK_IMPORTED_MODULE_4__utils_getResourceData__[\"a\" /* default */])(value);\n        /*\r\n         INFO Sending \"this\" as result of resolve() handler, causes infinite\r\n         loop of this.then(), so I've used wrapper object\r\n        */\n        // FIXME Propagate proxified target, not original object, so it will be possible to use it as before\n        // best way of doing this is probably replacing \"target\" in ProxyFactory\n        // FIXME request target must be anything, not only resource, could be any value\n        // we should be able to make request against any type of value that was returned by server successfully\n        result.value = _this.target;\n      }\n\n      _this.parentResolved();\n\n      if (_this.temporary) {\n        _this.destroy();\n      }\n\n      return result;\n    };\n\n    _this.handlePromiseReject = function (value) {\n      _this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].REJECTED;\n      _this.parentRejected('Target of the call was rejected and call cannot be sent.');\n      return Promise.reject(value);\n    };\n\n    _this.handlers = handlers;\n    _this.target = target;\n    _this.link = {};\n    // INFO this should be not initialized i.e. keep it undefined, this will be checked later\n    _this.temporary = undefined;\n    _this.hadChildPromises = false;\n    _this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].PENDING;\n    _this.promise = promise.then(_this.handlePromiseResolve).catch(_this.handlePromiseReject);\n    _this.setParent(_this);\n    return _this;\n  }\n\n  _createClass(Internals, [{\n    key: 'isActive',\n    value: function isActive() {\n      return this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].PENDING || this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED;\n    }\n  }, {\n    key: 'canBeDestroyed',\n    value: function canBeDestroyed() {\n      return this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED || this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].REJECTED;\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var promise = null;\n      if (this.canBeDestroyed()) {\n        // INFO I should not clear children list, since they are pending and requests already sent.\n        if (this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED) {\n          promise = this.send(__WEBPACK_IMPORTED_MODULE_5__command_internal_RequestCommands__[\"a\" /* RequestCommandFields */].DESTROY, Object(__WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_5__command_internal_RequestCommands__[\"b\" /* RequestCommandNames */].DESTROY, [null, null], this.id));\n        } else {\n          promise = Promise.resolve();\n        }\n        this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].DESTROYED;\n      } else {\n        promise = Promise.reject(new Error('Invalid or already destroyed target.'));\n      }\n      return promise;\n    }\n  }, {\n    key: 'then',\n    value: function then(handleResolve, handleReject) {\n      var child = this.promise.then(handleResolve, handleReject);\n      this.hadChildPromises = true;\n      return child;\n    }\n  }, {\n    key: 'catch',\n    value: function _catch(handleReject) {\n      var child = this.promise.catch(handleReject);\n      this.hadChildPromises = true;\n      return child;\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return _defineProperty({}, __WEBPACK_IMPORTED_MODULE_1__utils_TARGET_DATA__[\"a\" /* default */], {\n        id: this.link.id,\n        type: this.link.type,\n        poolId: this.link.poolId\n      });\n    }\n  }, {\n    key: 'poolId',\n    get: function get() {\n      return this.link.poolId || null;\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return this.link.type || null;\n    }\n  }, {\n    key: 'id',\n    get: function get() {\n      return this.link.id || null;\n    }\n  }]);\n\n  return Internals;\n}(__WEBPACK_IMPORTED_MODULE_6__SubTargets__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Internals);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// deferred-data-access.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 26);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap fa25b604cdbb19649e5e","import TARGET_INTERNALS from './TARGET_INTERNALS';\r\nimport TARGET_DATA from './TARGET_DATA';\r\nimport Target from '../request/Target';\r\nimport Resource from '../resource/Resource';\r\n\r\nexport default (object) => object instanceof Resource ||\r\n  object instanceof Target ||\r\n  (object && (\r\n    // this case for Targets and Resources which contain\r\n    // data in TARGET_INTERNALS Symbol\r\n    // We check for their types above but in cases when Proxies are enabled\r\n    // their type will be Function and verification will come to this case\r\n    typeof object[TARGET_INTERNALS] === 'object' ||\r\n    // this case for RAW resources passed via JSON conversion,\r\n    // look like {'resource::data': {id: '1111', poolId: '22222'}}\r\n    typeof object[TARGET_DATA] === 'object'\r\n  ));\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/isResource.js","export default Symbol('request.target:internals');\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/TARGET_INTERNALS.js","export default 'resource::data';\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/TARGET_DATA.js","/**\r\n * Created by Oleg Galaburda on 24.11.17.\r\n */\r\n\r\nimport TARGET_INTERNALS from '../../utils/TARGET_INTERNALS';\r\n\r\nexport default (target) => ((target && target[TARGET_INTERNALS]) || null);\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/getInternals.js","export const DEFAULT_IS_TEMPORARY = () => true;\r\n\r\nclass Descriptor {\r\n  constructor(type, handler, name = undefined) {\r\n    this.name = name !== undefined ? name : type;\r\n    this.type = type;\r\n    this.handler = handler;\r\n    /**\r\n     * @type {function(): boolean}\r\n     */\r\n    this.isTemporary = DEFAULT_IS_TEMPORARY;\r\n    this.cacheable = true;\r\n    this.virtual = false;\r\n    this.resourceType = null;\r\n  }\r\n}\r\n\r\nexport const createDescriptor = (\r\n  type,\r\n  handler,\r\n  name,\r\n  isTemporary = DEFAULT_IS_TEMPORARY,\r\n  resourceType = null,\r\n  cacheable = true,\r\n  virtual = false,\r\n) => {\r\n  const descriptor = new Descriptor(type, handler, name);\r\n  descriptor.resourceType = resourceType;\r\n  descriptor.cacheable = cacheable;\r\n  descriptor.virtual = virtual;\r\n  if (isTemporary) {\r\n    descriptor.isTemporary = isTemporary;\r\n  }\r\n  // We can use Object.freeze(), it keeps class/constructor information\r\n  return Object.freeze(descriptor);\r\n};\r\n\r\nexport const addDescriptorTo = (descriptor, target) => {\r\n  if (target instanceof Array) {\r\n    target.push(descriptor);\r\n  } else if (target) {\r\n    target[descriptor.name] = descriptor;\r\n  }\r\n};\r\n\r\nexport const descriptorGeneratorFactory = (type, name) =>\r\n  (\r\n    handler,\r\n    target,\r\n    isTemporary = DEFAULT_IS_TEMPORARY,\r\n    resourceType = null,\r\n    cacheable = true,\r\n    virtual = false,\r\n  ) => {\r\n    const descriptor = createDescriptor(\r\n      type,\r\n      handler,\r\n      name,\r\n      isTemporary,\r\n      resourceType,\r\n      cacheable,\r\n      virtual,\r\n    );\r\n    addDescriptorTo(descriptor, target);\r\n    return Object.freeze(descriptor);\r\n  };\r\n\r\nexport default Descriptor;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/Descriptor.js","import EventDispatcher from 'event-dispatcher';\r\nimport getId from '../utils/getId';\r\nimport isResource from '../utils/isResource';\r\nimport { createResource } from './Resource';\r\n\r\nexport const ResourcePoolEvents = Object.freeze({\r\n  RESOURCE_ADDED: 'resourceAdded',\r\n  RESOURCE_REMOVED: 'resourceRemoved',\r\n  POOL_CLEAR: 'poolClear',\r\n  POOL_CLEARED: 'poolCleared',\r\n  POOL_DESTROYED: 'poolDestroyed',\r\n});\r\n\r\nexport const MAP_FIELD = Symbol('ResourcePool::map');\r\n\r\nlet validTargets = {};\r\n\r\nexport const isValidTarget = (target) => (\r\n  !isResource(target)\r\n  && Boolean(validTargets[typeof target])\r\n);\r\n\r\nexport const setValidTargets = (list) => {\r\n  validTargets = list.reduce((validTargets, target) => {\r\n    validTargets[target] = true;\r\n\r\n    return validTargets;\r\n  }, {});\r\n};\r\n\r\nexport const getDefaultValidTargets = () => ['object', 'function'];\r\n\r\nclass ResourcePool extends EventDispatcher {\r\n  constructor() {\r\n    super();\r\n    this[MAP_FIELD] = new Map();\r\n    Object.defineProperties(this, {\r\n      id: {\r\n        value: getId(),\r\n      },\r\n    });\r\n  }\r\n\r\n  set(value, type = null) {\r\n    const map = this[MAP_FIELD];\r\n    let resource = null;\r\n    if (isValidTarget(value)) {\r\n      if (map.has(value)) {\r\n        resource = map.get(value);\r\n      } else {\r\n        resource = createResource(this, value, type || typeof value);\r\n        map.set(resource.id, resource);\r\n        map.set(value, resource);\r\n        if (this.hasEventListener(ResourcePoolEvents.RESOURCE_ADDED)) {\r\n          this.dispatchEvent(ResourcePoolEvents.RESOURCE_ADDED, resource);\r\n        }\r\n      }\r\n    }\r\n\r\n    return resource;\r\n  }\r\n\r\n  has(target) {\r\n    return this[MAP_FIELD].has(target);\r\n  }\r\n\r\n  get(target) {\r\n    return this[MAP_FIELD].get(target);\r\n  }\r\n\r\n  remove(value) {\r\n    const map = this[MAP_FIELD];\r\n    const resource = map.get(value);\r\n    if (resource) {\r\n      map.delete(resource.id);\r\n      map.delete(resource.value);\r\n      if (this.hasEventListener(ResourcePoolEvents.RESOURCE_REMOVED)) {\r\n        this.dispatchEvent(ResourcePoolEvents.RESOURCE_REMOVED, resource);\r\n      }\r\n      resource.destroy();\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    const map = this[MAP_FIELD];\r\n    if (this.hasEventListener(ResourcePoolEvents.POOL_CLEAR)) {\r\n      this.dispatchEvent(ResourcePoolEvents.POOL_CLEAR, this);\r\n    }\r\n\r\n    for (const [key, resource] of map) {\r\n      if (typeof key === 'string' && key === resource.id) {\r\n        resource.destroy();\r\n      }\r\n    }\r\n\r\n    map.clear();\r\n\r\n    if (this.hasEventListener(ResourcePoolEvents.POOL_CLEARED)) {\r\n      this.dispatchEvent(ResourcePoolEvents.POOL_CLEARED, this);\r\n    }\r\n  }\r\n\r\n  isActive() {\r\n    return Boolean(this[MAP_FIELD]);\r\n  }\r\n\r\n  destroy() {\r\n    this.clear();\r\n    // intentionally make it not usable after its destroyed\r\n    delete this[MAP_FIELD];\r\n    if (this.hasEventListener(ResourcePoolEvents.POOL_DESTROYED)) {\r\n      // FIXME why for second parameter?\r\n      this.dispatchEvent(ResourcePoolEvents.POOL_DESTROYED, this);\r\n    }\r\n  }\r\n\r\n  static events = ResourcePoolEvents;\r\n}\r\n\r\nclass DefaultResourcePool extends ResourcePool {\r\n  // INFO default ResourcePool should not be destroyable;\r\n  destroy() {\r\n    throw new Error('Default ResourcePool cannot be destroyed.');\r\n  }\r\n}\r\n\r\nexport const defaultResourcePool = new DefaultResourcePool();\r\n\r\nexport const createResourcePool = () => new ResourcePool();\r\n\r\nsetValidTargets(getDefaultValidTargets());\r\n\r\nexport default ResourcePool;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/ResourcePool.js","import TARGET_INTERNALS from '../utils/TARGET_INTERNALS';\r\nimport isResource from '../utils/isResource';\r\nimport PROMISE_FIELD from './target/PROMISE_FIELD';\r\nimport Internals from './target/Internals';\r\n\r\nconst getRequestPromise = (request) => (request[TARGET_INTERNALS] || request[PROMISE_FIELD]);\r\n\r\n/**\r\n * The object that will be available on other side\r\n * @class DataAccessInterface.RequestTarget\r\n * @param _promise {Promise}\r\n * @param _requestHandlers {Handlers}\r\n */\r\nclass Target {\r\n  constructor(promise, requestHandlers) {\r\n    this[TARGET_INTERNALS] = new Internals(this, promise, requestHandlers);\r\n\r\n    const handlePromise = (data) => {\r\n      if (!isResource(data)) {\r\n        this[PROMISE_FIELD] = promise;\r\n        delete this[TARGET_INTERNALS];\r\n      }\r\n    };\r\n\r\n    promise.then(handlePromise, handlePromise);\r\n  }\r\n\r\n  then(...args) {\r\n    const target = getRequestPromise(this);\r\n    return target.then(...args);\r\n  }\r\n\r\n  catch(...args) {\r\n    const target = getRequestPromise(this);\r\n    return target.catch(...args);\r\n  }\r\n}\r\n\r\nexport const createRequestTarget = (promise, requestHandlers) => (\r\n  new Target(promise, requestHandlers)\r\n);\r\n\r\nexport default Target;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Target.js","export default Object.freeze({\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n  DESTROYED: 'destroyed',\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/TargetStatus.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\r\nimport IConvertible from './IConvertible';\r\nimport isResource from './isResource';\r\nimport toJSON from '../request/target/toJSON';\r\nimport { defaultResourcePool } from '../resource/ResourcePool';\r\nimport Resource from '../resource/Resource';\r\n\r\nexport default (object, pool) => {\r\n  pool = pool || defaultResourcePool;\r\n\r\n  if (object instanceof Resource) {\r\n    return object.toJSON();\r\n  } else if (typeof object[TARGET_INTERNALS] === 'object') {\r\n    return toJSON(object);\r\n  } else if (object instanceof IConvertible || typeof object === 'function') {\r\n    return pool.set(object).toJSON();\r\n  } else if (isResource(object)) {\r\n    return object;\r\n  }\r\n\r\n  return null;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getRawResource.js","/**\r\n * Interface for all resource types, these will be treated as resources automatically\r\n * @interface\r\n */\r\nclass IConvertible {\r\n\r\n}\r\n\r\nexport default IConvertible;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/IConvertible.js","(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"EventDispatcher\"] = factory();\r\n\telse\r\n\t\troot[\"EventDispatcher\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Event = undefined;\r\n\r\nvar _EventDispatcher = __webpack_require__(1);\r\n\r\nvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nexports.default = _EventDispatcher2.default;\r\nexports.Event = _EventDispatcher.Event;\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar hasOwnProp = function hasOwnProp(target, name) {\r\n  return Object.prototype.hasOwnProperty.call(target, name);\r\n}; /**\r\n    * Created by Oleg Galaburda on 09.02.16.\r\n    * \r\n    */\r\n\r\nvar Event = exports.Event = function () {\r\n  function Event(type) {\r\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n\r\n    _classCallCheck(this, Event);\r\n\r\n    this.type = type;\r\n    this.data = data;\r\n    this.defaultPrevented = false;\r\n  }\r\n\r\n  _createClass(Event, [{\r\n    key: 'toJSON',\r\n    value: function toJSON() {\r\n      return { type: this.type, data: this.data };\r\n    }\r\n  }, {\r\n    key: 'isDefaultPrevented',\r\n    value: function isDefaultPrevented() {\r\n      return this.defaultPrevented;\r\n    }\r\n  }, {\r\n    key: 'preventDefault',\r\n    value: function preventDefault() {\r\n      this.defaultPrevented = true;\r\n    }\r\n  }]);\r\n\r\n  return Event;\r\n}();\r\n\r\nvar ListenersRunner = function () {\r\n  function ListenersRunner(listeners, onStopped, onComplete) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, ListenersRunner);\r\n\r\n    this.index = -1;\r\n    this.immediatelyStopped = false;\r\n\r\n    this.stopImmediatePropagation = function () {\r\n      _this.immediatelyStopped = true;\r\n    };\r\n\r\n    this.listeners = listeners;\r\n    this.onStopped = onStopped;\r\n    this.onComplete = onComplete;\r\n  }\r\n\r\n  _createClass(ListenersRunner, [{\r\n    key: 'run',\r\n    value: function run(event, target) {\r\n      var listener = void 0;\r\n      var listeners = this.listeners;\r\n\r\n      this.augmentEvent(event);\r\n      // TODO this has to be handled in separate object ListenersRunner that should be\r\n      // created for each call() call and asked for index validation on each listener remove.\r\n      for (this.index = 0; this.index < listeners.length; this.index++) {\r\n        if (this.immediatelyStopped) break;\r\n        listener = listeners[this.index];\r\n        listener.call(target, event);\r\n      }\r\n      this.clearEvent(event);\r\n      this.onComplete(this);\r\n    }\r\n  }, {\r\n    key: 'augmentEvent',\r\n    value: function augmentEvent(eventObject) {\r\n      var event = eventObject;\r\n      event.stopPropagation = this.onStopped;\r\n      event.stopImmediatePropagation = this.stopImmediatePropagation;\r\n    }\r\n\r\n    /* eslint class-methods-use-this: \"off\" */\r\n\r\n  }, {\r\n    key: 'clearEvent',\r\n    value: function clearEvent(eventObject) {\r\n      var event = eventObject;\r\n      delete event.stopPropagation;\r\n      delete event.stopImmediatePropagation;\r\n    }\r\n  }, {\r\n    key: 'listenerRemoved',\r\n    value: function listenerRemoved(listeners, index) {\r\n      if (listeners === this.listeners && index <= this.index) {\r\n        this.index--;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return ListenersRunner;\r\n}();\r\n\r\nvar EventListeners = function () {\r\n  function EventListeners() {\r\n    var _this2 = this;\r\n\r\n    _classCallCheck(this, EventListeners);\r\n\r\n    this._listeners = {};\r\n    this._runners = [];\r\n\r\n    this.removeRunner = function (runner) {\r\n      _this2._runners.splice(_this2._runners.indexOf(runner), 1);\r\n    };\r\n  }\r\n  /**\r\n   * key - event Type\r\n   * value - hash of priorities\r\n   *    key - priority\r\n   *    value - list of handlers\r\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventListeners, [{\r\n    key: 'createList',\r\n    value: function createList(eventType, priorityOpt) {\r\n      var priority = parseInt(priorityOpt, 10);\r\n      var target = this.getPrioritiesByKey(eventType);\r\n      var key = String(priority);\r\n      var value = void 0;\r\n      if (hasOwnProp(target, key)) {\r\n        value = target[key];\r\n      } else {\r\n        value = [];\r\n        target[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'getPrioritiesByKey',\r\n    value: function getPrioritiesByKey(key) {\r\n      var value = void 0;\r\n      if (hasOwnProp(this._listeners, key)) {\r\n        value = this._listeners[key];\r\n      } else {\r\n        value = {};\r\n        this._listeners[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'add',\r\n    value: function add(eventType, handler, priority) {\r\n      var handlers = this.createList(eventType, priority);\r\n      if (handlers.indexOf(handler) < 0) {\r\n        handlers.push(handler);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'has',\r\n    value: function has(eventType) {\r\n      var priority = void 0;\r\n      var result = false;\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        for (priority in priorities) {\r\n          if (hasOwnProp(priorities, priority)) {\r\n            result = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n  }, {\r\n    key: 'remove',\r\n    value: function remove(eventType, handler) {\r\n      var _this3 = this;\r\n\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        var list = Object.getOwnPropertyNames(priorities);\r\n        var length = list.length;\r\n\r\n        var _loop = function _loop(index) {\r\n          var priority = list[index];\r\n          var handlers = priorities[priority];\r\n          var handlerIndex = handlers.indexOf(handler);\r\n          if (handlerIndex >= 0) {\r\n            handlers.splice(handlerIndex, 1);\r\n            if (!handlers.length) {\r\n              delete priorities[priority];\r\n            }\r\n            _this3._runners.forEach(function (runner) {\r\n              runner.listenerRemoved(handlers, handlerIndex);\r\n            });\r\n          }\r\n        };\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          _loop(index);\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'removeAll',\r\n    value: function removeAll(eventType) {\r\n      delete this._listeners[eventType];\r\n    }\r\n  }, {\r\n    key: 'createRunner',\r\n    value: function createRunner(handlers, onStopped) {\r\n      var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\r\n      this._runners.push(runner);\r\n      return runner;\r\n    }\r\n  }, {\r\n    key: 'call',\r\n    value: function call(event, target) {\r\n      var priorities = this.getPrioritiesByKey(event.type);\r\n      var stopped = false;\r\n      var stopPropagation = function stopPropagation() {\r\n        stopped = true;\r\n      };\r\n      if (priorities) {\r\n        // getOwnPropertyNames() or keys()?\r\n        var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\r\n          return a - b;\r\n        });\r\n        var length = list.length;\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          if (stopped) break;\r\n          var _handlers = priorities[list[index]];\r\n          // in case if all handlers of priority were removed while event\r\n          // was dispatched and handlers become undefined.\r\n          if (_handlers) {\r\n            var _runner = this.createRunner(_handlers, stopPropagation);\r\n            _runner.run(event, target);\r\n            if (_runner.immediatelyStopped) break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return EventListeners;\r\n}();\r\n\r\nvar EventDispatcher = function () {\r\n  function EventDispatcher() {\r\n    var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\r\n    var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n    _classCallCheck(this, EventDispatcher);\r\n\r\n    if (!noInit) {\r\n      this.initialize(eventPreprocessor);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventDispatcher, [{\r\n    key: 'initialize',\r\n    value: function initialize() {\r\n      var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\r\n\r\n      this._eventPreprocessor = eventPreprocessor;\r\n      this._listeners = new EventListeners();\r\n    }\r\n  }, {\r\n    key: 'addEventListener',\r\n    value: function addEventListener(eventType, listener) {\r\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\r\n\r\n      this._listeners.add(eventType, listener, -priority || 0);\r\n    }\r\n  }, {\r\n    key: 'hasEventListener',\r\n    value: function hasEventListener(eventType) {\r\n      return this._listeners.has(eventType);\r\n    }\r\n  }, {\r\n    key: 'removeEventListener',\r\n    value: function removeEventListener(eventType, listener) {\r\n      this._listeners.remove(eventType, listener);\r\n    }\r\n  }, {\r\n    key: 'removeAllEventListeners',\r\n    value: function removeAllEventListeners(eventType) {\r\n      this._listeners.removeAll(eventType);\r\n    }\r\n  }, {\r\n    key: 'dispatchEvent',\r\n    value: function dispatchEvent(event, data) {\r\n      var eventObject = EventDispatcher.getEvent(event, data);\r\n      if (this._eventPreprocessor) {\r\n        eventObject = this._eventPreprocessor.call(this, eventObject);\r\n      }\r\n      this._listeners.call(eventObject);\r\n    }\r\n  }], [{\r\n    key: 'isObject',\r\n    value: function isObject(value) {\r\n      return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\r\n    }\r\n  }, {\r\n    key: 'getEvent',\r\n    value: function getEvent(eventOrType, optionalData) {\r\n      var event = eventOrType;\r\n      if (!EventDispatcher.isObject(eventOrType)) {\r\n        event = new EventDispatcher.Event(String(eventOrType), optionalData);\r\n      }\r\n      return event;\r\n    }\r\n  }, {\r\n    key: 'create',\r\n    value: function create(eventPreprocessor) {\r\n      return new EventDispatcher(eventPreprocessor);\r\n    }\r\n\r\n    /* eslint no-undef: \"off\" */\r\n\r\n  }]);\r\n\r\n  return EventDispatcher;\r\n}();\r\n\r\nEventDispatcher.Event = Event;\r\n\r\nexports.default = EventDispatcher;\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=event-dispatcher.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/event-dispatcher/dist/event-dispatcher.js","const base = `DA/${Date.now()}/`;\r\nlet index = 0;\r\nexport default () => `${base}${++index}/${Date.now()}`;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getId.js","import TARGET_DATA from '../utils/TARGET_DATA';\r\nimport TARGET_INTERNALS from '../utils/TARGET_INTERNALS';\r\nimport getInternals from '../request/target/getInternals';\r\nimport getId from '../utils/getId';\r\n\r\nconst getPoolId = (pool) => (pool ? pool.id : null);\r\n\r\n/**\r\n * @exports Resource\r\n */\r\nclass Resource {\r\n  constructor(pool, value, type, id) {\r\n    Object.defineProperties(this, {\r\n      [TARGET_INTERNALS]: {\r\n        value: {\r\n          pool,\r\n          value,\r\n          type,\r\n          id,\r\n          active: true,\r\n          poolId: getPoolId(pool),\r\n        },\r\n      },\r\n      [TARGET_DATA]: {\r\n        get: this.toJSON,\r\n      },\r\n    });\r\n  }\r\n\r\n\r\n  get active() {\r\n    return Boolean(getInternals(this).active);\r\n  }\r\n\r\n  get value() {\r\n    return getInternals(this).value;\r\n  }\r\n\r\n  get type() {\r\n    return getInternals(this).type || typeof getInternals(this).value;\r\n  }\r\n\r\n  get id() {\r\n    return getInternals(this).id;\r\n  }\r\n\r\n  get poolId() {\r\n    return getInternals(this).poolId;\r\n  }\r\n\r\n  toJSON = () => ({\r\n    [TARGET_DATA]: {\r\n      id: this.id,\r\n      type: this.type,\r\n      poolId: this.poolId,\r\n    },\r\n  });\r\n\r\n  destroy() {\r\n    const internals = getInternals(this);\r\n    const { id, pool } = internals;\r\n\r\n    if (!internals.active) {\r\n      return;\r\n    }\r\n\r\n    internals.active = false;\r\n    pool.remove(id);\r\n\r\n    Object.keys(internals).map((name) => delete internals[name]);\r\n  }\r\n}\r\n\r\nexport const createResource = (pool, value, resourceType, id = null) => (\r\n  new Resource(pool, value, resourceType, id || getId())\r\n);\r\n\r\nexport default Resource;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/Resource.js","class Deferred {\r\n  constructor() {\r\n    this.promise = new Promise((resolve, reject) => {\r\n      this.resolve = resolve;\r\n      this.reject = reject;\r\n    });\r\n  }\r\n}\r\n\r\nexport const createDeferred = () => new Deferred();\r\nexport default Deferred;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/Deferred.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\r\nimport TARGET_DATA from './TARGET_DATA';\r\nimport isResource from './isResource';\r\n\r\nexport default (object) => {\r\n  if (typeof object[TARGET_INTERNALS] === 'object') {\r\n    return object[TARGET_INTERNALS].poolId;\r\n  } else if (isResource(object)) {\r\n    return object[TARGET_DATA].poolId;\r\n  }\r\n  return null;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourcePoolId.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\r\nimport TARGET_DATA from './TARGET_DATA';\r\nimport isResource from './isResource';\r\n\r\nexport default (object) => {\r\n  // if (object instanceof Resource || object instanceof Target) {\r\n  if (typeof object[TARGET_INTERNALS] === 'object') {\r\n    return object[TARGET_INTERNALS].id;\r\n  } else if (isResource(object)) {\r\n    return object[TARGET_DATA].id;\r\n  }\r\n\r\n  return null;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourceId.js","import {\r\n  createDescriptor,\r\n  descriptorGeneratorFactory,\r\n} from '../Descriptor';\r\n\r\nexport const ProxyCommandNames = Object.freeze({\r\n  GET: 'get',\r\n  SET: 'set',\r\n  APPLY: 'apply',\r\n  DELETE_PROPERTY: 'deleteProperty',\r\n});\r\n\r\nexport const ProxyCommandFields = Object.freeze({\r\n  get: Symbol('proxy.commands::get'),\r\n  set: Symbol('proxy.commands::set'),\r\n  apply: Symbol('proxy.commands::apply'),\r\n  deleteProperty: Symbol('proxy.commands::deleteProperty'),\r\n});\r\n\r\nclass ProxyCommandsClass {\r\n  constructor() {\r\n    Object.freeze(this);\r\n  }\r\n\r\n  names = ProxyCommandNames;\r\n  fields = ProxyCommandFields;\r\n\r\n  get list() {\r\n    return [\r\n      ProxyCommandNames.GET,\r\n      ProxyCommandNames.SET,\r\n      ProxyCommandNames.APPLY,\r\n      ProxyCommandNames.DELETE_PROPERTY,\r\n    ];\r\n  }\r\n\r\n  get required() {\r\n    return [\r\n      ProxyCommandNames.GET,\r\n      ProxyCommandNames.SET,\r\n      ProxyCommandNames.APPLY,\r\n    ];\r\n  }\r\n\r\n  createGETDescriptor = descriptorGeneratorFactory(\r\n    ProxyCommandNames.GET,\r\n    ProxyCommandFields.get,\r\n  );\r\n  createSETDescriptor = descriptorGeneratorFactory(\r\n    ProxyCommandNames.SET,\r\n    ProxyCommandFields.set,\r\n  );\r\n  createAPPLYDescriptor = descriptorGeneratorFactory(\r\n    ProxyCommandNames.APPLY,\r\n    ProxyCommandFields.apply,\r\n  );\r\n}\r\n\r\nconst ProxyCommands = new ProxyCommandsClass();\r\n\r\nexport const createDescriptors = (\r\n  handlers,\r\n  target = {},\r\n  isTemporary = undefined,\r\n  resourceType = null,\r\n  cacheable = true,\r\n  virtual = false,\r\n) => {\r\n  const args = [isTemporary, resourceType, cacheable, virtual];\r\n  ProxyCommands.list.forEach((name) => {\r\n    const handler = handlers[name];\r\n    const field = ProxyCommandFields[name];\r\n\r\n    if (handler instanceof Function) {\r\n      let descriptor = createDescriptor(name, handler, field, ...args);\r\n      descriptor = Object.freeze(descriptor);\r\n\r\n      if (target instanceof Array) {\r\n        target.push(descriptor);\r\n      } else if (target) {\r\n        target[field] = descriptor;\r\n      }\r\n    }\r\n  });\r\n\r\n  return target;\r\n};\r\n\r\nexport default ProxyCommands;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/internal/ProxyCommands.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\r\nimport TARGET_DATA from './TARGET_DATA';\r\nimport isResource from './isResource';\r\n\r\nconst getResourceType = (object) => {\r\n  if (typeof object[TARGET_INTERNALS] === 'object') {\r\n    return object[TARGET_INTERNALS].type;\r\n  } else if (isResource(object)) {\r\n    return object[TARGET_DATA].type;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default getResourceType;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourceType.js","export default (type, args, targetId) => {\r\n  const result = {\r\n    type,\r\n    args,\r\n    cmd: args[0], // cmd,\r\n    value: args[1], // value,\r\n    target: targetId,\r\n  };\r\n\r\n  return result;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/createRequestPackage.js","import TARGET_DATA from './TARGET_DATA';\r\nimport getRawResource from './getRawResource';\r\n\r\nexport default (object) => {\r\n  const data = getRawResource(object);\r\n  return data ? data[TARGET_DATA] : null;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourceData.js","import Descriptor, { addDescriptorTo } from '../Descriptor';\r\n\r\nexport const RequestCommandNames = Object.freeze({\r\n  DESTROY: '::destroy.resource',\r\n});\r\n\r\nexport const RequestCommandFields = Object.freeze({\r\n  DESTROY: Symbol('::destroy.resource'),\r\n});\r\n\r\n/**\r\n * Destroy is unique type that exists for every Target\r\n * and does not have a method on its instances. This type will\r\n * be send each time Target.destroy() is applied to\r\n * Target in stance.\r\n */\r\nclass RequestCommands {\r\n  constructor() {\r\n    Object.freeze(this);\r\n  }\r\n\r\n  names = RequestCommandNames;\r\n  fields = RequestCommandFields;\r\n\r\n  createDESTROYDescriptor = (handler, target) => {\r\n    const descriptor = new Descriptor(\r\n      RequestCommandNames.DESTROY,\r\n      handler,\r\n      RequestCommandFields.DESTROY,\r\n    );\r\n    descriptor.cacheable = false;\r\n    descriptor.virtual = true;\r\n    addDescriptorTo(descriptor, target);\r\n    return Object.freeze(descriptor);\r\n  };\r\n\r\n}\r\n\r\nexport default new RequestCommands();\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/internal/RequestCommands.js","/**\r\n * Reserved words\r\n */\r\nexport default Object.freeze({\r\n  /**\r\n   * Contains property names that cannot be used for Descriptor's\r\n   */\r\n  names: Object.freeze({\r\n    // INFO Exposed Promise method, cannot be overwritten by type\r\n    then: true,\r\n    // INFO Exposed Promise method, cannot be overwritten by type\r\n    catch: true,\r\n  }),\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/Reserved.js","import { createDecorator } from './Decorator';\r\nimport { createRequestTarget } from './Target';\r\n\r\nexport const NO_INIT = {};\r\n\r\nclass Factory {\r\n  /*\r\n   function DummyCacheImpl() {\r\n   this.get = function(name, pack) {\r\n\r\n   };\r\n   this.set = function(name, pack, request) {\r\n\r\n   };\r\n   }\r\n   */\r\n  constructor(handlers, cacheImpl = null) {\r\n    this.cache = cacheImpl;\r\n    this.handlers = handlers;\r\n\r\n    if (handlers !== NO_INIT) {\r\n      this.decorator = createDecorator(this, handlers);\r\n    }\r\n  }\r\n\r\n  create(promise, name = null, pack = null, cacheable = false) {\r\n    const request = createRequestTarget(promise, this.handlers);\r\n    if (this.handlers.available) {\r\n      this.decorator.apply(request);\r\n    }\r\n\r\n    if (this.cache && cacheable) {\r\n      this.cache.set(name, pack, request);\r\n    }\r\n\r\n    return request;\r\n  }\r\n\r\n  getCached(name, pack) {\r\n    return this.cache && this.cache.get(name, pack);\r\n  }\r\n}\r\n\r\nexport const createRequestFactory = (handlers, cacheImpl) => (\r\n  new Factory(handlers, cacheImpl)\r\n);\r\n\r\nexport default Factory;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Factory.js","import EventDispatcher from 'event-dispatcher';\r\nimport getResourcePoolId from '../utils/getResourcePoolId';\r\nimport getResourceId from '../utils/getResourceId';\r\nimport isResource from '../utils/isResource';\r\nimport isResourceConvertible from '../utils/isResourceConvertible';\r\nimport getRawResource from '../utils/getRawResource';\r\nimport isPending from '../request/target/isPending';\r\n\r\nexport const ConverterEvents = Object.freeze({\r\n  RESOURCE_CREATED: 'resourceCreated',\r\n  RESOURCE_CONVERTED: 'resourceConverted',\r\n});\r\n\r\n/**\r\n * Resource converter contains bunch of methods to lookup for resources\r\n * and registering them, converting them into RAWResource or into\r\n * Targets, depending on their origin.\r\n * Before sending data, bundled resources should be registered in ResourcePool\r\n * and then converted to RAWResource objects.\r\n * After data received, its RAWResources should be converted to Targets\r\n * for not resolved resources or to resource target values otherwise.\r\n * Resource can be resolved by its `id` and `poolId`, if Converter\r\n * can find ResourcePool with id from poolId, it will try to get target\r\n * resource value and replace with it RAWResource object.\r\n * If ResourcePool not found, Converter assumes that resource come from\r\n * other origin/environment and creates Target object that can be target\r\n * object for commands.\r\n * Converter while handling data does not look deeply, so its developer\r\n * responsibility to convert deeply nested resource targets.\r\n */\r\nclass Converter extends EventDispatcher {\r\n  constructor(factory, registry, pool, handlers = null) {\r\n    super();\r\n    this.factory = factory;\r\n    this.pool = pool;\r\n    this.registry = registry;\r\n\r\n    if (handlers) {\r\n      handlers.setConverter(this);\r\n    }\r\n  }\r\n\r\n  resourceToObject(data) {\r\n    let result;\r\n\r\n    if (isResourceConvertible(data)) {\r\n      result = getRawResource(data, this.pool);\r\n    } else if (typeof data.toJSON === 'function') {\r\n      result = data.toJSON();\r\n    } else {\r\n      return data;\r\n    }\r\n\r\n    if (this.hasEventListener(ConverterEvents.RESOURCE_CONVERTED)) {\r\n      this.dispatchEvent(ConverterEvents.RESOURCE_CONVERTED, {\r\n        data,\r\n        result,\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#objectToResource\r\n   * @param {*} data\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  objectToResource(data) {\r\n    let result = data;\r\n\r\n    if (isResource(data)) {\r\n      const poolId = getResourcePoolId(data);\r\n\r\n      if (this.registry.isRegistered(poolId)) { // target object is stored in current pool\r\n        const target = this.registry.get(poolId).get(getResourceId(data));\r\n\r\n        if (target) {\r\n          result = target.value;\r\n        }\r\n\r\n      } else { // target object has another origin, should be wrapped\r\n        result = this.factory.create(Promise.resolve(data));\r\n      }\r\n    }\r\n\r\n    if (result !== data && this.hasEventListener(ConverterEvents.RESOURCE_CREATED)) {\r\n      this.dispatchEvent(ConverterEvents.RESOURCE_CREATED, {\r\n        data,\r\n        result,\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#lookupArray\r\n   * @param list\r\n   * @param linkConvertHandler\r\n   * @returns {Array}\r\n   * @private\r\n   */\r\n  lookupArray(list, linkConvertHandler) {\r\n    return list.map((item) => linkConvertHandler.call(this, item));\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#lookupObject\r\n   * @param {*} data\r\n   * @param {Function} linkConvertHandler\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  lookupObject(data, linkConvertHandler) {\r\n    return Object.getOwnPropertyNames(data)\r\n      .reduce((result, name) => {\r\n        if (Object.prototype.hasOwnProperty.call(data, name)) {\r\n          result[name] = linkConvertHandler.call(this, data[name]);\r\n        }\r\n\r\n        return result;\r\n      }, {});\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#toJSON\r\n   * @param {*} data\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  toJSON(data) {\r\n    let result = data;\r\n\r\n    if (data !== undefined && data !== null) {\r\n      if (isResourceConvertible(data)) {\r\n        // if data is Target, Resource, IConvertible, Function or RAW resource data\r\n        result = this.resourceToObject(data);\r\n      } else if (data instanceof Array) {\r\n        // if data is Array of values, check its\r\n        result = this.lookupArray(data, this.resourceToObject);\r\n      } else if (data.constructor === Object) {\r\n        // only Object instances can be looked up, other object types must be converted by hand\r\n        result = this.lookupObject(data, this.resourceToObject);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#parse\r\n   * @param {*} data\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  parse(data) {\r\n    let result = data;\r\n\r\n    if (data !== undefined && data !== null) {\r\n      if (isResource(data)) { // if data is RAW resource data\r\n        result = this.objectToResource(data);\r\n      } else if (data instanceof Array) { // if data is Array of values, check its\r\n        result = this.lookupArray(data, this.objectToResource);\r\n      } else if (data.constructor === Object) {\r\n        result = this.lookupObject(data, this.objectToResource);\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#lookupForPending\r\n   * @param {*} data\r\n   * @returns {Array}\r\n   */\r\n  lookupForPending(data) {\r\n    const result = [];\r\n\r\n    const add = (value) => {\r\n      if (isPending(value)) {\r\n        result.push(value);\r\n      }\r\n      return value;\r\n    };\r\n\r\n    if (typeof data === 'object' && data !== null) {\r\n      if (isPending(data)) {\r\n        result.push(data);\r\n      } else if (data instanceof Array) {\r\n        this.lookupArray(data, add);\r\n      } else if (data.constructor === Object) {\r\n        this.lookupObject(data, add);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static events = ConverterEvents;\r\n}\r\n\r\n/**\r\n * @param {RequestFactory} factory\r\n * @param {DataAccessInterface.ResourcePoolRegistry} registry\r\n * @param {DataAccessInterface.ResourcePool} pool\r\n * @param {Handlers} handlers\r\n * @returns {ResourceConverter}\r\n */\r\nexport const createResourceConverter = (factory, registry, pool, handlers) => (\r\n  new Converter(factory, registry, pool, handlers)\r\n);\r\n\r\nexport default Converter;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/Converter.js","import isResource from './isResource';\r\nimport IConvertible from './IConvertible';\r\n\r\nexport default (data) => (\r\n  isResource(data)\r\n  || typeof data === 'function'\r\n  || data instanceof IConvertible\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/isResourceConvertible.js","import EventDispatcher from 'event-dispatcher';\r\nimport ResourcePool, {\r\n  createResourcePool,\r\n  ResourcePoolEvents,\r\n  defaultResourcePool,\r\n} from './ResourcePool';\r\n\r\nexport const PoolRegistryEvents = Object.freeze({\r\n  RESOURCE_POOL_CREATED: 'resourcePoolCreated',\r\n  RESOURCE_POOL_REGISTERED: 'resourcePoolRegistered',\r\n  RESOURCE_POOL_REMOVED: 'resourcePoolRemoved',\r\n});\r\n\r\nconst POOLS_FIELD = Symbol('resource.pool.registry::pools');\r\n\r\n/**\r\n * @classdesc Collection of ResourcePool instances. Allows lookup for ResourcePool by its Id.\r\n * When ResourcePool is registered in PoolRegistry, it subscribes to\r\n * ResourcePool POOL_DESTROYED event and removes pool from registry after its destroyed.\r\n */\r\nclass PoolRegistry extends EventDispatcher {\r\n  constructor() {\r\n    super();\r\n    this[POOLS_FIELD] = {};\r\n\r\n    // every registry should keep default pool, so you can have access from anywhere\r\n    this.register(defaultResourcePool);\r\n  }\r\n\r\n  handlePoolDestroyed = (event) => {\r\n    this.remove(event.data);\r\n  }\r\n\r\n  /**\r\n   * Create and register ResourcePool\r\n   * @returns {DataAccessInterface.ResourcePool} New ResourcePool instance\r\n   */\r\n  createPool() {\r\n    const pool = createResourcePool();\r\n    if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_CREATED)) {\r\n      this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_CREATED, pool);\r\n    }\r\n    this.register(pool);\r\n    return pool;\r\n  }\r\n\r\n  /**\r\n   * Register ResourcePool instance.\r\n   * @param pool {DataAccessInterface.ResourcePool} ResourcePool instance to be registered\r\n   */\r\n  register(pool) {\r\n    if (Object.prototype.hasOwnProperty.call(this[POOLS_FIELD], pool.id)) return;\r\n    this[POOLS_FIELD][pool.id] = pool;\r\n    pool.addEventListener(ResourcePoolEvents.POOL_DESTROYED, this.handlePoolDestroyed);\r\n    if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REGISTERED)) {\r\n      this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REGISTERED, pool);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Retrieve ResourcePool instance from registry by its Id.\r\n   * @param poolId {String} ResourcePool instance Id\r\n   * @returns {DataAccessInterface.ResourcePool|null}\r\n   */\r\n  get(poolId) {\r\n    return this[POOLS_FIELD][poolId] || null;\r\n  }\r\n\r\n  /**\r\n   * Check if ResourcePool registered in this registry instance.\r\n   * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\r\n   * @returns {Boolean}\r\n   */\r\n  isRegistered(pool) {\r\n    return Object.prototype.hasOwnProperty.call(\r\n      this[POOLS_FIELD],\r\n      pool instanceof ResourcePool ? pool.id : String(pool),\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Remove ResourcePool from current registry instance.\r\n   * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\r\n   * @returns {Boolean}\r\n   */\r\n  remove(pool) {\r\n    let result = false;\r\n    pool = pool instanceof ResourcePool ? pool : this.get(pool);\r\n    if (pool) {\r\n      pool.removeEventListener(ResourcePoolEvents.POOL_DESTROYED, this.handlePoolDestroyed);\r\n      result = delete this[POOLS_FIELD][pool.id];\r\n    }\r\n    if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REMOVED)) {\r\n      this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REMOVED, pool);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static events = PoolRegistryEvents;\r\n}\r\n\r\nexport const createPoolRegistry = () => new PoolRegistry();\r\n\r\nexport default PoolRegistry;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/PoolRegistry.js","import DataAccessInterface, { create, dummy } from './DataAccessInterface';\r\nimport Deferred, { createDeferred } from './utils/Deferred';\r\nimport Descriptor from './command/Descriptor';\r\nimport Reserved from './command/Reserved';\r\nimport RequestCommands from './command/internal/RequestCommands';\r\nimport ProxyCommands from './command/internal/ProxyCommands';\r\nimport Target from './request/Target';\r\nimport ResourcePool from './resource/ResourcePool';\r\nimport PoolRegistry from './resource/PoolRegistry';\r\nimport Converter from './resource/Converter';\r\nimport IConvertible from './utils/IConvertible';\r\nimport isResourceConvertible from './utils/isResourceConvertible';\r\nimport getRawResource from './utils/getRawResource';\r\nimport getResourceData from './utils/getResourceData';\r\nimport getResourceId from './utils/getResourceId';\r\nimport getResourcePoolId from './utils/getResourcePoolId';\r\nimport getResourceType from './utils/getResourceType';\r\nimport isResource from './utils/isResource';\r\n\r\nexport default DataAccessInterface;\r\n\r\nexport {\r\n  create,\r\n  dummy,\r\n  createDeferred,\r\n  Deferred,\r\n  Descriptor,\r\n  Reserved,\r\n  RequestCommands,\r\n  ProxyCommands,\r\n  Target,\r\n  ResourcePool,\r\n  PoolRegistry,\r\n  Converter,\r\n  IConvertible,\r\n  isResourceConvertible,\r\n  getRawResource,\r\n  getResourceData,\r\n  getResourceId,\r\n  getResourcePoolId,\r\n  getResourceType,\r\n  isResource,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/index.js","/**\r\n * @exports DataAccessInterface\r\n */\r\n\r\nimport areProxiesAvailable from './utils/areProxiesAvailable';\r\nimport isResource from './utils/isResource';\r\nimport getResourcePoolId from './utils/getResourcePoolId';\r\nimport getResourceId from './utils/getResourceId';\r\nimport createForeignResource from './utils/createForeignResource';\r\nimport { createHandlers } from './request/Handlers';\r\nimport { createProxyFactory } from './request/ProxyFactory';\r\nimport { createRequestFactory } from './request/Factory';\r\nimport { defaultResourcePool, ResourcePoolEvents } from './resource/ResourcePool';\r\nimport { createResourceConverter } from './resource/Converter';\r\nimport { createPoolRegistry } from './resource/PoolRegistry';\r\n\r\nclass DataAccessInterface {\r\n\r\n  /**\r\n   * @class DataAccessInterface\r\n   * @classdesc Facade of Deferred Data Access library, it holds all\r\n   * of public API -- objects like ResourcePool and methods to work\r\n   * with resources.\r\n   * @param {Descriptor[]|Object.<string, Function|Descriptor>} descriptors\r\n   * @param {boolean} [proxyEnabled=false]\r\n   * @param {ResourcePoolRegistry} [poolRegistry]\r\n   * @param {ResourcePool} [pool]\r\n   * @param {ICacheImpl} [cacheImpl]\r\n   */\r\n  constructor(\r\n    descriptors,\r\n    proxyEnabled = true,\r\n    poolRegistry = null,\r\n    pool = null,\r\n    cacheImpl = null,\r\n  ) {\r\n    this.poolRegistry = poolRegistry;\r\n    this.pool = pool;\r\n    this.cache = cacheImpl;\r\n    this.initialize(descriptors, proxyEnabled);\r\n  }\r\n\r\n  initialize(descriptors, proxyEnabled) {\r\n    if (proxyEnabled && !areProxiesAvailable()) {\r\n      throw new Error('Proxies are not available in this environment');\r\n    }\r\n\r\n    this.handlers = createHandlers(proxyEnabled);\r\n\r\n    if (proxyEnabled) {\r\n      this.factory = createProxyFactory(this.handlers, this.cache);\r\n    } else {\r\n      this.factory = createRequestFactory(this.handlers, this.cache);\r\n    }\r\n\r\n    if (!this.poolRegistry) {\r\n      this.poolRegistry = createPoolRegistry();\r\n    }\r\n\r\n    if (this.pool) {\r\n      this.poolRegistry.register(this.pool);\r\n    } else if (this.pool !== undefined) {\r\n      this.pool = this.poolRegistry.createPool();\r\n    } else {\r\n      this.pool = defaultResourcePool;\r\n    }\r\n\r\n    this.resourceConverter = createResourceConverter(\r\n      this.factory,\r\n      this.poolRegistry,\r\n      this.pool,\r\n      this.handlers,\r\n    );\r\n\r\n    const poolDestroyedHandler = () => {\r\n      this.pool.removeEventListener(ResourcePoolEvents.POOL_DESTROYED, poolDestroyedHandler);\r\n      this.pool = this.poolRegistry.createPool();\r\n      this.pool.addEventListener(ResourcePoolEvents.POOL_DESTROYED, poolDestroyedHandler);\r\n    };\r\n\r\n    this.handlers.setCommands(descriptors);\r\n    this.pool.addEventListener(ResourcePoolEvents.POOL_DESTROYED, poolDestroyedHandler);\r\n  }\r\n\r\n  get proxyEnabled() {\r\n    return this.handlers.proxyEnabled;\r\n  }\r\n\r\n  parse(data) {\r\n    return this.resourceConverter.parse(data);\r\n  }\r\n\r\n  dummy() {\r\n    return this.parse(createForeignResource());\r\n  };\r\n\r\n  toJSON(data) {\r\n    return this.resourceConverter.toJSON(data);\r\n  }\r\n\r\n  isOwnResource(resource) {\r\n    /**\r\n     * @type {DataAccessInterface.ResourcePool}\r\n     */\r\n    let pool;\r\n    if (isResource(resource)) {\r\n      pool = this.poolRegistry.get(getResourcePoolId(resource));\r\n      return pool && pool.has(getResourceId(resource));\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const create = (handlers, proxyEnabled = true, poolRegistry = null, pool = null, cacheImpl = null) =>\r\n  new DataAccessInterface(handlers, proxyEnabled, poolRegistry, pool, cacheImpl);\r\n\r\nexport default DataAccessInterface;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/DataAccessInterface.js","export default () => (typeof Proxy === 'function');\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/areProxiesAvailable.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nimport getInternals from './getInternals';\r\n\r\nexport default (target) => getInternals(target).toJSON();\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/toJSON.js","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 30\n// module chunks = 0","import { createDeferred } from '../../utils/Deferred';\r\nimport TargetStatus from '../../utils/TargetStatus';\r\nimport { createQueue } from './Queue';\r\nimport Children from './Children';\r\n\r\nclass SubTargets extends Children {\r\n  constructor(parent = null, children = []) {\r\n    super(children);\r\n    this.queue = null;\r\n    this.setParent(parent);\r\n  }\r\n\r\n  setParent(parent) {\r\n    this.parent = parent;\r\n  }\r\n\r\n  parentResolved() {\r\n    if (this.hasQueue()) {\r\n      this.queue.send(this.parent.id, this.handleSubRequest);\r\n      this.queue = null;\r\n    }\r\n  }\r\n\r\n  parentRejected(message = null) {\r\n    this.queue.reject(new Error(message || 'This request was rejected before sending.'));\r\n    this.queue = null;\r\n  }\r\n\r\n  hasQueue() {\r\n    return Boolean(this.queue && this.queue.length);\r\n  }\r\n\r\n  send(name, pack, deferred = null, child = null) {\r\n    const { handlers } = this.parent;\r\n    let promise;\r\n\r\n    if (!handlers.hasCommand(name)) {\r\n      return Promise.reject(new Error(`Request handler for \"${name}\" is not registered.`));\r\n    }\r\n\r\n    promise = this.handleSend(name, pack, deferred || createDeferred(), child);\r\n\r\n    if (child) {\r\n      promise = this.register(child);\r\n    }\r\n\r\n    return promise;\r\n  }\r\n\r\n  handleSend(name, pack, deferred, child = null) {\r\n    const { status } = this.parent;\r\n\r\n    switch (status) {\r\n      case TargetStatus.PENDING:\r\n        if (!this.queue) {\r\n          this.queue = createQueue();\r\n        }\r\n\r\n        return this.queue.add(name, pack, deferred, child);\r\n      case TargetStatus.REJECTED:\r\n        return Promise.reject(new Error('Target object was rejected and cannot be used for calls.'));\r\n      case TargetStatus.DESTROYED:\r\n        return Promise.reject(new Error('Target object was destroyed and cannot be used for calls.'));\r\n      case TargetStatus.RESOLVED:\r\n        this.handleSubRequest(name, pack, deferred, child);\r\n        return deferred.promise;\r\n      default:\r\n        return Promise.reject(new Error(`Target object is in unknown status \"${status}\".`));\r\n    }\r\n  }\r\n\r\n  handleSubRequest = (name, pack, deferred, child) => {\r\n    const { handlers } = this.parent;\r\n    return handlers.handle(this.parent, name, pack, deferred, child);\r\n  };\r\n}\r\n\r\nexport default SubTargets;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/SubTargets.js","class Queue {\r\n  constructor(list = []) {\r\n    this.list = list;\r\n  }\r\n\r\n  add(name, pack, deferred, child) {\r\n    this.list.push({\r\n      name,\r\n      pack,\r\n      deferred,\r\n      child,\r\n    });\r\n\r\n    return deferred.promise;\r\n  }\r\n\r\n  get length() {\r\n    return this.list.length;\r\n  }\r\n\r\n  getList() {\r\n    return [...this.list];\r\n  }\r\n\r\n  getCommands() {\r\n    // return this.list.map(([name, pack]) => pack.type);\r\n    return this.list.map(({ name }) => name);\r\n  }\r\n\r\n  send(id, callback) {\r\n    this.list.forEach(({\r\n      name,\r\n      pack,\r\n      deferred,\r\n      child,\r\n    }) => {\r\n      pack.target = id;\r\n      callback(name, pack, deferred, child);\r\n    });\r\n    this.list = [];\r\n  }\r\n\r\n  reject(message) {\r\n    const error = new Error(message || 'This request was rejected before sending.');\r\n    this.list.forEach(({ deferred }) => deferred.reject(error));\r\n    this.list = [];\r\n  }\r\n}\r\n\r\nexport const createQueue = (list = []) => new Queue(list);\r\n\r\nexport default Queue;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/Queue.js","import getRawPromise from './getRawPromise';\r\n\r\nclass Children {\r\n  constructor(list = []) {\r\n    this.list = list;\r\n  }\r\n\r\n  register(child) {\r\n    const handler = () => {\r\n      const index = this.list.indexOf(child);\r\n      if (index >= 0) {\r\n        this.list.splice(index, 1);\r\n      }\r\n    };\r\n\r\n    this.list.push(child);\r\n    // getRawPromise() is needed to capture promise resolution directly,\r\n    // otherwise this .then() call will be counted in child.hadChildPromises.\r\n    return getRawPromise(child).then(handler, handler);\r\n  }\r\n\r\n  get length() {\r\n    return this.list.length;\r\n  }\r\n\r\n  getList() {\r\n    return [...this.list];\r\n  }\r\n\r\n  contains(item) {\r\n    return this.list.indexOf(item) >= 0;\r\n  }\r\n\r\n  get lastItem() {\r\n    const { length } = this.list;\r\n    return length ? this.list[length - 1] : null;\r\n  }\r\n}\r\n\r\nexport default Children;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/Children.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nimport getInternals from './getInternals';\r\nimport PROMISE_FIELD from './PROMISE_FIELD';\r\n\r\nexport default (target) => {\r\n  const internals = getInternals(target);\r\n  if (internals && internals.promise) {\r\n    return internals.promise;\r\n  }\r\n  return target[PROMISE_FIELD] || null;\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/getRawPromise.js","import TARGET_DATA from './TARGET_DATA';\r\nimport getId from './getId';\r\n\r\nexport default (type = '', resource = {}) => {\r\n  resource[TARGET_DATA] = {\r\n    id: `foreign-id-${getId()}`,\r\n    type: type || typeof resource,\r\n    poolId: `foreign-poolId-${getId()}`,\r\n  };\r\n\r\n  return resource;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/createForeignResource.js","import Descriptor from '../command/Descriptor';\r\nimport ProxyCommands, { ProxyCommandFields } from '../command/internal/ProxyCommands';\r\nimport filterHandlers from '../utils/filterRequestHandlers';\r\nimport getResourceType from '../utils/getResourceType';\r\n\r\n/**\r\n * Key for default type for handlers that will be applied to any\r\n * resource that does not have type-specific handlers registered\r\n * @type {string}\r\n */\r\nconst DEFAULT_KEY = '';\r\n\r\nexport const areProxyHandlersAvailable = (handlers, throwError = false) => {\r\n  let result = true;\r\n  ProxyCommands.required.forEach((name) => {\r\n    if (!(ProxyCommandFields[name] in handlers)) {\r\n      result = false;\r\n      if (throwError) {\r\n        throw new Error(`For Proxy interface, handler \"${name}\" should be set.`);\r\n      }\r\n    }\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\nexport const HandlersEvents = Object.freeze({\r\n  HANDLERS_UPDATED: 'handlersUpdated',\r\n});\r\n\r\nclass Handlers {\r\n  constructor(proxyEnabled = false) {\r\n    // named collection of Descriptor lists that may be applied\r\n    this.properties = { [DEFAULT_KEY]: [] };\r\n    this.descriptors = { [DEFAULT_KEY]: [] };\r\n    this.proxyEnabled = Boolean(proxyEnabled);\r\n    this.converter = null;\r\n  }\r\n\r\n  get available() {\r\n    const nonEmptyListIndex = Object.getOwnPropertyNames(this.properties).findIndex((name) => {\r\n      const list = this.properties[name];\r\n      return Boolean(list && list.length);\r\n    });\r\n    return nonEmptyListIndex >= 0;\r\n  }\r\n\r\n  setConverter(converter) {\r\n    this.converter = converter;\r\n  }\r\n\r\n  setCommands(handlers) {\r\n    this.setCommandsByType(DEFAULT_KEY, handlers);\r\n\r\n    Object.keys(handlers).forEach((name) => {\r\n      const type = handlers[name];\r\n      if (type && (type.constructor === Object || type instanceof Array)) {\r\n        this.setCommandsByType(name, type);\r\n      }\r\n    });\r\n\r\n    if (this.proxyEnabled) {\r\n      areProxyHandlersAvailable(this.descriptors[DEFAULT_KEY], true);\r\n    }\r\n  }\r\n\r\n  setCommandsByType(type, handlers) {\r\n    const descrs = {};\r\n    const props = [];\r\n    filterHandlers(handlers, descrs, props);\r\n    this.descriptors[type] = descrs;\r\n    this.properties[type] = props;\r\n  }\r\n\r\n  hasCommand(name, type) {\r\n    return (\r\n      this.descriptors[type]\r\n      && Object.prototype.hasOwnProperty.call(this.descriptors[type], name)\r\n    )\r\n    || (\r\n      this.descriptors[DEFAULT_KEY]\r\n      && Object.prototype.hasOwnProperty.call(this.descriptors[DEFAULT_KEY], name)\r\n    );\r\n  }\r\n\r\n  getPropertyCommands(type = '') {\r\n    const list = this.properties[type || DEFAULT_KEY] || [];\r\n    return [...list];\r\n  }\r\n\r\n  getPropertyNames(type = '') {\r\n    return this.getPropertyCommands(type)\r\n      .map((descriptor) => descriptor.name);\r\n  }\r\n\r\n  getCommands(type) {\r\n    if (this.descriptors[type]) {\r\n      return {\r\n        ...this.descriptors[DEFAULT_KEY],\r\n        ...this.descriptors[type],\r\n      };\r\n    }\r\n\r\n    return this.descriptors[DEFAULT_KEY];\r\n  }\r\n\r\n  getCommand(name, type) {\r\n    const descriptor = (\r\n      this.descriptors[type]\r\n      && this.descriptors[type][name]\r\n    )\r\n    || (\r\n      this.descriptors[DEFAULT_KEY]\r\n      && this.descriptors[DEFAULT_KEY][name]\r\n    );\r\n\r\n    return descriptor || null;\r\n  }\r\n\r\n  handle(parentRequest, name, pack, deferred, resultRequest) {\r\n    const list = this.converter ? this.converter.lookupForPending(pack.value) : null;\r\n    if (list && list.length) {\r\n      // FIXME Need to test on all platforms: might not work because may need list of\r\n      // Promise objects, not Targets\r\n      Promise.all(list).then(() => {\r\n        this.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\r\n      });\r\n    } else {\r\n      this.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\r\n    }\r\n  }\r\n\r\n  handleImmediately(parentRequest, name, pack, deferred, resultRequest) {\r\n    const descriptor = this.getCommand(name, getResourceType(parentRequest));\r\n    if (descriptor instanceof Descriptor) {\r\n      // INFO result should be applied to deferred.resolve() or deferred.reject()\r\n      // FIXME change pack to {command, args} object\r\n      descriptor.handler(parentRequest, pack, deferred, resultRequest);\r\n    } else {\r\n      throw new Error(`Command descriptor for \"${name}\" was not found.`);\r\n    }\r\n  }\r\n\r\n  static events = HandlersEvents;\r\n}\r\n\r\nexport const createHandlers = (proxyEnabled) => new Handlers(proxyEnabled);\r\n\r\nexport default Handlers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Handlers.js","import Descriptor, { createDescriptor } from '../command/Descriptor';\r\nimport Reserved from '../command/Reserved';\r\n\r\n\r\n/**\r\n * Checks for Descriptor uniqueness and reserved words usage.\r\n * @param {DataAccessInterface.Descriptor} descriptor\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n * @private\r\n */\r\nconst applyDescriptor = (descriptor, descriptors, properties) => {\r\n  const { name } = descriptor;\r\n  if (name in Reserved.names) {\r\n    throw new Error(`Name \"${name}\" is reserved and cannot be used in descriptor.`);\r\n  }\r\n  if (\r\n    Object.prototype.hasOwnProperty.call(descriptors, name)\r\n    && descriptors[name] instanceof Descriptor\r\n  ) {\r\n    throw new Error(`Field names should be unique, \"${String(name)}\" field has duplicates.`);\r\n  }\r\n  descriptors[name] = descriptor;\r\n  if (!descriptor.virtual) {\r\n    properties.push(descriptor);\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Array} handlers\r\n * @param {Object} descriptors\r\n * @private\r\n */\r\nconst filterArray = (handlers, descriptors, properties) => {\r\n  handlers.forEach((value) => {\r\n    if (value instanceof Descriptor) {\r\n      applyDescriptor(value, descriptors, properties);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * @param {Object} handlers\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n * @private\r\n */\r\nconst filterHash = (handlers, descriptors, properties) => {\r\n  if (!handlers) return;\r\n  ([\r\n    ...Object.getOwnPropertyNames(handlers),\r\n    ...Object.getOwnPropertySymbols(handlers),\r\n  ]).forEach((name) => {\r\n    let value = handlers[name];\r\n    if (typeof value === 'function') {\r\n      value = createDescriptor(name, value);\r\n    }\r\n    if (value instanceof Descriptor) {\r\n      applyDescriptor(value, descriptors, properties);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * @method Handlers.filterHandlers\r\n * @param {Array|Object} handlers\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n */\r\nexport default (handlers, descriptors, properties) => {\r\n  if (handlers instanceof Array) {\r\n    filterArray(handlers, descriptors, properties);\r\n  } else {\r\n    filterHash(handlers, descriptors, properties);\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/filterRequestHandlers.js","import Factory, { NO_INIT, createRequestFactory } from './Factory';\r\nimport { ProxyCommandFields } from '../command/internal/ProxyCommands';\r\n\r\nconst EXCLUSIONS = {\r\n  /*\r\n   INFO arguments and caller were included because they are required function properties\r\n   */\r\n  arguments: true,\r\n  caller: true,\r\n  prototype: true,\r\n};\r\n\r\nconst createFunctionWrapper = (target) => {\r\n  // INFO Target must be a function so I could use Proxy.call() interceptor.\r\n  function requestTargetProxy() {\r\n  }\r\n\r\n  requestTargetProxy.target = target;\r\n\r\n  return requestTargetProxy;\r\n};\r\n\r\nconst wrapWithProxy = (target, handlers) => new Proxy(createFunctionWrapper(target), handlers);\r\n\r\nconst proxyGet = (wrapper, name) => {\r\n  const { target } = wrapper;\r\n  if (name in target || name in EXCLUSIONS || typeof name === 'symbol') {\r\n    return target[name];\r\n  }\r\n  // INFO Proxy should be already applied, so no need in additional wrapping\r\n  return target[ProxyCommandFields.get](name);\r\n};\r\n\r\n// INFO Proxy should be already applied, so no need in additional wrapping\r\nconst proxyApply = (wrapper, thisValue, args) => (\r\n  wrapper.target[ProxyCommandFields.apply](null, args)\r\n);\r\n\r\nconst proxySet = (wrapper, name, value) => {\r\n  const { target } = wrapper;\r\n\r\n  if (name in target || name in EXCLUSIONS || typeof name === 'symbol') {\r\n    target[name] = value;\r\n    return value;\r\n  }\r\n\r\n  if (ProxyCommandFields.set in target) {\r\n    target[ProxyCommandFields.set](name, value);\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nconst proxyHas = (wrapper, name) => (\r\n  Object.prototype.hasOwnProperty.call(wrapper.target, name)\r\n);\r\n\r\nconst proxyDeleteProperty = (wrapper, name) => {\r\n  const { target } = wrapper;\r\n  if (ProxyCommandFields.deleteProperty in target) {\r\n    target[ProxyCommandFields.deleteProperty](name);\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nconst proxyOwnKeys = (wrapper) => {\r\n  const { target } = wrapper;\r\n  return [...Object.getOwnPropertyNames(target), ...Object.getOwnPropertyNames(EXCLUSIONS)];\r\n};\r\n\r\nconst proxyEnumerate = (wrapper) => {\r\n  const { target } = wrapper;\r\n  return [\r\n    ...Object.getOwnPropertyNames(target),\r\n    ...Object.getOwnPropertyNames(EXCLUSIONS),\r\n  ][Symbol.iterator]();\r\n};\r\n\r\nconst proxyGetOwnPropertyDescriptor = (wrapper, name) => {\r\n  if (Object.prototype.hasOwnProperty.call(EXCLUSIONS, name)) {\r\n    return Object.getOwnPropertyDescriptor(wrapper, name);\r\n  }\r\n  return Object.getOwnPropertyDescriptor(wrapper.target, name);\r\n};\r\n\r\n/**\r\n * Builds proper handlers hash for Proxy\r\n * @returns {Function}\r\n */\r\nexport const createProxyHandlers = (handlers = {}) => ({\r\n  get: proxyGet,\r\n  apply: proxyApply,\r\n  set: proxySet,\r\n  has: proxyHas,\r\n  deleteProperty: proxyDeleteProperty,\r\n  ownKeys: proxyOwnKeys,\r\n  enumerate: proxyEnumerate,\r\n  getOwnPropertyDescriptor: proxyGetOwnPropertyDescriptor,\r\n  ...handlers,\r\n});\r\n\r\nconst PROXY_HANDLERS = createProxyHandlers();\r\n\r\nclass ProxyFactory extends Factory {\r\n  constructor(handlers, cacheImpl) {\r\n    super(NO_INIT);\r\n\r\n    this.handlers = handlers;\r\n    this.factory = createRequestFactory(handlers, cacheImpl);\r\n    this.factory.decorator.setFactory(this);\r\n  }\r\n\r\n  create(promise) {\r\n    const instance = this.factory.create(promise);\r\n\r\n    if (this.handlers.available) {\r\n      return wrapWithProxy(instance, PROXY_HANDLERS);\r\n    }\r\n\r\n    return instance;\r\n  }\r\n\r\n  getCached(name, pack) {\r\n    return this.factory.getCached(name, pack);\r\n  }\r\n\r\n  createCached(promise, name, pack) {\r\n    const instance = this.factory.createCached(promise, name, pack);\r\n\r\n    if (this.handlers.available) {\r\n      return wrapWithProxy(instance, PROXY_HANDLERS);\r\n    }\r\n\r\n    return instance;\r\n  }\r\n\r\n}\r\n\r\nexport const applyProxyWithDefaultHandlers = (target) => wrapWithProxy(target, PROXY_HANDLERS);\r\n\r\nexport const createProxyFactory = (handlers, cacheImpl) => (\r\n  new ProxyFactory(handlers, cacheImpl)\r\n);\r\n\r\nexport default ProxyFactory;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/ProxyFactory.js","import CallbackFactory from '../command/CallbackFactory';\r\nimport getResourceType from '../utils/getResourceType';\r\n\r\nclass Decorator {\r\n  constructor(factory, handlers) {\r\n    this.handlers = handlers;\r\n    this.members = new CallbackFactory(factory);\r\n  }\r\n\r\n  apply(request) {\r\n    if (!this.handlers.available) {\r\n      return request;\r\n    }\r\n\r\n    const descriptors = this.handlers.getPropertyCommands(getResourceType(request));\r\n    return descriptors.forEach((descriptor) => {\r\n      request[descriptor.name] = this.members.get(descriptor);\r\n    });\r\n  }\r\n\r\n  setFactory(factory) {\r\n    if (factory) {\r\n      this.members.setFactory(factory);\r\n    }\r\n  }\r\n}\r\n\r\nexport const createDecorator = (factory, handlers) => (\r\n  new Decorator(factory, handlers)\r\n);\r\n\r\nexport default Decorator;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Decorator.js","import getInternals from '../request/target/getInternals';\r\nimport { createDeferred } from '../utils/Deferred';\r\nimport createRequestPackage from '../utils/createRequestPackage';\r\nimport setTemporary from '../request/target/setTemporary';\r\n\r\nconst createHandlerFor = (\r\n  factoryWrapper,\r\n  propertyName,\r\n  commandType,\r\n  isTemporary,\r\n  cacheable,\r\n) => {\r\n  const { factory, checkState, getChildRequest } = factoryWrapper;\r\n\r\n  function commandHandler(command, value, ...args) {\r\n    const target = getInternals(this);\r\n    let result;\r\n    let promise;\r\n    if (target) {\r\n      const pack = createRequestPackage(\r\n        commandType,\r\n        [command, value, ...args],\r\n        target.id,\r\n      );\r\n      // FIXME Explicitly pass scope\r\n      const request = getChildRequest(propertyName, pack, cacheable);\r\n      result = request.child;\r\n      if (request.deferred) {\r\n        promise = target.send(propertyName, pack, request.deferred, result);\r\n        if (promise) {\r\n          // FIXME isTemporary must be called before `result` was resolved\r\n          // FIXME remove default `isTemporary`, if not defined just skip\r\n          checkState(promise, isTemporary, this, result, pack);\r\n        } else {\r\n          result = null;\r\n          promise = Promise.reject(new Error('Initial request failed and didn\\'t result in promise.'));\r\n        }\r\n      }\r\n    } else {\r\n      promise = Promise.reject(new Error('Target object is not a resource, so cannot be used for calls.'));\r\n    }\r\n    return result || factory.create(promise);\r\n  }\r\n\r\n  return commandHandler;\r\n};\r\n\r\nclass CallbackFactory {\r\n  members = new Map();\r\n  factory = null;\r\n\r\n  constructor(factory = null) {\r\n    this.setFactory(factory);\r\n  }\r\n\r\n  /**\r\n   * @param {Descriptor} descriptor\r\n   * @returns {Function}\r\n   * @private\r\n   */\r\n  get(descriptor) {\r\n    const propertyName = descriptor.name;\r\n    if (!this.members.has(propertyName)) {\r\n      this.members.set(\r\n        propertyName,\r\n        this.create(\r\n          descriptor.name,\r\n          descriptor.type,\r\n          descriptor.isTemporary,\r\n          descriptor.cacheable,\r\n        ),\r\n      );\r\n    }\r\n    return this.members.get(propertyName);\r\n  }\r\n\r\n  create(propertyName, commandType, isTemporary, cacheable) {\r\n    return createHandlerFor(this, propertyName, commandType, isTemporary, cacheable);\r\n  }\r\n\r\n  getChildRequest = (propertyName, pack, cacheable) => {\r\n    let child;\r\n    let deferred;\r\n\r\n    if (cacheable) {\r\n      child = this.factory.getCached(propertyName, pack);\r\n    }\r\n\r\n    if (!child) {\r\n      deferred = createDeferred();\r\n      child = this.factory.create(deferred.promise, propertyName, pack, cacheable);\r\n    }\r\n\r\n    return { child, deferred };\r\n  };\r\n\r\n  checkState = (promise, isTemporaryFn, parentRequest, childRequest, pack) => {\r\n    promise.then((data) => {\r\n      const isTemporary = Boolean(isTemporaryFn(parentRequest, childRequest, pack, data));\r\n      setTemporary(childRequest, isTemporary);\r\n    });\r\n  };\r\n\r\n  setFactory(factory) {\r\n    this.factory = factory;\r\n  }\r\n}\r\n\r\nexport default CallbackFactory;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/CallbackFactory.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nimport getInternals from './getInternals';\r\n\r\nexport default (target, value) => getInternals(target).temporary = Boolean(value);\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/setTemporary.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nimport getStatus from './getStatus';\r\nimport TargetStatus from '../../utils/TargetStatus';\r\n\r\nexport default (value) => (\r\n  getStatus(value) === TargetStatus.PENDING\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/isPending.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nimport getInternals from './getInternals';\r\n\r\nexport default (target) => getInternals(target).status;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/getStatus.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nexport default Symbol('request.target::promise');\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/PROMISE_FIELD.js","import TargetStatus from '../../utils/TargetStatus';\r\nimport TARGET_DATA from '../../utils/TARGET_DATA';\r\nimport createRequestPackage from '../../utils/createRequestPackage';\r\nimport isResource from '../../utils/isResource';\r\nimport getResourceData from '../../utils/getResourceData';\r\nimport {\r\n  RequestCommandFields,\r\n  RequestCommandNames,\r\n} from '../../command//internal/RequestCommands';\r\nimport SubTargets from './SubTargets';\r\n\r\nclass Internals extends SubTargets {\r\n  constructor(target, promise, handlers) {\r\n    super();\r\n    this.handlers = handlers;\r\n    this.target = target;\r\n    this.link = {};\r\n    // INFO this should be not initialized i.e. keep it undefined, this will be checked later\r\n    this.temporary = undefined;\r\n    this.hadChildPromises = false;\r\n    this.status = TargetStatus.PENDING;\r\n    this.promise = promise\r\n      .then(this.handlePromiseResolve)\r\n      .catch(this.handlePromiseReject);\r\n    this.setParent(this);\r\n  }\r\n\r\n  get poolId() {\r\n    return this.link.poolId || null;\r\n  }\r\n\r\n  get type() {\r\n    return this.link.type || null;\r\n  }\r\n\r\n  get id() {\r\n    return this.link.id || null;\r\n  }\r\n\r\n  handlePromiseResolve = (value) => {\r\n    const result = { target: this.target, value };\r\n    this.status = TargetStatus.RESOLVED;\r\n    if (isResource(value)) {\r\n      this.link = getResourceData(value);\r\n      /*\r\n       INFO Sending \"this\" as result of resolve() handler, causes infinite\r\n       loop of this.then(), so I've used wrapper object\r\n      */\r\n      // FIXME Propagate proxified target, not original object, so it will be possible to use it as before\r\n      // best way of doing this is probably replacing \"target\" in ProxyFactory\r\n      // FIXME request target must be anything, not only resource, could be any value\r\n      // we should be able to make request against any type of value that was returned by server successfully\r\n      result.value = this.target;\r\n    }\r\n\r\n    this.parentResolved();\r\n\r\n    if (this.temporary) {\r\n      this.destroy();\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  handlePromiseReject = (value) => {\r\n    this.status = TargetStatus.REJECTED;\r\n    this.parentRejected('Target of the call was rejected and call cannot be sent.');\r\n    return Promise.reject(value);\r\n  };\r\n\r\n  isActive() {\r\n    return this.status === TargetStatus.PENDING || this.status === TargetStatus.RESOLVED;\r\n  }\r\n\r\n  canBeDestroyed() {\r\n    return this.status === TargetStatus.RESOLVED || this.status === TargetStatus.REJECTED;\r\n  }\r\n\r\n  destroy() {\r\n    let promise = null;\r\n    if (this.canBeDestroyed()) {\r\n      // INFO I should not clear children list, since they are pending and requests already sent.\r\n      if (this.status === TargetStatus.RESOLVED) {\r\n        promise = this.send(\r\n          RequestCommandFields.DESTROY,\r\n          createRequestPackage(\r\n            RequestCommandNames.DESTROY,\r\n            [null, null],\r\n            this.id,\r\n          ),\r\n        );\r\n      } else {\r\n        promise = Promise.resolve();\r\n      }\r\n      this.status = TargetStatus.DESTROYED;\r\n    } else {\r\n      promise = Promise.reject(new Error('Invalid or already destroyed target.'));\r\n    }\r\n    return promise;\r\n  }\r\n\r\n  then(handleResolve, handleReject) {\r\n    const child = this.promise.then(handleResolve, handleReject);\r\n    this.hadChildPromises = true;\r\n    return child;\r\n  }\r\n\r\n  catch(handleReject) {\r\n    const child = this.promise.catch(handleReject);\r\n    this.hadChildPromises = true;\r\n    return child;\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      [TARGET_DATA]: {\r\n        id: this.link.id,\r\n        type: this.link.type,\r\n        poolId: this.link.poolId,\r\n      },\r\n    };\r\n  }\r\n}\r\n\r\nexport default Internals;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/Internals.js"],"sourceRoot":""}
{"version":3,"sources":["webpack:///deferred-data-access.direct.js","webpack:///webpack/bootstrap 701d97b37ca986d7eebc","webpack:///./source/utils/isResource.js","webpack:///./source/utils/TARGET_INTERNALS.js","webpack:///./source/utils/TARGET_DATA.js","webpack:///./source/request/Target.js","webpack:///./source/command/Descriptor.js","webpack:///./source/resource/ResourcePool.js","webpack:///./source/utils/Deferred.js","webpack:///./source/utils/getRawResource.js","webpack:///./source/utils/IConvertible.js","webpack:///./node_modules/event-dispatcher/dist/event-dispatcher.js","webpack:///./source/resource/Resource.js","webpack:///./source/utils/getResourcePoolId.js","webpack:///./source/utils/getResourceId.js","webpack:///./source/command/internal/ProxyCommands.js","webpack:///./source/utils/getResourceType.js","webpack:///./source/utils/TargetStatus.js","webpack:///./source/utils/createRequestPackage.js","webpack:///./source/utils/getResourceData.js","webpack:///./source/utils/getId.js","webpack:///./source/command/internal/RequestCommands.js","webpack:///./source/command/Reserved.js","webpack:///./source/request/Factory.js","webpack:///./source/resource/Converter.js","webpack:///./source/utils/isResourceConvertible.js","webpack:///./source/resource/PoolRegistry.js","webpack:///./source/direct.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./source/index.js","webpack:///./source/DataAccessInterface.js","webpack:///./source/utils/areProxiesAvailable.js","webpack:///./source/request/target/Internals.js","webpack:///(webpack)/buildin/module.js","webpack:///./source/request/target/Queue.js","webpack:///./source/request/target/Children.js","webpack:///./source/request/Handlers.js","webpack:///./source/utils/filterRequestHandlers.js","webpack:///./source/request/ProxyFactory.js","webpack:///./source/request/Decorator.js","webpack:///./source/command/CallbackFactory.js"],"names":["DataAccessInterface","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__","__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_2__request_Target__","__WEBPACK_IMPORTED_MODULE_3__resource_Resource__","_typeof","Symbol","iterator","obj","constructor","_classCallCheck","instance","Constructor","TypeError","toJSON","setTemporary","isPending","getRawPromise","createRequestTarget","__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__","__WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__","__WEBPACK_IMPORTED_MODULE_2__utils_isResource__","__WEBPACK_IMPORTED_MODULE_3__target_Internals__","_createClass","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","defineProperties","target","props","descriptor","writable","key","protoProps","staticProps","PROMISE_FIELD","getRequestPromise","request","Target","promise","requestHandlers","_this","this","handlePromise","data","then","apply","arguments","catch","temporary","Boolean","getStatus","status","PENDING","createDescriptor","addDescriptorTo","descriptorGeneratorFactory","DEFAULT_IS_TEMPORARY","Descriptor","type","handler","isTemporary","cacheable","virtual","resourceType","String","command","freeze","Array","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","setPrototypeOf","__proto__","ResourcePoolEvents","defaultResourcePool","createResourcePool","__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__","__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default","__WEBPACK_IMPORTED_MODULE_1__utils_getId__","__WEBPACK_IMPORTED_MODULE_3__Resource__","_slicedToArray","isArray","RESOURCE_ADDED","RESOURCE_REMOVED","POOL_CLEAR","POOL_CLEARED","POOL_DESTROYED","MAP_FIELD","validTargets","isValidTarget","ResourcePool","_EventDispatcher","getPrototypeOf","Map","id","map","resource","has","set","hasEventListener","dispatchEvent","delete","destroy","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_ref","_ref2","return","clear","a","events","DefaultResourcePool","_ResourcePool","Error","list","reduce","createDeferred","Deferred","Promise","resolve","reject","__WEBPACK_IMPORTED_MODULE_1__IConvertible__","__WEBPACK_IMPORTED_MODULE_2__isResource__","__WEBPACK_IMPORTED_MODULE_3__request_Target__","__WEBPACK_IMPORTED_MODULE_4__resource_ResourcePool__","__WEBPACK_IMPORTED_MODULE_5__resource_Resource__","pool","IConvertible","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof2","root","factory","Event","_EventDispatcher2","default","hasOwnProp","defaultPrevented","ListenersRunner","listeners","onStopped","onComplete","index","immediatelyStopped","stopImmediatePropagation","event","listener","augmentEvent","clearEvent","eventObject","stopPropagation","EventListeners","_this2","_listeners","_runners","removeRunner","runner","splice","indexOf","eventType","priorityOpt","priority","parseInt","getPrioritiesByKey","handlers","createList","result","priorities","_this3","getOwnPropertyNames","handlerIndex","forEach","listenerRemoved","stopped","sort","b","_handlers","_runner","createRunner","run","EventDispatcher","eventPreprocessor","noInit","initialize","_eventPreprocessor","add","remove","removeAll","getEvent","eventOrType","optionalData","isObject","_defineProperty","createResource","__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__","__WEBPACK_IMPORTED_MODULE_2__utils_getId__","getPoolId","Resource","_Object$definePropert","poolId","active","internals","keys","ProxyCommandFields","__WEBPACK_IMPORTED_MODULE_0__Descriptor__","ProxyCommandNames","GET","SET","APPLY","DELETE_PROPERTY","deleteProperty","ProxyCommandsClass","names","fields","createGETDescriptor","createSETDescriptor","createAPPLYDescriptor","ProxyCommands","getResourceType","RESOLVED","REJECTED","DESTROYED","args","targetId","cmd","__WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_1__getRawResource__","base","Date","now","RequestCommandNames","RequestCommandFields","DESTROY","RequestCommands","createDESTROYDescriptor","createRequestFactory","__WEBPACK_IMPORTED_MODULE_0__Decorator__","__WEBPACK_IMPORTED_MODULE_1__Target__","Factory","cacheImpl","cache","decorator","available","pack","createResourceConverter","__WEBPACK_IMPORTED_MODULE_1__utils_getResourcePoolId__","__WEBPACK_IMPORTED_MODULE_2__utils_getResourceId__","__WEBPACK_IMPORTED_MODULE_3__utils_isResource__","__WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__","__WEBPACK_IMPORTED_MODULE_5__utils_getRawResource__","__WEBPACK_IMPORTED_MODULE_6__request_Target__","ConverterEvents","RESOURCE_CREATED","RESOURCE_CONVERTED","Converter","registry","setConverter","isRegistered","linkConvertHandler","item","resourceToObject","lookupArray","lookupObject","objectToResource","__WEBPACK_IMPORTED_MODULE_0__isResource__","createPoolRegistry","__WEBPACK_IMPORTED_MODULE_1__ResourcePool__","PoolRegistryEvents","RESOURCE_POOL_CREATED","RESOURCE_POOL_REGISTERED","RESOURCE_POOL_REMOVED","POOLS_FIELD","PoolRegistry","handlePoolDestroyed","register","addEventListener","removeEventListener","__WEBPACK_IMPORTED_MODULE_0__index__","assign","originalModule","webpackPolyfill","children","__WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__","__WEBPACK_IMPORTED_MODULE_1__utils_Deferred__","__WEBPACK_IMPORTED_MODULE_2__command_Descriptor__","__WEBPACK_IMPORTED_MODULE_3__command_Reserved__","__WEBPACK_IMPORTED_MODULE_4__command_internal_RequestCommands__","__WEBPACK_IMPORTED_MODULE_5__command_internal_ProxyCommands__","__WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__","__WEBPACK_IMPORTED_MODULE_8__resource_PoolRegistry__","__WEBPACK_IMPORTED_MODULE_9__resource_Converter__","__WEBPACK_IMPORTED_MODULE_10__utils_IConvertible__","__WEBPACK_IMPORTED_MODULE_11__utils_isResourceConvertible__","__WEBPACK_IMPORTED_MODULE_12__utils_getRawResource__","__WEBPACK_IMPORTED_MODULE_13__utils_getResourceData__","__WEBPACK_IMPORTED_MODULE_14__utils_getResourceId__","__WEBPACK_IMPORTED_MODULE_15__utils_getResourcePoolId__","__WEBPACK_IMPORTED_MODULE_16__utils_getResourceType__","__WEBPACK_IMPORTED_MODULE_17__utils_isResource__","dummy","__WEBPACK_IMPORTED_MODULE_0__utils_areProxiesAvailable__","__WEBPACK_IMPORTED_MODULE_1__utils_isResource__","__WEBPACK_IMPORTED_MODULE_2__utils_getResourcePoolId__","__WEBPACK_IMPORTED_MODULE_3__utils_getResourceId__","__WEBPACK_IMPORTED_MODULE_4__request_Handlers__","__WEBPACK_IMPORTED_MODULE_5__request_ProxyFactory__","__WEBPACK_IMPORTED_MODULE_6__request_Factory__","__WEBPACK_IMPORTED_MODULE_8__resource_Converter__","__WEBPACK_IMPORTED_MODULE_9__resource_PoolRegistry__","descriptors","proxyEnabled","poolRegistry","resourceConverter","createPool","poolDestroyedHandler","setHandlers","parse","Proxy","__WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__","__WEBPACK_IMPORTED_MODULE_2__utils_TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_3__utils_createRequestPackage__","__WEBPACK_IMPORTED_MODULE_4__utils_isResource__","__WEBPACK_IMPORTED_MODULE_5__utils_getResourceData__","__WEBPACK_IMPORTED_MODULE_6__Queue__","__WEBPACK_IMPORTED_MODULE_7__Children__","__WEBPACK_IMPORTED_MODULE_8__command_internal_RequestCommands__","Internals","requestTarget","handlePromiseResolve","link","sendQueue","rejectQueue","deferred","handlePromiseReject","hadChildPromises","queue","Abc","_Array","console","log","send","handleRequest","message","child","hasHandler","applyRequest","registerChild","addToQueue","handle","canBeDestroyed","sendRequest","handleResolve","handleReject","deprecate","paths","Queue","callback","error","__WEBPACK_IMPORTED_MODULE_0__Target__","Children","_toConsumableArray","arr2","from","createHandlers","__WEBPACK_IMPORTED_MODULE_0__command_Descriptor__","__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__","__WEBPACK_IMPORTED_MODULE_2__utils_filterRequestHandlers__","__WEBPACK_IMPORTED_MODULE_3__utils_getResourceType__","areProxyHandlersAvailable","throwError","required","HandlersEvents","HANDLERS_UPDATED","Handlers","properties","converter","setHandlersByType","descrs","getPropertyNames","parentRequest","resultRequest","lookupForPending","all","handleImmediately","getHandler","findIndex","__WEBPACK_IMPORTED_MODULE_1__command_Reserved__","applyDescriptor","filterArray","filterHash","concat","getOwnPropertySymbols","createProxyFactory","__WEBPACK_IMPORTED_MODULE_0__Factory__","EXCLUSIONS","caller","toString","createFunctionWrapper","requestTargetProxy","wrapWithProxy","proxyGet","wrapper","proxyApply","thisValue","proxySet","proxyHas","proxyDeleteProperty","proxyOwnKeys","proxyEnumerate","proxyGetOwnPropertyDescriptor","getOwnPropertyDescriptor","PROXY_HANDLERS","ownKeys","enumerate","ProxyFactory","_Factory","setFactory","getCached","createCached","createDecorator","__WEBPACK_IMPORTED_MODULE_0__command_CallbackFactory__","__WEBPACK_IMPORTED_MODULE_1__utils_getResourceType__","Decorator","members","getPropertyHandlers","__WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__","createHandlerFor","factoryWrapper","propertyName","commandType","commandHandler","_len","_key","getChildRequest","checkState","CallbackFactory","isTemporaryFn","childRequest"],"mappings":"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","file":"deferred-data-access.direct.js","sourcesContent":["var DataAccessInterface =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 25);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__request_Target__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__resource_Resource__ = __webpack_require__(10);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  return object instanceof __WEBPACK_IMPORTED_MODULE_3__resource_Resource__[\"b\" /* default */] || object instanceof __WEBPACK_IMPORTED_MODULE_2__request_Target__[\"b\" /* default */] || object && (\n  // this case for Targets and Resources which contain\n  // data in TARGET_INTERNALS Symbol\n  // We check for their types above but in cases when Proxies are enabled\n  // their type will be Function and verification will come to this case\n  _typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object' ||\n  // this case for RAW resources passed via JSON conversion,\n  // look like {'resource::data': {id: '1111', poolId: '22222'}}\n  _typeof(object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]]) === 'object');\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (Symbol('request.target:internals'));\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ('resource::data');\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export isActive */\n/* unused harmony export canBeDestroyed */\n/* unused harmony export destroy */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return toJSON; });\n/* unused harmony export isTemporary */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return setTemporary; });\n/* unused harmony export getStatus */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return isPending; });\n/* unused harmony export getQueueLength */\n/* unused harmony export getQueueCommands */\n/* unused harmony export hadChildPromises */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getRawPromise; });\n/* unused harmony export getChildren */\n/* unused harmony export getLastChild */\n/* unused harmony export getChildrenCount */\n/* unused harmony export sendRequest */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createRequestTarget; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__target_Internals__ = __webpack_require__(30);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar PROMISE_FIELD = Symbol('request.target::promise');\n\nvar getRequestPromise = function getRequestPromise(request) {\n  return request[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] || request[PROMISE_FIELD];\n};\n\n/**\n * The object that will be available on other side\n * @class DataAccessInterface.RequestTarget\n * @param _promise {Promise}\n * @param _requestHandlers {Handlers}\n */\n\nvar Target = function () {\n  function Target(promise, requestHandlers) {\n    var _this = this;\n\n    _classCallCheck(this, Target);\n\n    this[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] = new __WEBPACK_IMPORTED_MODULE_3__target_Internals__[\"a\" /* default */](this, promise, requestHandlers);\n\n    var handlePromise = function handlePromise(data) {\n      if (!Object(__WEBPACK_IMPORTED_MODULE_2__utils_isResource__[\"a\" /* default */])(data)) {\n        _this[PROMISE_FIELD] = promise;\n        delete _this[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]];\n      }\n    };\n\n    promise.then(handlePromise, handlePromise);\n  }\n\n  _createClass(Target, [{\n    key: 'then',\n    value: function then() {\n      var target = getRequestPromise(this);\n      return target.then.apply(target, arguments);\n    }\n  }, {\n    key: 'catch',\n    value: function _catch() {\n      var target = getRequestPromise(this);\n      return target.catch.apply(target, arguments);\n    }\n  }]);\n\n  return Target;\n}();\n\nvar isActive = function isActive(target) {\n  return target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] ? target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].isActive() : false;\n};\n\nvar canBeDestroyed = function canBeDestroyed(target) {\n  return target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] ? target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].canBeDestroyed() : false;\n};\n\nvar destroy = function destroy(target) {\n  return target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] ? target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].destroy() : null;\n};\n\nvar toJSON = function toJSON(target) {\n  return target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] ? target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].toJSON() : null;\n};\n\nvar isTemporary = function isTemporary(target) {\n  return target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].temporary;\n};\n\nvar setTemporary = function setTemporary(target, value) {\n  if (target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]]) {\n    target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].temporary = Boolean(value);\n  }\n};\n\nvar getStatus = function getStatus(target) {\n  return target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] ? target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].status : null;\n};\n\nvar isPending = function isPending(value) {\n  return getStatus(value) === __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__[\"a\" /* default */].PENDING;\n};\n\nvar getQueueLength = function getQueueLength(target) {\n  var list = target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] ? target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].queue : null;\n  return list ? list.length : 0;\n};\n\nvar getQueueCommands = function getQueueCommands(target) {\n  var queue = target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] ? target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].queue : null;\n  if (queue) {\n    return queue.map(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 1),\n          name = _ref2[0];\n\n      return name;\n    });\n    // return queue.map(([name, pack]) => pack.type);\n  }\n  return [];\n};\n\nvar hadChildPromises = function hadChildPromises(target) {\n  return Boolean(target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].hadChildPromises);\n};\n\nvar getRawPromise = function getRawPromise(target) {\n  return target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] ? target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].promise : null;\n};\n\nvar getRequestChildren = function getRequestChildren(target) {\n  return target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] ? target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].children : null;\n};\n\nvar getChildren = function getChildren(target) {\n  var list = getRequestChildren(target);\n  return list ? [].concat(_toConsumableArray(list)) : [];\n};\n\nvar getLastChild = function getLastChild(target) {\n  var list = getRequestChildren(target);\n  return list && list.length ? list[list.length - 1] : null;\n};\n\nvar getChildrenCount = function getChildrenCount(target) {\n  var list = getRequestChildren(target);\n  return list ? list.length : 0;\n};\n\n// FIXME Is it used? Why its similar to getChildrenCount()?\nvar sendRequest = function sendRequest(target) {\n  var list = getRequestChildren(target);\n  return list ? list.length : 0;\n};\n\nvar createRequestTarget = function createRequestTarget(promise, requestHandlers) {\n  return new Target(promise, requestHandlers);\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (Target);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export DEFAULT_IS_TEMPORARY */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createDescriptor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return addDescriptorTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return descriptorGeneratorFactory; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_IS_TEMPORARY = function DEFAULT_IS_TEMPORARY() {\n  return false;\n};\n\nvar Descriptor = function () {\n  function Descriptor(type, handler, name) {\n    _classCallCheck(this, Descriptor);\n\n    this.name = name !== undefined ? name : type;\n    this.type = type;\n    this.handler = handler;\n    /**\n     * @type {function(): boolean}\n     */\n    this.isTemporary = DEFAULT_IS_TEMPORARY;\n    this.cacheable = true;\n    this.virtual = false;\n    this.resourceType = null;\n  }\n\n  _createClass(Descriptor, [{\n    key: \"toString\",\n    value: function toString() {\n      return \"[Command Descriptor(name=\\\"\" + String(this.name) + \"\\\", \" + (\"type=\\\"\" + String(this.type) + \"\\\", virtual=\\\"\" + this.virtual + \"\\\")]\");\n    }\n  }]);\n\n  return Descriptor;\n}();\n\nvar createDescriptor = function createDescriptor(command, handler, name) {\n  var isTemporary = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : undefined;\n  var resourceType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n  var cacheable = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n  var virtual = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n\n  var descriptor = new Descriptor(command, handler, name);\n  descriptor.resourceType = resourceType;\n  descriptor.cacheable = cacheable;\n  descriptor.virtual = virtual;\n  if (isTemporary) {\n    descriptor.isTemporary = isTemporary;\n  }\n  // We can use Object.freeze(), it keeps class/constructor information\n  return Object.freeze(descriptor);\n};\n\nvar addDescriptorTo = function addDescriptorTo(descriptor, target) {\n  if (target instanceof Array) {\n    target.push(descriptor);\n  } else if (target) {\n    target[descriptor.name] = descriptor;\n  }\n};\n\nvar descriptorGeneratorFactory = function descriptorGeneratorFactory(command, name) {\n  return function (handler, target) {\n    var isTemporary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_IS_TEMPORARY;\n    var resourceType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var cacheable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var virtual = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n    var descriptor = createDescriptor(command, handler, name, isTemporary, resourceType, cacheable, virtual);\n    addDescriptorTo(descriptor, target);\n    return Object.freeze(descriptor);\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (Descriptor);\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ResourcePoolEvents; });\n/* unused harmony export MAP_FIELD */\n/* unused harmony export isValidTarget */\n/* unused harmony export setValidTargets */\n/* unused harmony export getDefaultValidTargets */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return defaultResourcePool; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createResourcePool; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_getId__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Resource__ = __webpack_require__(10);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar ResourcePoolEvents = Object.freeze({\n  RESOURCE_ADDED: 'resourceAdded',\n  RESOURCE_REMOVED: 'resourceRemoved',\n  POOL_CLEAR: 'poolClear',\n  POOL_CLEARED: 'poolCleared',\n  POOL_DESTROYED: 'poolDestroyed'\n});\n\nvar MAP_FIELD = Symbol('ResourcePool::map');\n\nvar validTargets = {};\n\nvar isValidTarget = function isValidTarget(target) {\n  return !Object(__WEBPACK_IMPORTED_MODULE_2__utils_isResource__[\"a\" /* default */])(target) && Boolean(validTargets[typeof target === 'undefined' ? 'undefined' : _typeof(target)]);\n};\n\nvar setValidTargets = function setValidTargets(list) {\n  validTargets = list.reduce(function (validTargets, target) {\n    validTargets[target] = true;\n\n    return validTargets;\n  }, {});\n};\n\nvar getDefaultValidTargets = function getDefaultValidTargets() {\n  return ['object', 'function'];\n};\n\nvar ResourcePool = function (_EventDispatcher) {\n  _inherits(ResourcePool, _EventDispatcher);\n\n  function ResourcePool() {\n    _classCallCheck(this, ResourcePool);\n\n    var _this = _possibleConstructorReturn(this, (ResourcePool.__proto__ || Object.getPrototypeOf(ResourcePool)).call(this));\n\n    _this[MAP_FIELD] = new Map();\n    Object.defineProperties(_this, {\n      id: {\n        value: Object(__WEBPACK_IMPORTED_MODULE_1__utils_getId__[\"a\" /* default */])()\n      }\n    });\n    return _this;\n  }\n\n  _createClass(ResourcePool, [{\n    key: 'set',\n    value: function set(value) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var map = this[MAP_FIELD];\n      var resource = null;\n      if (isValidTarget(value)) {\n        if (map.has(value)) {\n          resource = map.get(value);\n        } else {\n          resource = Object(__WEBPACK_IMPORTED_MODULE_3__Resource__[\"a\" /* createResource */])(this, value, type || (typeof value === 'undefined' ? 'undefined' : _typeof(value)));\n          map.set(resource.id, resource);\n          map.set(value, resource);\n          if (this.hasEventListener(ResourcePoolEvents.RESOURCE_ADDED)) {\n            this.dispatchEvent(ResourcePoolEvents.RESOURCE_ADDED, resource);\n          }\n        }\n      }\n\n      return resource;\n    }\n  }, {\n    key: 'has',\n    value: function has(target) {\n      return this[MAP_FIELD].has(target);\n    }\n  }, {\n    key: 'get',\n    value: function get(target) {\n      return this[MAP_FIELD].get(target);\n    }\n  }, {\n    key: 'remove',\n    value: function remove(value) {\n      var map = this[MAP_FIELD];\n      var resource = map.get(value);\n      if (resource) {\n        map.delete(resource.id);\n        map.delete(resource.value);\n        if (this.hasEventListener(ResourcePoolEvents.RESOURCE_REMOVED)) {\n          this.dispatchEvent(ResourcePoolEvents.RESOURCE_REMOVED, resource);\n        }\n        resource.destroy();\n      }\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var map = this[MAP_FIELD];\n      if (this.hasEventListener(ResourcePoolEvents.POOL_CLEAR)) {\n        this.dispatchEvent(ResourcePoolEvents.POOL_CLEAR, this);\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = map[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _ref = _step.value;\n\n          var _ref2 = _slicedToArray(_ref, 2);\n\n          var key = _ref2[0];\n          var resource = _ref2[1];\n\n          if (typeof key === 'string' && key === resource.id) {\n            resource.destroy();\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      map.clear();\n\n      if (this.hasEventListener(ResourcePoolEvents.POOL_CLEARED)) {\n        this.dispatchEvent(ResourcePoolEvents.POOL_CLEARED, this);\n      }\n    }\n  }, {\n    key: 'isActive',\n    value: function isActive() {\n      return Boolean(this[MAP_FIELD]);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.clear();\n      // intentionally make it not usable after its destroyed\n      delete this[MAP_FIELD];\n      if (this.hasEventListener(ResourcePoolEvents.POOL_DESTROYED)) {\n        // FIXME why for second parameter?\n        this.dispatchEvent(ResourcePoolEvents.POOL_DESTROYED, this);\n      }\n    }\n  }]);\n\n  return ResourcePool;\n}(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default.a);\n\nResourcePool.events = ResourcePoolEvents;\n\nvar DefaultResourcePool = function (_ResourcePool) {\n  _inherits(DefaultResourcePool, _ResourcePool);\n\n  function DefaultResourcePool() {\n    _classCallCheck(this, DefaultResourcePool);\n\n    return _possibleConstructorReturn(this, (DefaultResourcePool.__proto__ || Object.getPrototypeOf(DefaultResourcePool)).apply(this, arguments));\n  }\n\n  _createClass(DefaultResourcePool, [{\n    key: 'destroy',\n\n    // INFO default ResourcePool should not be destroyable;\n    value: function destroy() {\n      throw new Error('Default ResourcePool cannot be destroyed.');\n    }\n  }]);\n\n  return DefaultResourcePool;\n}(ResourcePool);\n\nvar defaultResourcePool = new DefaultResourcePool();\n\nvar createResourcePool = function createResourcePool() {\n  return new ResourcePool();\n};\n\nsetValidTargets(getDefaultValidTargets());\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (ResourcePool);\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createDeferred; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Deferred = function Deferred() {\n  var _this = this;\n\n  _classCallCheck(this, Deferred);\n\n  this.promise = new Promise(function (resolve, reject) {\n    _this.resolve = resolve;\n    _this.reject = reject;\n  });\n};\n\nvar createDeferred = function createDeferred() {\n  return new Deferred();\n};\n/* harmony default export */ __webpack_exports__[\"b\"] = (Deferred);\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__IConvertible__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__request_Target__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__resource_ResourcePool__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__resource_Resource__ = __webpack_require__(10);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object, pool) {\n  pool = pool || __WEBPACK_IMPORTED_MODULE_4__resource_ResourcePool__[\"d\" /* defaultResourcePool */];\n\n  if (object instanceof __WEBPACK_IMPORTED_MODULE_5__resource_Resource__[\"b\" /* default */]) {\n    return object.toJSON();\n  } else if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return Object(__WEBPACK_IMPORTED_MODULE_3__request_Target__[\"f\" /* toJSON */])(object);\n  } else if (object instanceof __WEBPACK_IMPORTED_MODULE_1__IConvertible__[\"a\" /* default */] || typeof object === 'function') {\n    return pool.set(object).toJSON();\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object;\n  }\n\n  return null;\n});\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Interface for all resource types, these will be treated as resources automatically\n * @interface\n * @alias DataAccessInterface.IConvertible\n */\nvar IConvertible = function IConvertible() {\n  _classCallCheck(this, IConvertible);\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (IConvertible);\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (( false ? 'undefined' : _typeof2(exports)) === 'object' && ( false ? 'undefined' : _typeof2(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if ((typeof exports === 'undefined' ? 'undefined' : _typeof2(exports)) === 'object') exports[\"EventDispatcher\"] = factory();else root[\"EventDispatcher\"] = factory();\n})(this, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/ };\n        /******/\n        /******/ // Execute the module function\n        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/__webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/__webpack_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/__webpack_require__.d = function (exports, name, getter) {\n        /******/if (!__webpack_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, {\n            /******/configurable: false,\n            /******/enumerable: true,\n            /******/get: getter\n            /******/ });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/__webpack_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ?\n        /******/function getDefault() {\n          return module['default'];\n        } :\n        /******/function getModuleExports() {\n          return module;\n        };\n        /******/__webpack_require__.d(getter, 'a', getter);\n        /******/return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/__webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/__webpack_require__.p = \"http://localhost:8081/dist/\";\n      /******/\n      /******/ // Load entry module and return exports\n      /******/return __webpack_require__(__webpack_require__.s = 0);\n      /******/\n    }(\n    /************************************************************************/\n    /******/[\n    /* 0 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Event = undefined;\n\n      var _EventDispatcher = __webpack_require__(1);\n\n      var _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      exports.default = _EventDispatcher2.default;\n      exports.Event = _EventDispatcher.Event;\n\n      /***/\n    },\n    /* 1 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n        return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var hasOwnProp = function hasOwnProp(target, name) {\n        return Object.prototype.hasOwnProperty.call(target, name);\n      }; /**\r\n          * Created by Oleg Galaburda on 09.02.16.\r\n          * \r\n          */\n\n      var Event = exports.Event = function () {\n        function Event(type) {\n          var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n          _classCallCheck(this, Event);\n\n          this.type = type;\n          this.data = data;\n          this.defaultPrevented = false;\n        }\n\n        _createClass(Event, [{\n          key: 'toJSON',\n          value: function toJSON() {\n            return { type: this.type, data: this.data };\n          }\n        }, {\n          key: 'isDefaultPrevented',\n          value: function isDefaultPrevented() {\n            return this.defaultPrevented;\n          }\n        }, {\n          key: 'preventDefault',\n          value: function preventDefault() {\n            this.defaultPrevented = true;\n          }\n        }]);\n\n        return Event;\n      }();\n\n      var ListenersRunner = function () {\n        function ListenersRunner(listeners, onStopped, onComplete) {\n          var _this = this;\n\n          _classCallCheck(this, ListenersRunner);\n\n          this.index = -1;\n          this.immediatelyStopped = false;\n\n          this.stopImmediatePropagation = function () {\n            _this.immediatelyStopped = true;\n          };\n\n          this.listeners = listeners;\n          this.onStopped = onStopped;\n          this.onComplete = onComplete;\n        }\n\n        _createClass(ListenersRunner, [{\n          key: 'run',\n          value: function run(event, target) {\n            var listener = void 0;\n            var listeners = this.listeners;\n\n            this.augmentEvent(event);\n            // TODO this has to be handled in separate object ListenersRunner that should be\n            // created for each call() call and asked for index validation on each listener remove.\n            for (this.index = 0; this.index < listeners.length; this.index++) {\n              if (this.immediatelyStopped) break;\n              listener = listeners[this.index];\n              listener.call(target, event);\n            }\n            this.clearEvent(event);\n            this.onComplete(this);\n          }\n        }, {\n          key: 'augmentEvent',\n          value: function augmentEvent(eventObject) {\n            var event = eventObject;\n            event.stopPropagation = this.onStopped;\n            event.stopImmediatePropagation = this.stopImmediatePropagation;\n          }\n\n          /* eslint class-methods-use-this: \"off\" */\n\n        }, {\n          key: 'clearEvent',\n          value: function clearEvent(eventObject) {\n            var event = eventObject;\n            delete event.stopPropagation;\n            delete event.stopImmediatePropagation;\n          }\n        }, {\n          key: 'listenerRemoved',\n          value: function listenerRemoved(listeners, index) {\n            if (listeners === this.listeners && index <= this.index) {\n              this.index--;\n            }\n          }\n        }]);\n\n        return ListenersRunner;\n      }();\n\n      var EventListeners = function () {\n        function EventListeners() {\n          var _this2 = this;\n\n          _classCallCheck(this, EventListeners);\n\n          this._listeners = {};\n          this._runners = [];\n\n          this.removeRunner = function (runner) {\n            _this2._runners.splice(_this2._runners.indexOf(runner), 1);\n          };\n        }\n        /**\r\n         * key - event Type\r\n         * value - hash of priorities\r\n         *    key - priority\r\n         *    value - list of handlers\r\n         * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n         * @private\r\n         */\n\n        _createClass(EventListeners, [{\n          key: 'createList',\n          value: function createList(eventType, priorityOpt) {\n            var priority = parseInt(priorityOpt, 10);\n            var target = this.getPrioritiesByKey(eventType);\n            var key = String(priority);\n            var value = void 0;\n            if (hasOwnProp(target, key)) {\n              value = target[key];\n            } else {\n              value = [];\n              target[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'getPrioritiesByKey',\n          value: function getPrioritiesByKey(key) {\n            var value = void 0;\n            if (hasOwnProp(this._listeners, key)) {\n              value = this._listeners[key];\n            } else {\n              value = {};\n              this._listeners[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'add',\n          value: function add(eventType, handler, priority) {\n            var handlers = this.createList(eventType, priority);\n            if (handlers.indexOf(handler) < 0) {\n              handlers.push(handler);\n            }\n          }\n        }, {\n          key: 'has',\n          value: function has(eventType) {\n            var priority = void 0;\n            var result = false;\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              for (priority in priorities) {\n                if (hasOwnProp(priorities, priority)) {\n                  result = true;\n                  break;\n                }\n              }\n            }\n            return result;\n          }\n        }, {\n          key: 'remove',\n          value: function remove(eventType, handler) {\n            var _this3 = this;\n\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              var list = Object.getOwnPropertyNames(priorities);\n              var length = list.length;\n\n              var _loop = function _loop(index) {\n                var priority = list[index];\n                var handlers = priorities[priority];\n                var handlerIndex = handlers.indexOf(handler);\n                if (handlerIndex >= 0) {\n                  handlers.splice(handlerIndex, 1);\n                  if (!handlers.length) {\n                    delete priorities[priority];\n                  }\n                  _this3._runners.forEach(function (runner) {\n                    runner.listenerRemoved(handlers, handlerIndex);\n                  });\n                }\n              };\n\n              for (var index = 0; index < length; index++) {\n                _loop(index);\n              }\n            }\n          }\n        }, {\n          key: 'removeAll',\n          value: function removeAll(eventType) {\n            delete this._listeners[eventType];\n          }\n        }, {\n          key: 'createRunner',\n          value: function createRunner(handlers, onStopped) {\n            var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\n            this._runners.push(runner);\n            return runner;\n          }\n        }, {\n          key: 'call',\n          value: function call(event, target) {\n            var priorities = this.getPrioritiesByKey(event.type);\n            var stopped = false;\n            var stopPropagation = function stopPropagation() {\n              stopped = true;\n            };\n            if (priorities) {\n              // getOwnPropertyNames() or keys()?\n              var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\n                return a - b;\n              });\n              var length = list.length;\n\n              for (var index = 0; index < length; index++) {\n                if (stopped) break;\n                var _handlers = priorities[list[index]];\n                // in case if all handlers of priority were removed while event\n                // was dispatched and handlers become undefined.\n                if (_handlers) {\n                  var _runner = this.createRunner(_handlers, stopPropagation);\n                  _runner.run(event, target);\n                  if (_runner.immediatelyStopped) break;\n                }\n              }\n            }\n          }\n        }]);\n\n        return EventListeners;\n      }();\n\n      var EventDispatcher = function () {\n        function EventDispatcher() {\n          var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n          var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n          _classCallCheck(this, EventDispatcher);\n\n          if (!noInit) {\n            this.initialize(eventPreprocessor);\n          }\n        }\n\n        /**\r\n         * @private\r\n         */\n\n        _createClass(EventDispatcher, [{\n          key: 'initialize',\n          value: function initialize() {\n            var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n            this._eventPreprocessor = eventPreprocessor;\n            this._listeners = new EventListeners();\n          }\n        }, {\n          key: 'addEventListener',\n          value: function addEventListener(eventType, listener) {\n            var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n            this._listeners.add(eventType, listener, -priority || 0);\n          }\n        }, {\n          key: 'hasEventListener',\n          value: function hasEventListener(eventType) {\n            return this._listeners.has(eventType);\n          }\n        }, {\n          key: 'removeEventListener',\n          value: function removeEventListener(eventType, listener) {\n            this._listeners.remove(eventType, listener);\n          }\n        }, {\n          key: 'removeAllEventListeners',\n          value: function removeAllEventListeners(eventType) {\n            this._listeners.removeAll(eventType);\n          }\n        }, {\n          key: 'dispatchEvent',\n          value: function dispatchEvent(event, data) {\n            var eventObject = EventDispatcher.getEvent(event, data);\n            if (this._eventPreprocessor) {\n              eventObject = this._eventPreprocessor.call(this, eventObject);\n            }\n            this._listeners.call(eventObject);\n          }\n        }], [{\n          key: 'isObject',\n          value: function isObject(value) {\n            return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n          }\n        }, {\n          key: 'getEvent',\n          value: function getEvent(eventOrType, optionalData) {\n            var event = eventOrType;\n            if (!EventDispatcher.isObject(eventOrType)) {\n              event = new EventDispatcher.Event(String(eventOrType), optionalData);\n            }\n            return event;\n          }\n        }, {\n          key: 'create',\n          value: function create(eventPreprocessor) {\n            return new EventDispatcher(eventPreprocessor);\n          }\n\n          /* eslint no-undef: \"off\" */\n\n        }]);\n\n        return EventDispatcher;\n      }();\n\n      EventDispatcher.Event = Event;\n\n      exports.default = EventDispatcher;\n\n      /***/\n    }]\n    /******/)\n  );\n});\n//# sourceMappingURL=event-dispatcher.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(31)(module)))\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createResource; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_getId__ = __webpack_require__(18);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\nvar getPoolId = function getPoolId(pool) {\n  return pool ? pool.id : null;\n};\n\n/**\n * @exports Resource\n */\n\nvar Resource = function () {\n  function Resource(pool, value, type, id) {\n    var _this = this,\n        _Object$definePropert;\n\n    _classCallCheck(this, Resource);\n\n    this.toJSON = function () {\n      return _defineProperty({}, __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__[\"a\" /* default */], {\n        id: _this.id,\n        type: _this.type,\n        poolId: _this.poolId\n      });\n    };\n\n    Object.defineProperties(this, (_Object$definePropert = {}, _defineProperty(_Object$definePropert, __WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__[\"a\" /* default */], {\n      value: {\n        pool: pool,\n        value: value,\n        type: type,\n        id: id,\n        active: true,\n        poolId: getPoolId(pool)\n      }\n    }), _defineProperty(_Object$definePropert, __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__[\"a\" /* default */], {\n      get: this.toJSON\n    }), _Object$definePropert));\n  }\n\n  _createClass(Resource, [{\n    key: 'destroy',\n    value: function destroy() {\n      var internals = this[__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__[\"a\" /* default */]];\n      var id = internals.id,\n          pool = internals.pool;\n\n\n      if (!internals.active) {\n        return;\n      }\n\n      internals.active = false;\n      pool.remove(id);\n\n      Object.keys(internals).map(function (name) {\n        return delete internals[name];\n      });\n    }\n  }, {\n    key: 'active',\n    get: function get() {\n      return Boolean(this[__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__[\"a\" /* default */]].active);\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return this[__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__[\"a\" /* default */]].value;\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return this[__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__[\"a\" /* default */]].type || _typeof(this[__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__[\"a\" /* default */]].value);\n    }\n  }, {\n    key: 'id',\n    get: function get() {\n      return this[__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__[\"a\" /* default */]].id;\n    }\n  }, {\n    key: 'poolId',\n    get: function get() {\n      return this[__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__[\"a\" /* default */]].poolId;\n    }\n  }]);\n\n  return Resource;\n}();\n\nvar createResource = function createResource(pool, value, resourceType) {\n  var id = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  return new Resource(pool, value, resourceType, id || Object(__WEBPACK_IMPORTED_MODULE_2__utils_getId__[\"a\" /* default */])());\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (Resource);\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]].poolId;\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]].poolId;\n  }\n  return null;\n});\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  // if (object instanceof Resource || object instanceof Target) {\n  if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]].id;\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]].id;\n  }\n\n  return null;\n});\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ProxyCommandNames */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ProxyCommandFields; });\n/* unused harmony export createDescriptors */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Descriptor__ = __webpack_require__(4);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar ProxyCommandNames = Object.freeze({\n  GET: 'get',\n  SET: 'set',\n  APPLY: 'apply',\n  DELETE_PROPERTY: 'deleteProperty'\n});\n\nvar ProxyCommandFields = Object.freeze({\n  get: Symbol('proxy.commands::get'),\n  set: Symbol('proxy.commands::set'),\n  apply: Symbol('proxy.commands::apply'),\n  deleteProperty: Symbol('proxy.commands::deleteProperty')\n});\n\nvar ProxyCommandsClass = function () {\n  function ProxyCommandsClass() {\n    _classCallCheck(this, ProxyCommandsClass);\n\n    this.names = ProxyCommandNames;\n    this.fields = ProxyCommandFields;\n    this.createGETDescriptor = Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"d\" /* descriptorGeneratorFactory */])(ProxyCommandNames.GET, ProxyCommandFields.get);\n    this.createSETDescriptor = Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"d\" /* descriptorGeneratorFactory */])(ProxyCommandNames.SET, ProxyCommandFields.set);\n    this.createAPPLYDescriptor = Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"d\" /* descriptorGeneratorFactory */])(ProxyCommandNames.APPLY, ProxyCommandFields.apply);\n\n    Object.freeze(this);\n  }\n\n  _createClass(ProxyCommandsClass, [{\n    key: 'list',\n    get: function get() {\n      return [ProxyCommandNames.GET, ProxyCommandNames.SET, ProxyCommandNames.APPLY, ProxyCommandNames.DELETE_PROPERTY];\n    }\n  }, {\n    key: 'required',\n    get: function get() {\n      return [ProxyCommandNames.GET, ProxyCommandNames.SET, ProxyCommandNames.APPLY];\n    }\n  }]);\n\n  return ProxyCommandsClass;\n}();\n\nvar ProxyCommands = new ProxyCommandsClass();\n\nvar createDescriptors = function createDescriptors(handlers) {\n  var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var isTemporary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n  var resourceType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  var cacheable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var virtual = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n  var args = [isTemporary, resourceType, cacheable, virtual];\n  ProxyCommands.list.forEach(function (name) {\n    var handler = handlers[name];\n    var field = ProxyCommandFields[name];\n\n    if (handler instanceof Function) {\n      var descriptor = __WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"b\" /* createDescriptor */].apply(undefined, [name, handler, field].concat(args));\n      descriptor = Object.freeze(descriptor);\n\n      if (target instanceof Array) {\n        target.push(descriptor);\n      } else if (target) {\n        target[field] = descriptor;\n      }\n    }\n  });\n\n  return target;\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (ProxyCommands);\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\nvar getResourceType = function getResourceType(object) {\n  if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]].type;\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]].type;\n  }\n\n  return null;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (getResourceType);\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object.freeze({\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n  DESTROYED: 'destroyed'\n}));\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (type, args, targetId) {\n  var result = {\n    type: type,\n    cmd: args[0], // cmd,\n    value: args[1], // value,\n    target: targetId\n  };\n\n  // FIXME why? probably to make it not enumerable?.. fuck, dunno\n  Object.defineProperty(result, 'args', {\n    value: args\n  });\n\n  return result;\n});\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__getRawResource__ = __webpack_require__(7);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  var data = Object(__WEBPACK_IMPORTED_MODULE_1__getRawResource__[\"a\" /* default */])(object);\n  return data ? data[__WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__[\"a\" /* default */]] : null;\n});\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar base = \"DA/\" + Date.now() + \"/\";\nvar index = 0;\n/* harmony default export */ __webpack_exports__[\"a\"] = (function () {\n  return \"\" + base + ++index + \"/\" + Date.now();\n});\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return RequestCommandNames; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RequestCommandFields; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Descriptor__ = __webpack_require__(4);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar RequestCommandNames = Object.freeze({\n  DESTROY: '::destroy.resource'\n});\n\nvar RequestCommandFields = Object.freeze({\n  DESTROY: Symbol('::destroy.resource')\n});\n\n/**\n * Destroy is unique type that exists for every Target\n * and does not have a method on its instances. This type will\n * be send each time Target.destroy() is applied to\n * Target in stance.\n */\n\nvar RequestCommands = function RequestCommands() {\n  _classCallCheck(this, RequestCommands);\n\n  this.names = RequestCommandNames;\n  this.fields = RequestCommandFields;\n\n  this.createDESTROYDescriptor = function (handler, target) {\n    var descriptor = new __WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"c\" /* default */](RequestCommandNames.DESTROY, handler, RequestCommandFields.DESTROY);\n    descriptor.cacheable = false;\n    descriptor.virtual = true;\n    Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"a\" /* addDescriptorTo */])(descriptor, target);\n    return Object.freeze(descriptor);\n  };\n\n  Object.freeze(this);\n};\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (new RequestCommands());\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\n * Reserved words\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object.freeze({\n  /**\n   * Contains property names that cannot be used for Descriptor's\n   */\n  names: Object.freeze({\n    // INFO Exposed Promise method, cannot be overwritten by type\n    then: true,\n    // INFO Exposed Promise method, cannot be overwritten by type\n    catch: true\n  })\n}));\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createRequestFactory; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Decorator__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Target__ = __webpack_require__(3);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar Factory = function () {\n  /*\n   function DummyCacheImpl() {\n   this.get = function(name, pack) {\n    };\n   this.set = function(name, pack, request) {\n    };\n   }\n   */\n  function Factory(handlers) {\n    var cacheImpl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n    var noInit = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    _classCallCheck(this, Factory);\n\n    if (noInit) {\n      return;\n    }\n\n    this.cache = cacheImpl;\n    this.handlers = handlers;\n    this.decorator = Object(__WEBPACK_IMPORTED_MODULE_0__Decorator__[\"a\" /* createDecorator */])(this, handlers);\n  }\n\n  _createClass(Factory, [{\n    key: 'create',\n    value: function create(promise) {\n      var request = Object(__WEBPACK_IMPORTED_MODULE_1__Target__[\"a\" /* createRequestTarget */])(promise, this.handlers);\n      if (this.handlers.available) {\n        this.decorator.apply(request);\n      }\n      return request;\n    }\n  }, {\n    key: 'getCached',\n    value: function getCached(name, pack) {\n      return this.cache && this.cache.get(name, pack);\n    }\n  }, {\n    key: 'createCached',\n    value: function createCached(promise, name, pack) {\n      var request = null;\n      if (this.cache) {\n        request = this.create(promise);\n        this.cache.set(name, pack, request);\n      }\n      return request;\n    }\n  }]);\n\n  return Factory;\n}();\n\nvar createRequestFactory = function createRequestFactory(handlers, cacheImpl) {\n  return new Factory(handlers, cacheImpl);\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (Factory);\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ConverterEvents */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createResourceConverter; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_getResourcePoolId__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_getResourceId__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_getRawResource__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__request_Target__ = __webpack_require__(3);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\nvar ConverterEvents = Object.freeze({\n  RESOURCE_CREATED: 'resourceCreated',\n  RESOURCE_CONVERTED: 'resourceConverted'\n});\n\n/**\n * Resource converter contains bunch of methods to lookup for resources\n * and registering them, converting them into RAWResource or into\n * Targets, depending on their origin.\n * Before sending data, bundled resources should be registered in ResourcePool\n * and then converted to RAWResource objects.\n * After data received, its RAWResources should be converted to Targets\n * for not resolved resources or to resource target values otherwise.\n * Resource can be resolved by its `id` and `poolId`, if Converter\n * can find ResourcePool with id from poolId, it will try to get target\n * resource value and replace with it RAWResource object.\n * If ResourcePool not found, Converter assumes that resource come from\n * other origin/environment and creates Target object that can be target\n * object for commands.\n * Converter while handling data does not look deeply, so its developer\n * responsibility to convert deeply nested resource targets.\n */\n\nvar Converter = function (_EventDispatcher) {\n  _inherits(Converter, _EventDispatcher);\n\n  function Converter(factory, registry, pool) {\n    var handlers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    _classCallCheck(this, Converter);\n\n    var _this = _possibleConstructorReturn(this, (Converter.__proto__ || Object.getPrototypeOf(Converter)).call(this));\n\n    _this.factory = factory;\n    _this.pool = pool;\n    _this.registry = registry;\n\n    if (handlers) {\n      handlers.setConverter(_this);\n    }\n    return _this;\n  }\n\n  _createClass(Converter, [{\n    key: 'resourceToObject',\n    value: function resourceToObject(data) {\n      var result = void 0;\n\n      if (Object(__WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__[\"a\" /* default */])(data)) {\n        result = Object(__WEBPACK_IMPORTED_MODULE_5__utils_getRawResource__[\"a\" /* default */])(data, this.pool);\n      } else if (typeof data.toJSON === 'function') {\n        result = data.toJSON();\n      } else {\n        return data;\n      }\n\n      if (this.hasEventListener(ConverterEvents.RESOURCE_CONVERTED)) {\n        this.dispatchEvent(ConverterEvents.RESOURCE_CONVERTED, {\n          data: data,\n          result: result\n        });\n      }\n\n      return result;\n    }\n\n    /**\n     * @method DataAccessInterface.ResourceConverter#objectToResource\n     * @param {*} data\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: 'objectToResource',\n    value: function objectToResource(data) {\n      var result = data;\n\n      if (Object(__WEBPACK_IMPORTED_MODULE_3__utils_isResource__[\"a\" /* default */])(data)) {\n        var poolId = Object(__WEBPACK_IMPORTED_MODULE_1__utils_getResourcePoolId__[\"a\" /* default */])(data);\n\n        if (this.registry.isRegistered(poolId)) {\n          // target object is stored in current pool\n          var target = this.registry.get(poolId).get(Object(__WEBPACK_IMPORTED_MODULE_2__utils_getResourceId__[\"a\" /* default */])(data));\n\n          if (target) {\n            result = target.value;\n          }\n        } else {\n          // target object has another origin, should be wrapped\n          result = this.factory.create(Promise.resolve(data));\n        }\n      }\n\n      if (result !== data && this.hasEventListener(ConverterEvents.RESOURCE_CREATED)) {\n        this.dispatchEvent(ConverterEvents.RESOURCE_CREATED, {\n          data: data,\n          result: result\n        });\n      }\n\n      return result;\n    }\n\n    /**\n     * @method DataAccessInterface.ResourceConverter#lookupArray\n     * @param list\n     * @param linkConvertHandler\n     * @returns {Array}\n     * @private\n     */\n\n  }, {\n    key: 'lookupArray',\n    value: function lookupArray(list, linkConvertHandler) {\n      var _this2 = this;\n\n      return list.map(function (item) {\n        return linkConvertHandler.call(_this2, item);\n      });\n    }\n\n    /**\n     * @method DataAccessInterface.ResourceConverter#lookupObject\n     * @param {*} data\n     * @param {Function} linkConvertHandler\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: 'lookupObject',\n    value: function lookupObject(data, linkConvertHandler) {\n      var _this3 = this;\n\n      return Object.getOwnPropertyNames(data).reduce(function (result, name) {\n        if (Object.prototype.hasOwnProperty.call(data, name)) {\n          result[name] = linkConvertHandler.call(_this3, data[name]);\n        }\n\n        return result;\n      }, {});\n    }\n\n    /**\n     * @method DataAccessInterface.ResourceConverter#toJSON\n     * @param {*} data\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function toJSON(data) {\n      var result = data;\n\n      if (data !== undefined && data !== null) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__[\"a\" /* default */])(data)) {\n          // if data is Target, Resource, IConvertible, Function or RAW resource data\n          result = this.resourceToObject(data);\n        } else if (data instanceof Array) {\n          // if data is Array of values, check its\n          result = this.lookupArray(data, this.resourceToObject);\n        } else if (data.constructor === Object) {\n          // only Object instances can be looked up, other object types must be converted by hand\n          result = this.lookupObject(data, this.resourceToObject);\n        }\n      }\n      return result;\n    }\n\n    /**\n     * @method DataAccessInterface.ResourceConverter#parse\n     * @param {*} data\n     * @returns {*}\n     * @private\n     */\n\n  }, {\n    key: 'parse',\n    value: function parse(data) {\n      var result = data;\n\n      if (data !== undefined && data !== null) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_3__utils_isResource__[\"a\" /* default */])(data)) {\n          // if data is RAW resource data\n          result = this.objectToResource(data);\n        } else if (data instanceof Array) {\n          // if data is Array of values, check its\n          result = this.lookupArray(data, this.objectToResource);\n        } else if (data.constructor === Object) {\n          result = this.lookupObject(data, this.objectToResource);\n        }\n      }\n\n      return result;\n    }\n\n    /**\n     * @method DataAccessInterface.ResourceConverter#lookupForPending\n     * @param {*} data\n     * @returns {Array}\n     */\n\n  }, {\n    key: 'lookupForPending',\n    value: function lookupForPending(data) {\n      var result = [];\n\n      var add = function add(value) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_6__request_Target__[\"d\" /* isPending */])(value)) {\n          result.push(value);\n        }\n        return value;\n      };\n\n      if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object' && data !== null) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_6__request_Target__[\"d\" /* isPending */])(data)) {\n          result.push(data);\n        } else if (data instanceof Array) {\n          this.lookupArray(data, add);\n        } else if (data.constructor === Object) {\n          this.lookupObject(data, add);\n        }\n      }\n      return result;\n    }\n  }]);\n\n  return Converter;\n}(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default.a);\n\n/**\n * @param {RequestFactory} factory\n * @param {DataAccessInterface.ResourcePoolRegistry} registry\n * @param {DataAccessInterface.ResourcePool} pool\n * @param {Handlers} handlers\n * @returns {ResourceConverter}\n */\n\n\nConverter.events = ConverterEvents;\nvar createResourceConverter = function createResourceConverter(factory, registry, pool, handlers) {\n  return new Converter(factory, registry, pool, handlers);\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (Converter);\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__IConvertible__ = __webpack_require__(8);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__isResource__[\"a\" /* default */])(data) || typeof data === 'function' || data instanceof __WEBPACK_IMPORTED_MODULE_1__IConvertible__[\"a\" /* default */];\n});\n\n/***/ }),\n/* 24 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export PoolRegistryEvents */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createPoolRegistry; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ResourcePool__ = __webpack_require__(5);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar PoolRegistryEvents = Object.freeze({\n  RESOURCE_POOL_CREATED: 'resourcePoolCreated',\n  RESOURCE_POOL_REGISTERED: 'resourcePoolRegistered',\n  RESOURCE_POOL_REMOVED: 'resourcePoolRemoved'\n});\n\nvar POOLS_FIELD = Symbol('resource.pool.registry::pools');\n\n/**\n * @classdesc Collection of ResourcePool instances. Allows lookup for ResourcePool by its Id.\n * When ResourcePool is registered in PoolRegistry, it subscribes to\n * ResourcePool POOL_DESTROYED event and removes pool from registry after its destroyed.\n */\n\nvar PoolRegistry = function (_EventDispatcher) {\n  _inherits(PoolRegistry, _EventDispatcher);\n\n  function PoolRegistry() {\n    _classCallCheck(this, PoolRegistry);\n\n    var _this = _possibleConstructorReturn(this, (PoolRegistry.__proto__ || Object.getPrototypeOf(PoolRegistry)).call(this));\n\n    _this.handlePoolDestroyed = function (event) {\n      _this.remove(event.data);\n    };\n\n    _this[POOLS_FIELD] = {};\n\n    // every registry should keep default pool, so you can have access from anywhere\n    _this.register(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"d\" /* defaultResourcePool */]);\n    return _this;\n  }\n\n  _createClass(PoolRegistry, [{\n    key: 'createPool',\n\n\n    /**\n     * Create and register ResourcePool\n     * @returns {DataAccessInterface.ResourcePool} New ResourcePool instance\n     */\n    value: function createPool() {\n      var pool = Object(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"b\" /* createResourcePool */])();\n      if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_CREATED)) {\n        this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_CREATED, pool);\n      }\n      this.register(pool);\n      return pool;\n    }\n\n    /**\n     * Register ResourcePool instance.\n     * @param pool {DataAccessInterface.ResourcePool} ResourcePool instance to be registered\n     */\n\n  }, {\n    key: 'register',\n    value: function register(pool) {\n      if (Object.prototype.hasOwnProperty.call(this[POOLS_FIELD], pool.id)) return;\n      this[POOLS_FIELD][pool.id] = pool;\n      pool.addEventListener(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, this.handlePoolDestroyed);\n      if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REGISTERED)) {\n        this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REGISTERED, pool);\n      }\n    }\n\n    /**\n     * Retrieve ResourcePool instance from registry by its Id.\n     * @param poolId {String} ResourcePool instance Id\n     * @returns {DataAccessInterface.ResourcePool|null}\n     */\n\n  }, {\n    key: 'get',\n    value: function get(poolId) {\n      return this[POOLS_FIELD][poolId] || null;\n    }\n\n    /**\n     * Check if ResourcePool registered in this registry instance.\n     * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'isRegistered',\n    value: function isRegistered(pool) {\n      return Object.prototype.hasOwnProperty.call(this[POOLS_FIELD], pool instanceof __WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"c\" /* default */] ? pool.id : String(pool));\n    }\n\n    /**\n     * Remove ResourcePool from current registry instance.\n     * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\n     * @returns {Boolean}\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(pool) {\n      var result = false;\n      pool = pool instanceof __WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"c\" /* default */] ? pool : this.get(pool);\n      if (pool) {\n        pool.removeEventListener(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, this.handlePoolDestroyed);\n        result = delete this[POOLS_FIELD][pool.id];\n      }\n      if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REMOVED)) {\n        this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REMOVED, pool);\n      }\n      return result;\n    }\n  }]);\n\n  return PoolRegistry;\n}(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default.a);\n\nPoolRegistry.events = PoolRegistryEvents;\n\n\nvar createPoolRegistry = function createPoolRegistry() {\n  return new PoolRegistry();\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (PoolRegistry);\n\n/***/ }),\n/* 25 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__index__ = __webpack_require__(27);\n\n\nmodule.exports = Object.assign(__WEBPACK_IMPORTED_MODULE_0__index__[\"default\"], __WEBPACK_IMPORTED_MODULE_0__index__);\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(26)(module)))\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(originalModule) {\n\tif(!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true,\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__command_Descriptor__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__command_Reserved__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__command_internal_RequestCommands__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__command_internal_ProxyCommands__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__request_Target__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__resource_PoolRegistry__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__resource_Converter__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_IConvertible__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_isResourceConvertible__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__utils_getRawResource__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__utils_getResourceData__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__utils_getResourceId__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__utils_getResourcePoolId__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__utils_getResourceType__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__utils_isResource__ = __webpack_require__(0);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"create\", function() { return __WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"dummy\", function() { return __WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"createDeferred\", function() { return __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Deferred\", function() { return __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Descriptor\", function() { return __WEBPACK_IMPORTED_MODULE_2__command_Descriptor__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Reserved\", function() { return __WEBPACK_IMPORTED_MODULE_3__command_Reserved__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"RequestCommands\", function() { return __WEBPACK_IMPORTED_MODULE_4__command_internal_RequestCommands__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ProxyCommands\", function() { return __WEBPACK_IMPORTED_MODULE_5__command_internal_ProxyCommands__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Target\", function() { return __WEBPACK_IMPORTED_MODULE_6__request_Target__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ResourcePool\", function() { return __WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"PoolRegistry\", function() { return __WEBPACK_IMPORTED_MODULE_8__resource_PoolRegistry__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Converter\", function() { return __WEBPACK_IMPORTED_MODULE_9__resource_Converter__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"IConvertible\", function() { return __WEBPACK_IMPORTED_MODULE_10__utils_IConvertible__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"isResourceConvertible\", function() { return __WEBPACK_IMPORTED_MODULE_11__utils_isResourceConvertible__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getRawResource\", function() { return __WEBPACK_IMPORTED_MODULE_12__utils_getRawResource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourceData\", function() { return __WEBPACK_IMPORTED_MODULE_13__utils_getResourceData__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourceId\", function() { return __WEBPACK_IMPORTED_MODULE_14__utils_getResourceId__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourcePoolId\", function() { return __WEBPACK_IMPORTED_MODULE_15__utils_getResourcePoolId__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourceType\", function() { return __WEBPACK_IMPORTED_MODULE_16__utils_getResourceType__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"isResource\", function() { return __WEBPACK_IMPORTED_MODULE_17__utils_isResource__[\"a\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__[\"b\" /* default */]);\n\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return create; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return dummy; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_areProxiesAvailable__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_getResourcePoolId__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_getResourceId__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__request_Handlers__ = __webpack_require__(34);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__request_ProxyFactory__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__request_Factory__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__resource_Converter__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__resource_PoolRegistry__ = __webpack_require__(24);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * @exports DataAccessInterface\n */\n\n\n\n\n\n\n\n\n\n\n\n\nvar DataAccessInterface = function () {\n\n  /**\n   * @class DataAccessInterface\n   * @classdesc Facade of Deferred Data Access library, it holds all\n   * of public API -- objects like ResourcePool and methods to work\n   * with resources.\n   * @param {Descriptor[]|Object.<string, Function|Descriptor>} descriptors\n   * @param {boolean} [proxyEnabled=false]\n   * @param {ResourcePoolRegistry} [poolRegistry]\n   * @param {ResourcePool} [pool]\n   * @param {ICacheImpl} [cacheImpl]\n   */\n  function DataAccessInterface(descriptors) {\n    var proxyEnabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var poolRegistry = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var pool = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var cacheImpl = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\n    _classCallCheck(this, DataAccessInterface);\n\n    this.poolRegistry = poolRegistry;\n    this.pool = pool;\n    this.cache = cacheImpl;\n    this.initialize(descriptors, proxyEnabled);\n  }\n\n  _createClass(DataAccessInterface, [{\n    key: 'initialize',\n    value: function initialize(descriptors, proxyEnabled) {\n      var _this = this;\n\n      if (proxyEnabled && !Object(__WEBPACK_IMPORTED_MODULE_0__utils_areProxiesAvailable__[\"a\" /* default */])()) {\n        throw new Error('Proxies are not available in this environment');\n      }\n\n      this.handlers = Object(__WEBPACK_IMPORTED_MODULE_4__request_Handlers__[\"a\" /* createHandlers */])(proxyEnabled);\n      this.resourceConverter = Object(__WEBPACK_IMPORTED_MODULE_8__resource_Converter__[\"a\" /* createResourceConverter */])(this.factory, this.poolRegistry, this.pool, this.handlers);\n\n      if (proxyEnabled) {\n        this.factory = Object(__WEBPACK_IMPORTED_MODULE_5__request_ProxyFactory__[\"a\" /* createProxyFactory */])(this.handlers, this.cache);\n      } else {\n        this.factory = Object(__WEBPACK_IMPORTED_MODULE_6__request_Factory__[\"a\" /* createRequestFactory */])(this.handlers, this.cache);\n      }\n\n      if (!this.poolRegistry) {\n        this.poolRegistry = Object(__WEBPACK_IMPORTED_MODULE_9__resource_PoolRegistry__[\"a\" /* createPoolRegistry */])();\n      }\n\n      if (this.pool) {\n        this.poolRegistry.register(this.pool);\n      } else if (this.pool !== undefined) {\n        this.pool = this.poolRegistry.createPool();\n      } else {\n        this.pool = __WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__[\"d\" /* defaultResourcePool */];\n      }\n\n      var poolDestroyedHandler = function poolDestroyedHandler() {\n        _this.pool.removeEventListener(__WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, poolDestroyedHandler);\n        _this.pool = _this.poolRegistry.createPool();\n        _this.pool.addEventListener(__WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, poolDestroyedHandler);\n      };\n\n      this.handlers.setHandlers(descriptors);\n      this.pool.addEventListener(__WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, poolDestroyedHandler);\n    }\n  }, {\n    key: 'parse',\n    value: function parse(data) {\n      return this.resourceConverter.parse(data);\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON(data) {\n      return this.resourceConverter.toJSON(data);\n    }\n  }, {\n    key: 'isOwnResource',\n    value: function isOwnResource(resource) {\n      /**\n       * @type {DataAccessInterface.ResourcePool}\n       */\n      var pool = void 0;\n      if (Object(__WEBPACK_IMPORTED_MODULE_1__utils_isResource__[\"a\" /* default */])(resource)) {\n        pool = this.poolRegistry.get(Object(__WEBPACK_IMPORTED_MODULE_2__utils_getResourcePoolId__[\"a\" /* default */])(resource));\n        return pool && pool.has(Object(__WEBPACK_IMPORTED_MODULE_3__utils_getResourceId__[\"a\" /* default */])(resource));\n      }\n      return false;\n    }\n  }, {\n    key: 'proxyEnabled',\n    get: function get() {\n      return this.handlers.proxyEnabled;\n    }\n  }]);\n\n  return DataAccessInterface;\n}();\n\nvar create = function create(handlers, proxyEnabled, poolRegistry, pool, cacheImpl) {\n  return new DataAccessInterface(handlers, proxyEnabled, poolRegistry, pool, cacheImpl);\n};\n\nvar dummy = function dummy(handlers, proxyEnabled, poolRegistry, pool, cacheImpl) {\n  var api = new DataAccessInterface(handlers, proxyEnabled, poolRegistry, pool, cacheImpl);\n  return api.parse(handlers());\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (DataAccessInterface);\n\n/***/ }),\n/* 29 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (function () {\n  return typeof Proxy === 'function';\n});\n\n/***/ }),\n/* 30 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_createRequestPackage__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_getResourceData__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__Queue__ = __webpack_require__(32);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__Children__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__command_internal_RequestCommands__ = __webpack_require__(19);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n\n\n\n\n\nvar Internals = function () {\n  function Internals(requestTarget, promise, requestHandlers) {\n    var _this = this;\n\n    _classCallCheck(this, Internals);\n\n    this.handlePromiseResolve = function (value) {\n      _this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED;\n      if (Object(__WEBPACK_IMPORTED_MODULE_4__utils_isResource__[\"a\" /* default */])(value)) {\n        _this.link = Object(__WEBPACK_IMPORTED_MODULE_5__utils_getResourceData__[\"a\" /* default */])(value);\n        /*\n         INFO Sending \"this\" as result of resolve() handler, causes infinite\n         loop of this.then(), so I've used wrapper object\n        */\n        // FIXME Check if Proxy wrapper will work with promise result, probably not\n        value = { target: _this.requestTarget };\n        _this.sendQueue();\n        /*\n        In theory, at time of these lines executing, \"temporary\" property should be\n        already set via _commandHandler() set from Decorator\n         */\n        if (_this.temporary) {\n          _this.destroy();\n        }\n      } else {\n        // else { value must be passed as is }\n        _this.rejectQueue('Target of the call is not a resource and call cannot be sent.');\n      }\n      _this.deferred.resolve(value);\n      delete _this.deferred;\n    };\n\n    this.handlePromiseReject = function (value) {\n      _this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].REJECTED;\n      _this.rejectQueue('Target of the call was rejected and call cannot be sent.');\n      _this.deferred.reject(value);\n      delete _this.deferred;\n    };\n\n    this.requestHandlers = requestHandlers;\n    this.requestTarget = requestTarget;\n    this.link = {};\n    // INFO this should be not initialized i.e. keep it undefined, this will be checked later\n    this.temporary = undefined;\n    this.hadChildPromises = false;\n    this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].PENDING;\n    this.queue = new __WEBPACK_IMPORTED_MODULE_6__Queue__[\"a\" /* default */]();\n\n    var Abc = function (_Array) {\n      _inherits(Abc, _Array);\n\n      function Abc() {\n        _classCallCheck(this, Abc);\n\n        return _possibleConstructorReturn(this, (Abc.__proto__ || Object.getPrototypeOf(Abc)).apply(this, arguments));\n      }\n\n      return Abc;\n    }(Array);\n\n    console.log(' --- ', Abc, new Abc());\n    this.children = new __WEBPACK_IMPORTED_MODULE_7__Children__[\"a\" /* default */]();\n    this.deferred = Object(__WEBPACK_IMPORTED_MODULE_1__utils_Deferred__[\"a\" /* createDeferred */])();\n    this.promise = this.deferred.promise;\n    // FIXME why we have to use own deferred object? use passed promise\n    // chain of events should not be altered\n    promise.then(this.handlePromiseResolve).catch(this.handlePromiseReject);\n  }\n\n  _createClass(Internals, [{\n    key: 'sendQueue',\n    value: function sendQueue() {\n      this.queue.send(this.link.id, this.handleRequest);\n      console.log('queue sent');\n      this.queue = null;\n    }\n  }, {\n    key: 'rejectQueue',\n    value: function rejectQueue() {\n      var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      this.queue.reject(new Error(message || 'This request was rejected before sending.'));\n      this.queue = null;\n    }\n  }, {\n    key: 'sendRequest',\n    value: function sendRequest(name, pack) {\n      var deferred = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var child = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n      var promise = null;\n\n      if (this.requestHandlers.hasHandler(name)) {\n        promise = this.applyRequest(name, pack, deferred || Object(__WEBPACK_IMPORTED_MODULE_1__utils_Deferred__[\"a\" /* createDeferred */])(), child);\n      } else {\n        throw new Error('Request handler for \"' + name + '\" is not registered.');\n      }\n\n      if (child) {\n        this.registerChild(child);\n      }\n\n      return promise;\n    }\n  }, {\n    key: 'addToQueue',\n    value: function addToQueue(name, pack) {\n      var deferred = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var child = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n      if (!this.queue) {\n        throw new Error('Request does not contain queue, probably too little too late.');\n      }\n\n      this.queue.add(name, pack, deferred, child);\n    }\n  }, {\n    key: 'applyRequest',\n    value: function applyRequest(name, pack) {\n      var deferred = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var child = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n      var promise = void 0;\n\n      // FIXME can deferred be null at this point?\n      if (deferred) {\n        promise = deferred.promise;\n      }\n\n      switch (this.status) {\n        case __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].PENDING:\n          this.addToQueue(name, pack, deferred, child);\n          break;\n        case __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].REJECTED:\n          promise = Promise.reject(new Error('Target object was rejected and cannot be used for calls.'));\n          break;\n        case __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].DESTROYED:\n          promise = Promise.reject(new Error('Target object was destroyed and cannot be used for calls.'));\n          break;\n        case __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED:\n          this.handleRequest(name, pack, deferred, child);\n          break;\n        default:\n          break;\n      }\n\n      return promise;\n    }\n  }, {\n    key: 'handleRequest',\n    value: function handleRequest(name, pack, deferred, child) {\n      this.requestHandlers.handle(this.requestTarget, name, pack, deferred, child);\n    }\n  }, {\n    key: 'registerChild',\n    value: function registerChild(child) {\n      this.children.register(child);\n    }\n  }, {\n    key: 'isActive',\n    value: function isActive() {\n      return this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].PENDING || this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED;\n    }\n  }, {\n    key: 'canBeDestroyed',\n    value: function canBeDestroyed() {\n      return this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED || this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].REJECTED;\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var promise = null;\n      if (this.canBeDestroyed()) {\n        // INFO I should not clear children list, since they are pending and requests already sent.\n        if (this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED) {\n          promise = this.sendRequest(__WEBPACK_IMPORTED_MODULE_8__command_internal_RequestCommands__[\"a\" /* RequestCommandFields */].DESTROY, Object(__WEBPACK_IMPORTED_MODULE_3__utils_createRequestPackage__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_8__command_internal_RequestCommands__[\"b\" /* RequestCommandNames */].DESTROY, [null, null], this.id));\n        } else {\n          promise = Promise.resolve();\n        }\n        this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].DESTROYED;\n      } else {\n        promise = Promise.reject(new Error('Invalid or already destroyed target.'));\n      }\n      return promise;\n    }\n  }, {\n    key: 'then',\n    value: function then(handleResolve, handleReject) {\n      var child = this.promise.then(handleResolve, handleReject);\n      this.hadChildPromises = true;\n      return child;\n    }\n  }, {\n    key: 'catch',\n    value: function _catch(handleReject) {\n      var child = this.promise.catch(handleReject);\n      this.hadChildPromises = true;\n      return child;\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return _defineProperty({}, __WEBPACK_IMPORTED_MODULE_2__utils_TARGET_DATA__[\"a\" /* default */], {\n        id: this.link.id,\n        type: this.link.type,\n        poolId: this.link.poolId\n      });\n    }\n  }, {\n    key: 'poolId',\n    get: function get() {\n      return this.link.poolId || null;\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return this.link.type || null;\n    }\n  }, {\n    key: 'id',\n    get: function get() {\n      return this.link.id || null;\n    }\n  }]);\n\n  return Internals;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Internals);\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Queue = function (_Array) {\n  _inherits(Queue, _Array);\n\n  function Queue() {\n    _classCallCheck(this, Queue);\n\n    return _possibleConstructorReturn(this, (Queue.__proto__ || Object.getPrototypeOf(Queue)).call(this));\n  }\n\n  _createClass(Queue, [{\n    key: 'add',\n    value: function add(name, pack, deferred, child) {\n      this.push({\n        name: name,\n        pack: pack,\n        deferred: deferred,\n        child: child\n      });\n    }\n  }, {\n    key: 'send',\n    value: function send(id, callback) {\n      this.forEach(function (_ref) {\n        var name = _ref.name,\n            pack = _ref.pack,\n            deferred = _ref.deferred,\n            child = _ref.child;\n\n        pack.target = id;\n        callback(name, pack, deferred, child);\n      });\n    }\n  }, {\n    key: 'reject',\n    value: function reject(message) {\n      var error = new Error(message || 'This request was rejected before sending.');\n      this.forEach(function (_ref2) {\n        var deferred = _ref2.deferred;\n        return deferred.reject(error);\n      });\n    }\n  }]);\n\n  return Queue;\n}(Array);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Queue);\n\n/***/ }),\n/* 33 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Target__ = __webpack_require__(3);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar Children = function (_Array) {\n  _inherits(Children, _Array);\n\n  function Children() {\n    _classCallCheck(this, Children);\n\n    return _possibleConstructorReturn(this, (Children.__proto__ || Object.getPrototypeOf(Children)).apply(this, arguments));\n  }\n\n  _createClass(Children, [{\n    key: 'register',\n    value: function register(child) {\n      var _this2 = this;\n\n      var handler = function handler() {\n        var index = _this2.indexOf(child);\n        if (index >= 0) {\n          _this2.splice(index, 1);\n        }\n      };\n\n      Object(__WEBPACK_IMPORTED_MODULE_0__Target__[\"c\" /* getRawPromise */])(child).then(handler, handler);\n      this.push(child);\n    }\n  }]);\n\n  return Children;\n}(Array);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Children);\n\n/***/ }),\n/* 34 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export areProxyHandlersAvailable */\n/* unused harmony export HandlersEvents */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createHandlers; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_filterRequestHandlers__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_getResourceType__ = __webpack_require__(14);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n/**\n * Key for default type for handlers that will be applied to any\n * resource that does not have type-specific handlers registered\n * @type {string}\n */\nvar DEFAULT_KEY = '';\n\nvar areProxyHandlersAvailable = function areProxyHandlersAvailable(handlers, throwError) {\n  var result = true;\n  __WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"b\" /* default */].required.forEach(function (name) {\n    if (!(__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */][name] in handlers)) {\n      result = false;\n      if (throwError) {\n        throw new Error('For Proxy interface, handler \"' + name + '\" should be set.');\n      }\n    }\n  });\n\n  return result;\n};\n\nvar HandlersEvents = Object.freeze({\n  HANDLERS_UPDATED: 'handlersUpdated'\n});\n\nvar Handlers = function () {\n  function Handlers() {\n    var proxyEnabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _classCallCheck(this, Handlers);\n\n    // named collection of Descriptor lists that may be applied\n    this.properties = {};\n    this.descriptors = {};\n    this.proxyEnabled = Boolean(proxyEnabled);\n    this.converter = null;\n  }\n\n  _createClass(Handlers, [{\n    key: 'setConverter',\n    value: function setConverter(converter) {\n      this.converter = converter;\n    }\n  }, {\n    key: 'setHandlers',\n    value: function setHandlers(handlers) {\n      var _this = this;\n\n      this.setHandlersByType(DEFAULT_KEY, handlers);\n\n      Object.keys(handlers).forEach(function (name) {\n        var type = handlers[name];\n        if (type && (type.constructor === Object || type instanceof Array)) {\n          _this.setHandlersByType(name, type);\n        }\n      });\n\n      if (this.proxyEnabled) {\n        areProxyHandlersAvailable(this.descriptors[DEFAULT_KEY], true);\n      }\n    }\n  }, {\n    key: 'setHandlersByType',\n    value: function setHandlersByType(type, handlers) {\n      var descrs = {};\n      var props = [];\n      Object(__WEBPACK_IMPORTED_MODULE_2__utils_filterRequestHandlers__[\"a\" /* default */])(handlers, descrs, props);\n      this.descriptors[type] = descrs;\n      this.properties[type] = props;\n    }\n  }, {\n    key: 'hasHandler',\n    value: function hasHandler(name, type) {\n      return this.descriptors[type] && Object.prototype.hasOwnProperty.call(this.descriptors[type], name) || this.descriptors[DEFAULT_KEY] && Object.prototype.hasOwnProperty.call(this.descriptors[DEFAULT_KEY], name);\n    }\n  }, {\n    key: 'getPropertyHandlers',\n    value: function getPropertyHandlers(type) {\n      var list = this.properties[type];\n      if (!list) {\n        type = DEFAULT_KEY;\n        list = this.properties[type];\n      }\n\n      return list ? [].concat(_toConsumableArray(list)) : [];\n    }\n  }, {\n    key: 'getPropertyNames',\n    value: function getPropertyNames(type) {\n      return this.getPropertyNames(type).map(function (descriptor) {\n        return descriptor.name;\n      });\n    }\n  }, {\n    key: 'getHandlers',\n    value: function getHandlers(type) {\n      if (this.descriptors[type]) {\n        return Object.assign({}, this.descriptors[type], this.descriptors[DEFAULT_KEY]);\n      }\n\n      return Object.assign({}, this.descriptors[DEFAULT_KEY]);\n    }\n  }, {\n    key: 'getHandler',\n    value: function getHandler(name, type) {\n      var handler = this.descriptors[type] && this.descriptors[type][name] || this.descriptors[DEFAULT_KEY] && this.descriptors[DEFAULT_KEY][name];\n\n      return handler || null;\n    }\n  }, {\n    key: 'handle',\n    value: function handle(parentRequest, name, pack, deferred, resultRequest) {\n      var _this2 = this;\n\n      var list = this.converter ? this.converter.lookupForPending(pack.value) : null;\n      if (list && list.length) {\n        // FIXME Need to test on all platforms: In other browsers this might not work\n        // because may need list of Promise objects, not Targets\n        Promise.all(list).then(function () {\n          _this2.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\n        });\n      } else {\n        this.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\n      }\n    }\n  }, {\n    key: 'handleImmediately',\n    value: function handleImmediately(parentRequest, name, data, deferred, resultRequest) {\n      /**\n       * @type {DataAccessInterface.Descriptor|null}\n       */\n      var handler = this.getHandler(name, Object(__WEBPACK_IMPORTED_MODULE_3__utils_getResourceType__[\"a\" /* default */])(parentRequest));\n      if (handler instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n        // INFO result should be applied to deferred.resolve() or deferred.reject()\n        handler.handler(parentRequest, data, deferred, resultRequest);\n      } else {\n        throw new Error('Command descriptor for \"' + name + '\" was not found.');\n      }\n    }\n  }, {\n    key: 'available',\n    get: function get() {\n      var _this3 = this;\n\n      var nonEmptyListIndex = Object.getOwnPropertyNames(this.properties).findIndex(function (name) {\n        var list = _this3.properties[name];\n        return Boolean(list && list.length);\n      });\n      return nonEmptyListIndex >= 0;\n    }\n  }]);\n\n  return Handlers;\n}();\n\nHandlers.events = HandlersEvents;\n\n\nvar createHandlers = function createHandlers(proxyEnabled) {\n  return new Handlers(proxyEnabled);\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (Handlers);\n\n/***/ }),\n/* 35 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command_Reserved__ = __webpack_require__(20);\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\n/**\n * Checks for Descriptor uniqueness and reserved words usage.\n * @param {DataAccessInterface.Descriptor} descriptor\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\n * @private\n */\nvar applyDescriptor = function applyDescriptor(descriptor, descriptors, properties) {\n  var name = descriptor.name;\n\n  if (name in __WEBPACK_IMPORTED_MODULE_1__command_Reserved__[\"a\" /* default */].names) {\n    throw new Error('Name \"' + name + '\" is reserved and cannot be used in descriptor.');\n  }\n  if (Object.prototype.hasOwnProperty.call(descriptors, name) && descriptors[name] instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n    throw new Error('Field names should be unique, \"' + String(name) + '\" field has duplicates.');\n  }\n  descriptors[name] = descriptor;\n  if (!descriptor.virtual) {\n    properties.push(descriptor);\n  }\n};\n\n/**\n * @param {Array} handlers\n * @param {Object} descriptors\n * @private\n */\nvar filterArray = function filterArray(handlers, descriptors, properties) {\n  handlers.forEach(function (value) {\n    if (value instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n      applyDescriptor(value, descriptors, properties);\n    }\n  });\n};\n\n/**\n * @param {Object} handlers\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\n * @private\n */\nvar filterHash = function filterHash(handlers, descriptors, properties) {\n  if (!handlers) return;\n  [].concat(_toConsumableArray(Object.getOwnPropertyNames(handlers)), _toConsumableArray(Object.getOwnPropertySymbols(handlers))).forEach(function (name) {\n    var value = handlers[name];\n    if (typeof value === 'function') {\n      value = Object(__WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"b\" /* createDescriptor */])(name, value);\n    }\n    if (value instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n      applyDescriptor(value, descriptors, properties);\n    }\n  });\n};\n\n/**\n * @method Handlers.filterHandlers\n * @param {Array|Object} handlers\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (handlers, descriptors, properties) {\n  if (handlers instanceof Array) {\n    filterArray(handlers, descriptors, properties);\n  } else {\n    filterHash(handlers, descriptors, properties);\n  }\n});\n\n/***/ }),\n/* 36 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export createProxyHandlers */\n/* unused harmony export applyProxyWithDefaultHandlers */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createProxyFactory; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Factory__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__ = __webpack_require__(13);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _this = this;\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\nvar EXCLUSIONS = {\n  /*\n   INFO arguments and caller were included because they are required function properties\n   */\n  arguments: true,\n  caller: true,\n  prototype: true\n};\n\nvar toString = function toString() {\n  return '[RequestTargetProxy ' + String(_this.target) + ']';\n};\n\nvar createFunctionWrapper = function createFunctionWrapper(target) {\n  // INFO Target must be a function so I could use Proxy.call() interceptor.\n  function requestTargetProxy() {}\n\n  requestTargetProxy.target = target;\n  requestTargetProxy.toString = toString;\n\n  return requestTargetProxy;\n};\n\nvar wrapWithProxy = function wrapWithProxy(target, handlers) {\n  return new Proxy(createFunctionWrapper(target), handlers);\n};\n\nvar proxyGet = function proxyGet(wrapper, name) {\n  var target = wrapper.target;\n\n  if (name in target || name in EXCLUSIONS || (typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'symbol') {\n    return target[name];\n  }\n  // INFO Proxy should be already applied, so no need in additional wrapping\n  return target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].get](name);\n};\n\n// INFO Proxy should be already applied, so no need in additional wrapping\nvar proxyApply = function proxyApply(wrapper, thisValue, args) {\n  return wrapper.target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].apply](null, args);\n};\n\nvar proxySet = function proxySet(wrapper, name, value) {\n  var target = wrapper.target;\n\n\n  if (name in target || name in EXCLUSIONS || (typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'symbol') {\n    target[name] = value;\n    return value;\n  }\n\n  if (__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].set in target) {\n    target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].set](name, value);\n    return true;\n  }\n\n  return false;\n};\n\nvar proxyHas = function proxyHas(wrapper, name) {\n  return Object.prototype.hasOwnProperty.call(wrapper.target, name);\n};\n\nvar proxyDeleteProperty = function proxyDeleteProperty(wrapper, name) {\n  var target = wrapper.target;\n\n  if (__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].deleteProperty in target) {\n    target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].deleteProperty](name);\n    return true;\n  }\n\n  return false;\n};\n\nvar proxyOwnKeys = function proxyOwnKeys(wrapper) {\n  var target = wrapper.target;\n\n  return [].concat(_toConsumableArray(Object.getOwnPropertyNames(target)), _toConsumableArray(Object.getOwnPropertyNames(EXCLUSIONS)));\n};\n\nvar proxyEnumerate = function proxyEnumerate(wrapper) {\n  var target = wrapper.target;\n\n  return [].concat(_toConsumableArray(Object.getOwnPropertyNames(target)), _toConsumableArray(Object.getOwnPropertyNames(EXCLUSIONS)))[Symbol.iterator]();\n};\n\nvar proxyGetOwnPropertyDescriptor = function proxyGetOwnPropertyDescriptor(wrapper, name) {\n  if (Object.prototype.hasOwnProperty.call(EXCLUSIONS, name)) {\n    return Object.getOwnPropertyDescriptor(wrapper, name);\n  }\n  return Object.getOwnPropertyDescriptor(wrapper.target, name);\n};\n\n/**\n * Builds proper handlers hash for Proxy\n * @returns {Function}\n */\nvar createProxyHandlers = function createProxyHandlers() {\n  var handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.assign({\n    get: proxyGet,\n    apply: proxyApply,\n    set: proxySet,\n    has: proxyHas,\n    deleteProperty: proxyDeleteProperty,\n    ownKeys: proxyOwnKeys,\n    enumerate: proxyEnumerate,\n    getOwnPropertyDescriptor: proxyGetOwnPropertyDescriptor\n  }, handlers);\n};\n\nvar PROXY_HANDLERS = createProxyHandlers();\n\nvar ProxyFactory = function (_Factory) {\n  _inherits(ProxyFactory, _Factory);\n\n  function ProxyFactory(handlers, cacheImpl) {\n    _classCallCheck(this, ProxyFactory);\n\n    var _this2 = _possibleConstructorReturn(this, (ProxyFactory.__proto__ || Object.getPrototypeOf(ProxyFactory)).call(this, null, null, true));\n\n    _this2.handlers = handlers;\n    _this2.factory = Object(__WEBPACK_IMPORTED_MODULE_0__Factory__[\"a\" /* createRequestFactory */])(handlers, cacheImpl);\n    _this2.factory.decorator.setFactory(_this2);\n    return _this2;\n  }\n\n  _createClass(ProxyFactory, [{\n    key: 'create',\n    value: function create(promise) {\n      var instance = this.factory.create(promise);\n\n      if (this.handlers.available) {\n        return wrapWithProxy(instance, PROXY_HANDLERS);\n      }\n\n      return instance;\n    }\n  }, {\n    key: 'getCached',\n    value: function getCached(name, pack) {\n      return this.factory.getCached(name, pack);\n    }\n  }, {\n    key: 'createCached',\n    value: function createCached(promise, name, pack) {\n      var instance = this.factory.createCached(promise, name, pack);\n\n      if (this.handlers.available) {\n        return wrapWithProxy(instance, PROXY_HANDLERS);\n      }\n\n      return instance;\n    }\n  }]);\n\n  return ProxyFactory;\n}(__WEBPACK_IMPORTED_MODULE_0__Factory__[\"b\" /* default */]);\n\nvar applyProxyWithDefaultHandlers = function applyProxyWithDefaultHandlers(target) {\n  return wrapWithProxy(target, PROXY_HANDLERS);\n};\n\nvar createProxyFactory = function createProxyFactory(handlers, cacheImpl) {\n  return new ProxyFactory(handlers, cacheImpl);\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (ProxyFactory);\n\n/***/ }),\n/* 37 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createDecorator; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command_CallbackFactory__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_getResourceType__ = __webpack_require__(14);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar Decorator = function () {\n  function Decorator(factory, handlers) {\n    _classCallCheck(this, Decorator);\n\n    this.handlers = handlers;\n    this.members = new __WEBPACK_IMPORTED_MODULE_0__command_CallbackFactory__[\"a\" /* default */](factory);\n  }\n\n  _createClass(Decorator, [{\n    key: 'apply',\n    value: function apply(request) {\n      var _this = this;\n\n      if (!this.handlers.available) {\n        return request;\n      }\n\n      var descriptors = this.handlers.getPropertyHandlers(Object(__WEBPACK_IMPORTED_MODULE_1__utils_getResourceType__[\"a\" /* default */])(request));\n      return descriptors.forEach(function (descriptor) {\n        request[descriptor.name] = _this.members.get(descriptor);\n      });\n    }\n  }, {\n    key: 'setFactory',\n    value: function setFactory(factory) {\n      if (factory) {\n        this.members.setFactory(factory);\n      }\n    }\n  }]);\n\n  return Decorator;\n}();\n\nvar createDecorator = function createDecorator(factory, handlers) {\n  return new Decorator(factory, handlers);\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (Decorator);\n\n/***/ }),\n/* 38 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__request_Target__ = __webpack_require__(3);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar createHandlerFor = function createHandlerFor(factoryWrapper, propertyName, commandType, isTemporary, cacheable) {\n  var factory = factoryWrapper.factory,\n      checkState = factoryWrapper.checkState,\n      getChildRequest = factoryWrapper.getChildRequest;\n\n\n  function commandHandler(command, value) {\n    var result = void 0;\n    var promise = void 0;\n    if (this[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]]) {\n      for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n\n      var pack = Object(__WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__[\"a\" /* default */])(commandType, [command, value].concat(args), this[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].id);\n      // FIXME Explicitly pass scope\n      var request = getChildRequest(propertyName, pack, cacheable);\n      result = request.child;\n      if (request.deferred) {\n        promise = this[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]].sendRequest(propertyName, pack, request.deferred, result);\n        if (promise) {\n          if (isTemporary) {\n            // FIXME isTemporary must be called before `result` was resolved\n            // FIXME remove default `isTemporary`, if not defined just skip\n            checkState(promise, isTemporary, this, result, pack);\n          }\n        } else {\n          result = null;\n          promise = Promise.reject(new Error('Initial request failed and didn\\'t result in promise.'));\n        }\n      }\n    } else {\n      promise = Promise.reject(new Error('Target object is not a resource, so cannot be used for calls.'));\n    }\n    return result || factory.create(promise);\n  }\n\n  return commandHandler;\n};\n\nvar CallbackFactory = function () {\n  function CallbackFactory() {\n    var _this = this;\n\n    var factory = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    _classCallCheck(this, CallbackFactory);\n\n    this.members = new Map();\n    this.factory = null;\n\n    this.getChildRequest = function (propertyName, pack, cacheable) {\n      var child = void 0;\n      var deferred = void 0;\n\n      if (cacheable) {\n        child = _this.factory.getCached(propertyName, pack);\n      }\n\n      if (!child) {\n        deferred = Object(__WEBPACK_IMPORTED_MODULE_1__utils_Deferred__[\"a\" /* createDeferred */])();\n        if (cacheable) {\n          child = _this.factory.createCached(deferred.promise, propertyName, pack);\n        } else {\n          child = _this.factory.create(deferred.promise, propertyName, pack);\n        }\n      }\n      return { child: child, deferred: deferred };\n    };\n\n    this.checkState = function (promise, isTemporaryFn, parentRequest, childRequest, pack) {\n      if (promise) {\n        promise.then(function (data) {\n          var isTemporary = Boolean(isTemporaryFn(parentRequest, childRequest, pack, data));\n          Object(__WEBPACK_IMPORTED_MODULE_3__request_Target__[\"e\" /* setTemporary */])(childRequest, isTemporary);\n        });\n      }\n    };\n\n    this.setFactory(factory);\n  }\n\n  /**\n   * @param {Descriptor} descriptor\n   * @returns {Function}\n   * @private\n   */\n\n\n  _createClass(CallbackFactory, [{\n    key: 'get',\n    value: function get(descriptor) {\n      var propertyName = descriptor.name;\n      if (!this.members.has(propertyName)) {\n        this.members.set(propertyName, this.create(descriptor.name, descriptor.type, descriptor.isTemporary, descriptor.cacheable));\n      }\n      return this.members.get(propertyName);\n    }\n  }, {\n    key: 'create',\n    value: function create(propertyName, commandType, isTemporary, cacheable) {\n      return createHandlerFor(this, propertyName, commandType, isTemporary, cacheable);\n    }\n  }, {\n    key: 'setFactory',\n    value: function setFactory(factory) {\n      this.factory = factory;\n    }\n  }]);\n\n  return CallbackFactory;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (CallbackFactory);\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// deferred-data-access.direct.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 25);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 701d97b37ca986d7eebc","import TARGET_INTERNALS from './TARGET_INTERNALS';\nimport TARGET_DATA from './TARGET_DATA';\nimport Target from '../request/Target';\nimport Resource from '../resource/Resource';\n\nexport default (object) => object instanceof Resource ||\n  object instanceof Target ||\n  (object && (\n    // this case for Targets and Resources which contain\n    // data in TARGET_INTERNALS Symbol\n    // We check for their types above but in cases when Proxies are enabled\n    // their type will be Function and verification will come to this case\n    typeof object[TARGET_INTERNALS] === 'object' ||\n    // this case for RAW resources passed via JSON conversion,\n    // look like {'resource::data': {id: '1111', poolId: '22222'}}\n    typeof object[TARGET_DATA] === 'object'\n  ));\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/isResource.js","export default Symbol('request.target:internals');\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/TARGET_INTERNALS.js","export default 'resource::data';\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/TARGET_DATA.js","import TARGET_INTERNALS from '../utils/TARGET_INTERNALS';\nimport TargetStatus from '../utils/TargetStatus';\nimport isResource from '../utils/isResource';\nimport Internals from './target/Internals';\n\nconst PROMISE_FIELD = Symbol('request.target::promise');\n\nconst getRequestPromise = (request) => (request[TARGET_INTERNALS] || request[PROMISE_FIELD]);\n\n/**\n * The object that will be available on other side\n * @class DataAccessInterface.RequestTarget\n * @param _promise {Promise}\n * @param _requestHandlers {Handlers}\n */\nclass Target {\n  constructor(promise, requestHandlers) {\n    this[TARGET_INTERNALS] = new Internals(this, promise, requestHandlers);\n\n    const handlePromise = (data) => {\n      if (!isResource(data)) {\n        this[PROMISE_FIELD] = promise;\n        delete this[TARGET_INTERNALS];\n      }\n    };\n\n    promise.then(handlePromise, handlePromise);\n  }\n\n  then(...args) {\n    const target = getRequestPromise(this);\n    return target.then(...args);\n  }\n\n  catch(...args) {\n    const target = getRequestPromise(this);\n    return target.catch(...args);\n  }\n}\n\nexport const isActive = (target) => (\n  target\n  && target[TARGET_INTERNALS] ? target[TARGET_INTERNALS].isActive() : false\n);\n\nexport const canBeDestroyed = (target) => (\n  target\n  && target[TARGET_INTERNALS] ? target[TARGET_INTERNALS].canBeDestroyed() : false\n);\n\nexport const destroy = (target) => (\n  target &&\n  target[TARGET_INTERNALS] ? target[TARGET_INTERNALS].destroy() : null\n);\n\nexport const toJSON = (target) => (\n  target\n  && target[TARGET_INTERNALS] ? target[TARGET_INTERNALS].toJSON() : null\n);\n\nexport const isTemporary = (target) => (\n  target\n  && target[TARGET_INTERNALS] && target[TARGET_INTERNALS].temporary\n);\n\nexport const setTemporary = (target, value) => {\n  if (target && target[TARGET_INTERNALS]) {\n    target[TARGET_INTERNALS].temporary = Boolean(value);\n  }\n};\n\nexport const getStatus = (target) => (\n  target &&\n  target[TARGET_INTERNALS] ? target[TARGET_INTERNALS].status : null\n);\n\nexport const isPending = (value) => (\n  getStatus(value) === TargetStatus.PENDING\n);\n\nexport const getQueueLength = (target) => {\n  const list = target && target[TARGET_INTERNALS] ? target[TARGET_INTERNALS].queue : null;\n  return list ? list.length : 0;\n};\n\nexport const getQueueCommands = (target) => {\n  const queue = target && target[TARGET_INTERNALS] ? target[TARGET_INTERNALS].queue : null;\n  if (queue) {\n    return queue.map(([name]) => name);\n    // return queue.map(([name, pack]) => pack.type);\n  }\n  return [];\n};\n\nexport const hadChildPromises = (target) => Boolean(target\n  && target[TARGET_INTERNALS]\n  && target[TARGET_INTERNALS].hadChildPromises);\n\nexport const getRawPromise = (target) => (\n  target\n  && target[TARGET_INTERNALS] ? target[TARGET_INTERNALS].promise : null\n);\n\nconst getRequestChildren = (target) => (\n  target\n  && target[TARGET_INTERNALS] ? target[TARGET_INTERNALS].children : null\n);\n\nexport const getChildren = (target) => {\n  const list = getRequestChildren(target);\n  return list ? [...list] : [];\n};\n\nexport const getLastChild = (target) => {\n  const list = getRequestChildren(target);\n  return list && list.length ? list[list.length - 1] : null;\n};\n\nexport const getChildrenCount = (target) => {\n  const list = getRequestChildren(target);\n  return list ? list.length : 0;\n};\n\n// FIXME Is it used? Why its similar to getChildrenCount()?\nexport const sendRequest = (target) => {\n  const list = getRequestChildren(target);\n  return list ? list.length : 0;\n};\n\nexport const createRequestTarget = (promise, requestHandlers) => (\n  new Target(promise, requestHandlers)\n);\n\nexport default Target;\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Target.js","export const DEFAULT_IS_TEMPORARY = () => false;\n\nclass Descriptor {\n  constructor(type, handler, name) {\n    this.name = name !== undefined ? name : type;\n    this.type = type;\n    this.handler = handler;\n    /**\n     * @type {function(): boolean}\n     */\n    this.isTemporary = DEFAULT_IS_TEMPORARY;\n    this.cacheable = true;\n    this.virtual = false;\n    this.resourceType = null;\n  }\n\n  toString() {\n    return `[Command Descriptor(name=\"${String(this.name)}\", ` +\n      `type=\"${String(this.type)}\", virtual=\"${this.virtual}\")]`;\n  }\n}\n\nexport const createDescriptor = (\n  command,\n  handler,\n  name,\n  isTemporary = undefined,\n  resourceType = null,\n  cacheable = true,\n  virtual = false,\n) => {\n  const descriptor = new Descriptor(command, handler, name);\n  descriptor.resourceType = resourceType;\n  descriptor.cacheable = cacheable;\n  descriptor.virtual = virtual;\n  if (isTemporary) {\n    descriptor.isTemporary = isTemporary;\n  }\n  // We can use Object.freeze(), it keeps class/constructor information\n  return Object.freeze(descriptor);\n};\n\nexport const addDescriptorTo = (descriptor, target) => {\n  if (target instanceof Array) {\n    target.push(descriptor);\n  } else if (target) {\n    target[descriptor.name] = descriptor;\n  }\n};\n\nexport const descriptorGeneratorFactory = (command, name) =>\n  (\n    handler,\n    target,\n    isTemporary = DEFAULT_IS_TEMPORARY,\n    resourceType = null,\n    cacheable = true,\n    virtual = false,\n  ) => {\n    const descriptor = createDescriptor(\n      command,\n      handler,\n      name,\n      isTemporary,\n      resourceType,\n      cacheable,\n      virtual,\n    );\n    addDescriptorTo(descriptor, target);\n    return Object.freeze(descriptor);\n  };\n\nexport default Descriptor;\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/Descriptor.js","import EventDispatcher from 'event-dispatcher';\nimport getId from '../utils/getId';\nimport isResource from '../utils/isResource';\nimport { createResource } from './Resource';\n\nexport const ResourcePoolEvents = Object.freeze({\n  RESOURCE_ADDED: 'resourceAdded',\n  RESOURCE_REMOVED: 'resourceRemoved',\n  POOL_CLEAR: 'poolClear',\n  POOL_CLEARED: 'poolCleared',\n  POOL_DESTROYED: 'poolDestroyed',\n});\n\nexport const MAP_FIELD = Symbol('ResourcePool::map');\n\nlet validTargets = {};\n\nexport const isValidTarget = (target) => (\n  !isResource(target)\n  && Boolean(validTargets[typeof target])\n);\n\nexport const setValidTargets = (list) => {\n  validTargets = list.reduce((validTargets, target) => {\n    validTargets[target] = true;\n\n    return validTargets;\n  }, {});\n};\n\nexport const getDefaultValidTargets = () => ['object', 'function'];\n\nclass ResourcePool extends EventDispatcher {\n  constructor() {\n    super();\n    this[MAP_FIELD] = new Map();\n    Object.defineProperties(this, {\n      id: {\n        value: getId(),\n      },\n    });\n  }\n\n  set(value, type = null) {\n    const map = this[MAP_FIELD];\n    let resource = null;\n    if (isValidTarget(value)) {\n      if (map.has(value)) {\n        resource = map.get(value);\n      } else {\n        resource = createResource(this, value, type || typeof value);\n        map.set(resource.id, resource);\n        map.set(value, resource);\n        if (this.hasEventListener(ResourcePoolEvents.RESOURCE_ADDED)) {\n          this.dispatchEvent(ResourcePoolEvents.RESOURCE_ADDED, resource);\n        }\n      }\n    }\n\n    return resource;\n  }\n\n  has(target) {\n    return this[MAP_FIELD].has(target);\n  }\n\n  get(target) {\n    return this[MAP_FIELD].get(target);\n  }\n\n  remove(value) {\n    const map = this[MAP_FIELD];\n    const resource = map.get(value);\n    if (resource) {\n      map.delete(resource.id);\n      map.delete(resource.value);\n      if (this.hasEventListener(ResourcePoolEvents.RESOURCE_REMOVED)) {\n        this.dispatchEvent(ResourcePoolEvents.RESOURCE_REMOVED, resource);\n      }\n      resource.destroy();\n    }\n  }\n\n  clear() {\n    const map = this[MAP_FIELD];\n    if (this.hasEventListener(ResourcePoolEvents.POOL_CLEAR)) {\n      this.dispatchEvent(ResourcePoolEvents.POOL_CLEAR, this);\n    }\n\n    for (const [key, resource] of map) {\n      if (typeof key === 'string' && key === resource.id) {\n        resource.destroy();\n      }\n    }\n\n    map.clear();\n\n    if (this.hasEventListener(ResourcePoolEvents.POOL_CLEARED)) {\n      this.dispatchEvent(ResourcePoolEvents.POOL_CLEARED, this);\n    }\n  }\n\n  isActive() {\n    return Boolean(this[MAP_FIELD]);\n  }\n\n  destroy() {\n    this.clear();\n    // intentionally make it not usable after its destroyed\n    delete this[MAP_FIELD];\n    if (this.hasEventListener(ResourcePoolEvents.POOL_DESTROYED)) {\n      // FIXME why for second parameter?\n      this.dispatchEvent(ResourcePoolEvents.POOL_DESTROYED, this);\n    }\n  }\n\n  static events = ResourcePoolEvents;\n}\n\nclass DefaultResourcePool extends ResourcePool {\n  // INFO default ResourcePool should not be destroyable;\n  destroy() {\n    throw new Error('Default ResourcePool cannot be destroyed.');\n  }\n}\n\nexport const defaultResourcePool = new DefaultResourcePool();\n\nexport const createResourcePool = () => new ResourcePool();\n\nsetValidTargets(getDefaultValidTargets());\n\nexport default ResourcePool;\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/ResourcePool.js","class Deferred {\n  constructor() {\n    this.promise = new Promise((resolve, reject) => {\n      this.resolve = resolve;\n      this.reject = reject;\n    });\n  }\n}\n\nexport const createDeferred = () => new Deferred();\nexport default Deferred;\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/Deferred.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\nimport IConvertible from './IConvertible';\nimport isResource from './isResource';\nimport { toJSON } from '../request/Target';\nimport { defaultResourcePool } from '../resource/ResourcePool';\nimport Resource from '../resource/Resource';\n\nexport default (object, pool) => {\n  pool = pool || defaultResourcePool;\n\n  if (object instanceof Resource) {\n    return object.toJSON();\n  } else if (typeof object[TARGET_INTERNALS] === 'object') {\n    return toJSON(object);\n  } else if (object instanceof IConvertible || typeof object === 'function') {\n    return pool.set(object).toJSON();\n  } else if (isResource(object)) {\n    return object;\n  }\n\n  return null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getRawResource.js","/**\n * Interface for all resource types, these will be treated as resources automatically\n * @interface\n * @alias DataAccessInterface.IConvertible\n */\nclass IConvertible {\n\n}\n\nexport default IConvertible;\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/IConvertible.js","(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"EventDispatcher\"] = factory();\r\n\telse\r\n\t\troot[\"EventDispatcher\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Event = undefined;\r\n\r\nvar _EventDispatcher = __webpack_require__(1);\r\n\r\nvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nexports.default = _EventDispatcher2.default;\r\nexports.Event = _EventDispatcher.Event;\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar hasOwnProp = function hasOwnProp(target, name) {\r\n  return Object.prototype.hasOwnProperty.call(target, name);\r\n}; /**\r\n    * Created by Oleg Galaburda on 09.02.16.\r\n    * \r\n    */\r\n\r\nvar Event = exports.Event = function () {\r\n  function Event(type) {\r\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n\r\n    _classCallCheck(this, Event);\r\n\r\n    this.type = type;\r\n    this.data = data;\r\n    this.defaultPrevented = false;\r\n  }\r\n\r\n  _createClass(Event, [{\r\n    key: 'toJSON',\r\n    value: function toJSON() {\r\n      return { type: this.type, data: this.data };\r\n    }\r\n  }, {\r\n    key: 'isDefaultPrevented',\r\n    value: function isDefaultPrevented() {\r\n      return this.defaultPrevented;\r\n    }\r\n  }, {\r\n    key: 'preventDefault',\r\n    value: function preventDefault() {\r\n      this.defaultPrevented = true;\r\n    }\r\n  }]);\r\n\r\n  return Event;\r\n}();\r\n\r\nvar ListenersRunner = function () {\r\n  function ListenersRunner(listeners, onStopped, onComplete) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, ListenersRunner);\r\n\r\n    this.index = -1;\r\n    this.immediatelyStopped = false;\r\n\r\n    this.stopImmediatePropagation = function () {\r\n      _this.immediatelyStopped = true;\r\n    };\r\n\r\n    this.listeners = listeners;\r\n    this.onStopped = onStopped;\r\n    this.onComplete = onComplete;\r\n  }\r\n\r\n  _createClass(ListenersRunner, [{\r\n    key: 'run',\r\n    value: function run(event, target) {\r\n      var listener = void 0;\r\n      var listeners = this.listeners;\r\n\r\n      this.augmentEvent(event);\r\n      // TODO this has to be handled in separate object ListenersRunner that should be\r\n      // created for each call() call and asked for index validation on each listener remove.\r\n      for (this.index = 0; this.index < listeners.length; this.index++) {\r\n        if (this.immediatelyStopped) break;\r\n        listener = listeners[this.index];\r\n        listener.call(target, event);\r\n      }\r\n      this.clearEvent(event);\r\n      this.onComplete(this);\r\n    }\r\n  }, {\r\n    key: 'augmentEvent',\r\n    value: function augmentEvent(eventObject) {\r\n      var event = eventObject;\r\n      event.stopPropagation = this.onStopped;\r\n      event.stopImmediatePropagation = this.stopImmediatePropagation;\r\n    }\r\n\r\n    /* eslint class-methods-use-this: \"off\" */\r\n\r\n  }, {\r\n    key: 'clearEvent',\r\n    value: function clearEvent(eventObject) {\r\n      var event = eventObject;\r\n      delete event.stopPropagation;\r\n      delete event.stopImmediatePropagation;\r\n    }\r\n  }, {\r\n    key: 'listenerRemoved',\r\n    value: function listenerRemoved(listeners, index) {\r\n      if (listeners === this.listeners && index <= this.index) {\r\n        this.index--;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return ListenersRunner;\r\n}();\r\n\r\nvar EventListeners = function () {\r\n  function EventListeners() {\r\n    var _this2 = this;\r\n\r\n    _classCallCheck(this, EventListeners);\r\n\r\n    this._listeners = {};\r\n    this._runners = [];\r\n\r\n    this.removeRunner = function (runner) {\r\n      _this2._runners.splice(_this2._runners.indexOf(runner), 1);\r\n    };\r\n  }\r\n  /**\r\n   * key - event Type\r\n   * value - hash of priorities\r\n   *    key - priority\r\n   *    value - list of handlers\r\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventListeners, [{\r\n    key: 'createList',\r\n    value: function createList(eventType, priorityOpt) {\r\n      var priority = parseInt(priorityOpt, 10);\r\n      var target = this.getPrioritiesByKey(eventType);\r\n      var key = String(priority);\r\n      var value = void 0;\r\n      if (hasOwnProp(target, key)) {\r\n        value = target[key];\r\n      } else {\r\n        value = [];\r\n        target[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'getPrioritiesByKey',\r\n    value: function getPrioritiesByKey(key) {\r\n      var value = void 0;\r\n      if (hasOwnProp(this._listeners, key)) {\r\n        value = this._listeners[key];\r\n      } else {\r\n        value = {};\r\n        this._listeners[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'add',\r\n    value: function add(eventType, handler, priority) {\r\n      var handlers = this.createList(eventType, priority);\r\n      if (handlers.indexOf(handler) < 0) {\r\n        handlers.push(handler);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'has',\r\n    value: function has(eventType) {\r\n      var priority = void 0;\r\n      var result = false;\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        for (priority in priorities) {\r\n          if (hasOwnProp(priorities, priority)) {\r\n            result = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n  }, {\r\n    key: 'remove',\r\n    value: function remove(eventType, handler) {\r\n      var _this3 = this;\r\n\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        var list = Object.getOwnPropertyNames(priorities);\r\n        var length = list.length;\r\n\r\n        var _loop = function _loop(index) {\r\n          var priority = list[index];\r\n          var handlers = priorities[priority];\r\n          var handlerIndex = handlers.indexOf(handler);\r\n          if (handlerIndex >= 0) {\r\n            handlers.splice(handlerIndex, 1);\r\n            if (!handlers.length) {\r\n              delete priorities[priority];\r\n            }\r\n            _this3._runners.forEach(function (runner) {\r\n              runner.listenerRemoved(handlers, handlerIndex);\r\n            });\r\n          }\r\n        };\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          _loop(index);\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'removeAll',\r\n    value: function removeAll(eventType) {\r\n      delete this._listeners[eventType];\r\n    }\r\n  }, {\r\n    key: 'createRunner',\r\n    value: function createRunner(handlers, onStopped) {\r\n      var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\r\n      this._runners.push(runner);\r\n      return runner;\r\n    }\r\n  }, {\r\n    key: 'call',\r\n    value: function call(event, target) {\r\n      var priorities = this.getPrioritiesByKey(event.type);\r\n      var stopped = false;\r\n      var stopPropagation = function stopPropagation() {\r\n        stopped = true;\r\n      };\r\n      if (priorities) {\r\n        // getOwnPropertyNames() or keys()?\r\n        var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\r\n          return a - b;\r\n        });\r\n        var length = list.length;\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          if (stopped) break;\r\n          var _handlers = priorities[list[index]];\r\n          // in case if all handlers of priority were removed while event\r\n          // was dispatched and handlers become undefined.\r\n          if (_handlers) {\r\n            var _runner = this.createRunner(_handlers, stopPropagation);\r\n            _runner.run(event, target);\r\n            if (_runner.immediatelyStopped) break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return EventListeners;\r\n}();\r\n\r\nvar EventDispatcher = function () {\r\n  function EventDispatcher() {\r\n    var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\r\n    var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n    _classCallCheck(this, EventDispatcher);\r\n\r\n    if (!noInit) {\r\n      this.initialize(eventPreprocessor);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventDispatcher, [{\r\n    key: 'initialize',\r\n    value: function initialize() {\r\n      var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\r\n\r\n      this._eventPreprocessor = eventPreprocessor;\r\n      this._listeners = new EventListeners();\r\n    }\r\n  }, {\r\n    key: 'addEventListener',\r\n    value: function addEventListener(eventType, listener) {\r\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\r\n\r\n      this._listeners.add(eventType, listener, -priority || 0);\r\n    }\r\n  }, {\r\n    key: 'hasEventListener',\r\n    value: function hasEventListener(eventType) {\r\n      return this._listeners.has(eventType);\r\n    }\r\n  }, {\r\n    key: 'removeEventListener',\r\n    value: function removeEventListener(eventType, listener) {\r\n      this._listeners.remove(eventType, listener);\r\n    }\r\n  }, {\r\n    key: 'removeAllEventListeners',\r\n    value: function removeAllEventListeners(eventType) {\r\n      this._listeners.removeAll(eventType);\r\n    }\r\n  }, {\r\n    key: 'dispatchEvent',\r\n    value: function dispatchEvent(event, data) {\r\n      var eventObject = EventDispatcher.getEvent(event, data);\r\n      if (this._eventPreprocessor) {\r\n        eventObject = this._eventPreprocessor.call(this, eventObject);\r\n      }\r\n      this._listeners.call(eventObject);\r\n    }\r\n  }], [{\r\n    key: 'isObject',\r\n    value: function isObject(value) {\r\n      return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\r\n    }\r\n  }, {\r\n    key: 'getEvent',\r\n    value: function getEvent(eventOrType, optionalData) {\r\n      var event = eventOrType;\r\n      if (!EventDispatcher.isObject(eventOrType)) {\r\n        event = new EventDispatcher.Event(String(eventOrType), optionalData);\r\n      }\r\n      return event;\r\n    }\r\n  }, {\r\n    key: 'create',\r\n    value: function create(eventPreprocessor) {\r\n      return new EventDispatcher(eventPreprocessor);\r\n    }\r\n\r\n    /* eslint no-undef: \"off\" */\r\n\r\n  }]);\r\n\r\n  return EventDispatcher;\r\n}();\r\n\r\nEventDispatcher.Event = Event;\r\n\r\nexports.default = EventDispatcher;\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=event-dispatcher.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/event-dispatcher/dist/event-dispatcher.js","import TARGET_DATA from '../utils/TARGET_DATA';\nimport TARGET_INTERNALS from '../utils/TARGET_INTERNALS';\nimport getId from '../utils/getId';\n\nconst getPoolId = (pool) => (pool ? pool.id : null);\n\n/**\n * @exports Resource\n */\nclass Resource {\n  constructor(pool, value, type, id) {\n    Object.defineProperties(this, {\n      [TARGET_INTERNALS]: {\n        value: {\n          pool,\n          value,\n          type,\n          id,\n          active: true,\n          poolId: getPoolId(pool),\n        },\n      },\n      [TARGET_DATA]: {\n        get: this.toJSON,\n      },\n    });\n  }\n\n\n  get active() {\n    return Boolean(this[TARGET_INTERNALS].active);\n  }\n\n  get value() {\n    return this[TARGET_INTERNALS].value;\n  }\n\n  get type() {\n    return this[TARGET_INTERNALS].type || typeof this[TARGET_INTERNALS].value;\n  }\n\n  get id() {\n    return this[TARGET_INTERNALS].id;\n  }\n\n  get poolId() {\n    return this[TARGET_INTERNALS].poolId;\n  }\n\n  toJSON = () => ({\n    [TARGET_DATA]: {\n      id: this.id,\n      type: this.type,\n      poolId: this.poolId,\n    },\n  });\n\n  destroy() {\n    const internals = this[TARGET_INTERNALS];\n    const { id, pool } = internals;\n\n    if (!internals.active) {\n      return;\n    }\n\n    internals.active = false;\n    pool.remove(id);\n\n    Object.keys(internals).map((name) => delete internals[name]);\n  }\n}\n\nexport const createResource = (pool, value, resourceType, id = null) => (\n  new Resource(pool, value, resourceType, id || getId())\n);\n\nexport default Resource;\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/Resource.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\nimport TARGET_DATA from './TARGET_DATA';\nimport isResource from './isResource';\n\nexport default (object) => {\n  if (typeof object[TARGET_INTERNALS] === 'object') {\n    return object[TARGET_INTERNALS].poolId;\n  } else if (isResource(object)) {\n    return object[TARGET_DATA].poolId;\n  }\n  return null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourcePoolId.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\nimport TARGET_DATA from './TARGET_DATA';\nimport isResource from './isResource';\n\nexport default (object) => {\n  // if (object instanceof Resource || object instanceof Target) {\n  if (typeof object[TARGET_INTERNALS] === 'object') {\n    return object[TARGET_INTERNALS].id;\n  } else if (isResource(object)) {\n    return object[TARGET_DATA].id;\n  }\n\n  return null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourceId.js","import {\n  createDescriptor,\n  descriptorGeneratorFactory,\n} from '../Descriptor';\n\nexport const ProxyCommandNames = Object.freeze({\n  GET: 'get',\n  SET: 'set',\n  APPLY: 'apply',\n  DELETE_PROPERTY: 'deleteProperty',\n});\n\nexport const ProxyCommandFields = Object.freeze({\n  get: Symbol('proxy.commands::get'),\n  set: Symbol('proxy.commands::set'),\n  apply: Symbol('proxy.commands::apply'),\n  deleteProperty: Symbol('proxy.commands::deleteProperty'),\n});\n\nclass ProxyCommandsClass {\n  constructor() {\n    Object.freeze(this);\n  }\n\n  names = ProxyCommandNames;\n  fields = ProxyCommandFields;\n\n  get list() {\n    return [\n      ProxyCommandNames.GET,\n      ProxyCommandNames.SET,\n      ProxyCommandNames.APPLY,\n      ProxyCommandNames.DELETE_PROPERTY,\n    ];\n  }\n\n  get required() {\n    return [\n      ProxyCommandNames.GET,\n      ProxyCommandNames.SET,\n      ProxyCommandNames.APPLY,\n    ];\n  }\n\n  createGETDescriptor = descriptorGeneratorFactory(\n    ProxyCommandNames.GET,\n    ProxyCommandFields.get,\n  );\n  createSETDescriptor = descriptorGeneratorFactory(\n    ProxyCommandNames.SET,\n    ProxyCommandFields.set,\n  );\n  createAPPLYDescriptor = descriptorGeneratorFactory(\n    ProxyCommandNames.APPLY,\n    ProxyCommandFields.apply,\n  );\n}\n\nconst ProxyCommands = new ProxyCommandsClass();\n\nexport const createDescriptors = (\n  handlers,\n  target = {},\n  isTemporary = undefined,\n  resourceType = null,\n  cacheable = true,\n  virtual = false,\n) => {\n  const args = [isTemporary, resourceType, cacheable, virtual];\n  ProxyCommands.list.forEach((name) => {\n    const handler = handlers[name];\n    const field = ProxyCommandFields[name];\n\n    if (handler instanceof Function) {\n      let descriptor = createDescriptor(name, handler, field, ...args);\n      descriptor = Object.freeze(descriptor);\n\n      if (target instanceof Array) {\n        target.push(descriptor);\n      } else if (target) {\n        target[field] = descriptor;\n      }\n    }\n  });\n\n  return target;\n};\n\nexport default ProxyCommands;\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/internal/ProxyCommands.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\nimport TARGET_DATA from './TARGET_DATA';\nimport isResource from './isResource';\n\nconst getResourceType = (object) => {\n  if (typeof object[TARGET_INTERNALS] === 'object') {\n    return object[TARGET_INTERNALS].type;\n  } else if (isResource(object)) {\n    return object[TARGET_DATA].type;\n  }\n\n  return null;\n};\n\nexport default getResourceType;\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourceType.js","export default Object.freeze({\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n  DESTROYED: 'destroyed',\n});\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/TargetStatus.js","export default (type, args, targetId) => {\n  const result = {\n    type,\n    cmd: args[0], // cmd,\n    value: args[1], // value,\n    target: targetId,\n  };\n\n  // FIXME why? probably to make it not enumerable?.. fuck, dunno\n  Object.defineProperty(result, 'args', {\n    value: args,\n  });\n\n  return result;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/createRequestPackage.js","import TARGET_DATA from './TARGET_DATA';\nimport getRawResource from './getRawResource';\n\nexport default (object) => {\n  const data = getRawResource(object);\n  return data ? data[TARGET_DATA] : null;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourceData.js","const base = `DA/${Date.now()}/`;\nlet index = 0;\nexport default () => `${base}${++index}/${Date.now()}`;\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getId.js","import Descriptor, { addDescriptorTo } from '../Descriptor';\n\nexport const RequestCommandNames = Object.freeze({\n  DESTROY: '::destroy.resource',\n});\n\nexport const RequestCommandFields = Object.freeze({\n  DESTROY: Symbol('::destroy.resource'),\n});\n\n/**\n * Destroy is unique type that exists for every Target\n * and does not have a method on its instances. This type will\n * be send each time Target.destroy() is applied to\n * Target in stance.\n */\nclass RequestCommands {\n  constructor() {\n    Object.freeze(this);\n  }\n\n  names = RequestCommandNames;\n  fields = RequestCommandFields;\n\n  createDESTROYDescriptor = (handler, target) => {\n    const descriptor = new Descriptor(\n      RequestCommandNames.DESTROY,\n      handler,\n      RequestCommandFields.DESTROY,\n    );\n    descriptor.cacheable = false;\n    descriptor.virtual = true;\n    addDescriptorTo(descriptor, target);\n    return Object.freeze(descriptor);\n  };\n\n}\n\nexport default new RequestCommands();\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/internal/RequestCommands.js","/**\n * Reserved words\n */\nexport default Object.freeze({\n  /**\n   * Contains property names that cannot be used for Descriptor's\n   */\n  names: Object.freeze({\n    // INFO Exposed Promise method, cannot be overwritten by type\n    then: true,\n    // INFO Exposed Promise method, cannot be overwritten by type\n    catch: true,\n  }),\n});\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/Reserved.js","import { createDecorator } from './Decorator';\nimport { createRequestTarget } from './Target';\n\nclass Factory {\n  /*\n   function DummyCacheImpl() {\n   this.get = function(name, pack) {\n\n   };\n   this.set = function(name, pack, request) {\n\n   };\n   }\n   */\n  constructor(handlers, cacheImpl = null, noInit = false) {\n    if (noInit) {\n      return;\n    }\n\n    this.cache = cacheImpl;\n    this.handlers = handlers;\n    this.decorator = createDecorator(this, handlers);\n  }\n\n  create(promise) {\n    const request = createRequestTarget(promise, this.handlers);\n    if (this.handlers.available) {\n      this.decorator.apply(request);\n    }\n    return request;\n  }\n\n  getCached(name, pack) {\n    return this.cache && this.cache.get(name, pack);\n  }\n\n  createCached(promise, name, pack) {\n    let request = null;\n    if (this.cache) {\n      request = this.create(promise);\n      this.cache.set(name, pack, request);\n    }\n    return request;\n  }\n\n}\n\nexport const createRequestFactory = (handlers, cacheImpl) => (\n  new Factory(handlers, cacheImpl)\n);\n\nexport default Factory;\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Factory.js","import EventDispatcher from 'event-dispatcher';\nimport getResourcePoolId from '../utils/getResourcePoolId';\nimport getResourceId from '../utils/getResourceId';\nimport isResource from '../utils/isResource';\nimport isResourceConvertible from '../utils/isResourceConvertible';\nimport getRawResource from '../utils/getRawResource';\nimport { isPending } from '../request/Target';\n\nexport const ConverterEvents = Object.freeze({\n  RESOURCE_CREATED: 'resourceCreated',\n  RESOURCE_CONVERTED: 'resourceConverted',\n});\n\n/**\n * Resource converter contains bunch of methods to lookup for resources\n * and registering them, converting them into RAWResource or into\n * Targets, depending on their origin.\n * Before sending data, bundled resources should be registered in ResourcePool\n * and then converted to RAWResource objects.\n * After data received, its RAWResources should be converted to Targets\n * for not resolved resources or to resource target values otherwise.\n * Resource can be resolved by its `id` and `poolId`, if Converter\n * can find ResourcePool with id from poolId, it will try to get target\n * resource value and replace with it RAWResource object.\n * If ResourcePool not found, Converter assumes that resource come from\n * other origin/environment and creates Target object that can be target\n * object for commands.\n * Converter while handling data does not look deeply, so its developer\n * responsibility to convert deeply nested resource targets.\n */\nclass Converter extends EventDispatcher {\n  constructor(factory, registry, pool, handlers = null) {\n    super();\n    this.factory = factory;\n    this.pool = pool;\n    this.registry = registry;\n\n    if (handlers) {\n      handlers.setConverter(this);\n    }\n  }\n\n  resourceToObject(data) {\n    let result;\n\n    if (isResourceConvertible(data)) {\n      result = getRawResource(data, this.pool);\n    } else if (typeof data.toJSON === 'function') {\n      result = data.toJSON();\n    } else {\n      return data;\n    }\n\n    if (this.hasEventListener(ConverterEvents.RESOURCE_CONVERTED)) {\n      this.dispatchEvent(ConverterEvents.RESOURCE_CONVERTED, {\n        data,\n        result,\n      });\n    }\n\n    return result;\n  }\n\n  /**\n   * @method DataAccessInterface.ResourceConverter#objectToResource\n   * @param {*} data\n   * @returns {*}\n   * @private\n   */\n  objectToResource(data) {\n    let result = data;\n\n    if (isResource(data)) {\n      const poolId = getResourcePoolId(data);\n\n      if (this.registry.isRegistered(poolId)) { // target object is stored in current pool\n        const target = this.registry.get(poolId).get(getResourceId(data));\n\n        if (target) {\n          result = target.value;\n        }\n\n      } else { // target object has another origin, should be wrapped\n        result = this.factory.create(Promise.resolve(data));\n      }\n    }\n\n    if (result !== data && this.hasEventListener(ConverterEvents.RESOURCE_CREATED)) {\n      this.dispatchEvent(ConverterEvents.RESOURCE_CREATED, {\n        data,\n        result,\n      });\n    }\n\n    return result;\n  }\n\n  /**\n   * @method DataAccessInterface.ResourceConverter#lookupArray\n   * @param list\n   * @param linkConvertHandler\n   * @returns {Array}\n   * @private\n   */\n  lookupArray(list, linkConvertHandler) {\n    return list.map((item) => linkConvertHandler.call(this, item));\n  }\n\n  /**\n   * @method DataAccessInterface.ResourceConverter#lookupObject\n   * @param {*} data\n   * @param {Function} linkConvertHandler\n   * @returns {*}\n   * @private\n   */\n  lookupObject(data, linkConvertHandler) {\n    return Object.getOwnPropertyNames(data)\n      .reduce((result, name) => {\n        if (Object.prototype.hasOwnProperty.call(data, name)) {\n          result[name] = linkConvertHandler.call(this, data[name]);\n        }\n\n        return result;\n      }, {});\n  }\n\n  /**\n   * @method DataAccessInterface.ResourceConverter#toJSON\n   * @param {*} data\n   * @returns {*}\n   * @private\n   */\n  toJSON(data) {\n    let result = data;\n\n    if (data !== undefined && data !== null) {\n      if (isResourceConvertible(data)) {\n        // if data is Target, Resource, IConvertible, Function or RAW resource data\n        result = this.resourceToObject(data);\n      } else if (data instanceof Array) {\n        // if data is Array of values, check its\n        result = this.lookupArray(data, this.resourceToObject);\n      } else if (data.constructor === Object) {\n        // only Object instances can be looked up, other object types must be converted by hand\n        result = this.lookupObject(data, this.resourceToObject);\n      }\n    }\n    return result;\n  }\n\n  /**\n   * @method DataAccessInterface.ResourceConverter#parse\n   * @param {*} data\n   * @returns {*}\n   * @private\n   */\n  parse(data) {\n    let result = data;\n\n    if (data !== undefined && data !== null) {\n      if (isResource(data)) { // if data is RAW resource data\n        result = this.objectToResource(data);\n      } else if (data instanceof Array) { // if data is Array of values, check its\n        result = this.lookupArray(data, this.objectToResource);\n      } else if (data.constructor === Object) {\n        result = this.lookupObject(data, this.objectToResource);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * @method DataAccessInterface.ResourceConverter#lookupForPending\n   * @param {*} data\n   * @returns {Array}\n   */\n  lookupForPending(data) {\n    const result = [];\n\n    const add = (value) => {\n      if (isPending(value)) {\n        result.push(value);\n      }\n      return value;\n    };\n\n    if (typeof data === 'object' && data !== null) {\n      if (isPending(data)) {\n        result.push(data);\n      } else if (data instanceof Array) {\n        this.lookupArray(data, add);\n      } else if (data.constructor === Object) {\n        this.lookupObject(data, add);\n      }\n    }\n    return result;\n  }\n\n  static events = ConverterEvents;\n}\n\n/**\n * @param {RequestFactory} factory\n * @param {DataAccessInterface.ResourcePoolRegistry} registry\n * @param {DataAccessInterface.ResourcePool} pool\n * @param {Handlers} handlers\n * @returns {ResourceConverter}\n */\nexport const createResourceConverter = (factory, registry, pool, handlers) => (\n  new Converter(factory, registry, pool, handlers)\n);\n\nexport default Converter;\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/Converter.js","import isResource from './isResource';\nimport IConvertible from './IConvertible';\n\nexport default (data) => (\n  isResource(data)\n  || typeof data === 'function'\n  || data instanceof IConvertible\n);\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/isResourceConvertible.js","import EventDispatcher from 'event-dispatcher';\nimport ResourcePool, {\n  createResourcePool,\n  ResourcePoolEvents,\n  defaultResourcePool,\n} from './ResourcePool';\n\nexport const PoolRegistryEvents = Object.freeze({\n  RESOURCE_POOL_CREATED: 'resourcePoolCreated',\n  RESOURCE_POOL_REGISTERED: 'resourcePoolRegistered',\n  RESOURCE_POOL_REMOVED: 'resourcePoolRemoved',\n});\n\nconst POOLS_FIELD = Symbol('resource.pool.registry::pools');\n\n/**\n * @classdesc Collection of ResourcePool instances. Allows lookup for ResourcePool by its Id.\n * When ResourcePool is registered in PoolRegistry, it subscribes to\n * ResourcePool POOL_DESTROYED event and removes pool from registry after its destroyed.\n */\nclass PoolRegistry extends EventDispatcher {\n  constructor() {\n    super();\n    this[POOLS_FIELD] = {};\n\n    // every registry should keep default pool, so you can have access from anywhere\n    this.register(defaultResourcePool);\n  }\n\n  handlePoolDestroyed = (event) => {\n    this.remove(event.data);\n  }\n\n  /**\n   * Create and register ResourcePool\n   * @returns {DataAccessInterface.ResourcePool} New ResourcePool instance\n   */\n  createPool() {\n    const pool = createResourcePool();\n    if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_CREATED)) {\n      this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_CREATED, pool);\n    }\n    this.register(pool);\n    return pool;\n  }\n\n  /**\n   * Register ResourcePool instance.\n   * @param pool {DataAccessInterface.ResourcePool} ResourcePool instance to be registered\n   */\n  register(pool) {\n    if (Object.prototype.hasOwnProperty.call(this[POOLS_FIELD], pool.id)) return;\n    this[POOLS_FIELD][pool.id] = pool;\n    pool.addEventListener(ResourcePoolEvents.POOL_DESTROYED, this.handlePoolDestroyed);\n    if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REGISTERED)) {\n      this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REGISTERED, pool);\n    }\n  }\n\n  /**\n   * Retrieve ResourcePool instance from registry by its Id.\n   * @param poolId {String} ResourcePool instance Id\n   * @returns {DataAccessInterface.ResourcePool|null}\n   */\n  get(poolId) {\n    return this[POOLS_FIELD][poolId] || null;\n  }\n\n  /**\n   * Check if ResourcePool registered in this registry instance.\n   * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\n   * @returns {Boolean}\n   */\n  isRegistered(pool) {\n    return Object.prototype.hasOwnProperty.call(\n      this[POOLS_FIELD],\n      pool instanceof ResourcePool ? pool.id : String(pool),\n    );\n  }\n\n  /**\n   * Remove ResourcePool from current registry instance.\n   * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\n   * @returns {Boolean}\n   */\n  remove(pool) {\n    let result = false;\n    pool = pool instanceof ResourcePool ? pool : this.get(pool);\n    if (pool) {\n      pool.removeEventListener(ResourcePoolEvents.POOL_DESTROYED, this.handlePoolDestroyed);\n      result = delete this[POOLS_FIELD][pool.id];\n    }\n    if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REMOVED)) {\n      this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REMOVED, pool);\n    }\n    return result;\n  }\n\n  static events = PoolRegistryEvents;\n}\n\nexport const createPoolRegistry = () => new PoolRegistry();\n\nexport default PoolRegistry;\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/PoolRegistry.js","import DataAccessInterface, * as api from './index';\n\nmodule.exports = Object.assign(DataAccessInterface, api);\n\n\n\n// WEBPACK FOOTER //\n// ./source/direct.js","module.exports = function(originalModule) {\n\tif(!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true,\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/harmony-module.js\n// module id = 26\n// module chunks = 0","import DataAccessInterface, { create, dummy } from './DataAccessInterface';\nimport Deferred, { createDeferred } from './utils/Deferred';\nimport Descriptor from './command/Descriptor';\nimport Reserved from './command/Reserved';\nimport RequestCommands from './command/internal/RequestCommands';\nimport ProxyCommands from './command/internal/ProxyCommands';\nimport Target from './request/Target';\nimport ResourcePool from './resource/ResourcePool';\nimport PoolRegistry from './resource/PoolRegistry';\nimport Converter from './resource/Converter';\nimport IConvertible from './utils/IConvertible';\nimport isResourceConvertible from './utils/isResourceConvertible';\nimport getRawResource from './utils/getRawResource';\nimport getResourceData from './utils/getResourceData';\nimport getResourceId from './utils/getResourceId';\nimport getResourcePoolId from './utils/getResourcePoolId';\nimport getResourceType from './utils/getResourceType';\nimport isResource from './utils/isResource';\n\nexport default DataAccessInterface;\n\nexport {\n  create,\n  dummy,\n  createDeferred,\n  Deferred,\n  Descriptor,\n  Reserved,\n  RequestCommands,\n  ProxyCommands,\n  Target,\n  ResourcePool,\n  PoolRegistry,\n  Converter,\n  IConvertible,\n  isResourceConvertible,\n  getRawResource,\n  getResourceData,\n  getResourceId,\n  getResourcePoolId,\n  getResourceType,\n  isResource,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/index.js","/**\n * @exports DataAccessInterface\n */\n\nimport areProxiesAvailable from './utils/areProxiesAvailable';\nimport isResource from './utils/isResource';\nimport getResourcePoolId from './utils/getResourcePoolId';\nimport getResourceId from './utils/getResourceId';\nimport { createHandlers } from './request/Handlers';\nimport { createProxyFactory } from './request/ProxyFactory';\nimport { createRequestFactory } from './request/Factory';\nimport { defaultResourcePool, ResourcePoolEvents } from './resource/ResourcePool';\nimport { createResourceConverter } from './resource/Converter';\nimport { createPoolRegistry } from './resource/PoolRegistry';\n\nclass DataAccessInterface {\n\n  /**\n   * @class DataAccessInterface\n   * @classdesc Facade of Deferred Data Access library, it holds all\n   * of public API -- objects like ResourcePool and methods to work\n   * with resources.\n   * @param {Descriptor[]|Object.<string, Function|Descriptor>} descriptors\n   * @param {boolean} [proxyEnabled=false]\n   * @param {ResourcePoolRegistry} [poolRegistry]\n   * @param {ResourcePool} [pool]\n   * @param {ICacheImpl} [cacheImpl]\n   */\n  constructor(\n    descriptors,\n    proxyEnabled = true,\n    poolRegistry = null,\n    pool = null,\n    cacheImpl = null,\n  ) {\n    this.poolRegistry = poolRegistry;\n    this.pool = pool;\n    this.cache = cacheImpl;\n    this.initialize(descriptors, proxyEnabled);\n  }\n\n  initialize(descriptors, proxyEnabled) {\n    if (proxyEnabled && !areProxiesAvailable()) {\n      throw new Error('Proxies are not available in this environment');\n    }\n\n    this.handlers = createHandlers(proxyEnabled);\n    this.resourceConverter = createResourceConverter(\n      this.factory,\n      this.poolRegistry,\n      this.pool,\n      this.handlers,\n    );\n\n    if (proxyEnabled) {\n      this.factory = createProxyFactory(this.handlers, this.cache);\n    } else {\n      this.factory = createRequestFactory(this.handlers, this.cache);\n    }\n\n    if (!this.poolRegistry) {\n      this.poolRegistry = createPoolRegistry();\n    }\n\n    if (this.pool) {\n      this.poolRegistry.register(this.pool);\n    } else if (this.pool !== undefined) {\n      this.pool = this.poolRegistry.createPool();\n    } else {\n      this.pool = defaultResourcePool;\n    }\n\n    const poolDestroyedHandler = () => {\n      this.pool.removeEventListener(ResourcePoolEvents.POOL_DESTROYED, poolDestroyedHandler);\n      this.pool = this.poolRegistry.createPool();\n      this.pool.addEventListener(ResourcePoolEvents.POOL_DESTROYED, poolDestroyedHandler);\n    };\n\n    this.handlers.setHandlers(descriptors);\n    this.pool.addEventListener(ResourcePoolEvents.POOL_DESTROYED, poolDestroyedHandler);\n  }\n\n  get proxyEnabled() {\n    return this.handlers.proxyEnabled;\n  }\n\n  parse(data) {\n    return this.resourceConverter.parse(data);\n  }\n\n  toJSON(data) {\n    return this.resourceConverter.toJSON(data);\n  }\n\n  isOwnResource(resource) {\n    /**\n     * @type {DataAccessInterface.ResourcePool}\n     */\n    let pool;\n    if (isResource(resource)) {\n      pool = this.poolRegistry.get(getResourcePoolId(resource));\n      return pool && pool.has(getResourceId(resource));\n    }\n    return false;\n  }\n}\n\nexport const create = (handlers, proxyEnabled, poolRegistry, pool, cacheImpl) =>\n  new DataAccessInterface(handlers, proxyEnabled, poolRegistry, pool, cacheImpl);\n\nexport const dummy = (handlers, proxyEnabled, poolRegistry, pool, cacheImpl) => {\n  const api = new DataAccessInterface(handlers, proxyEnabled, poolRegistry, pool, cacheImpl);\n  return api.parse(handlers());\n};\n\nexport default DataAccessInterface;\n\n\n\n\n// WEBPACK FOOTER //\n// ./source/DataAccessInterface.js","export default () => (typeof Proxy === 'function');\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/areProxiesAvailable.js","import TargetStatus from '../../utils/TargetStatus';\nimport { createDeferred } from '../../utils/Deferred';\nimport TARGET_DATA from '../../utils/TARGET_DATA';\nimport createRequestPackage from '../../utils/createRequestPackage';\nimport isResource from '../../utils/isResource';\nimport getResourceData from '../../utils/getResourceData';\nimport Queue from './Queue';\nimport Children from './Children';\nimport {\n  RequestCommandFields,\n  RequestCommandNames,\n} from '../../command//internal/RequestCommands';\n\nclass Internals {\n  constructor(requestTarget, promise, requestHandlers) {\n    this.requestHandlers = requestHandlers;\n    this.requestTarget = requestTarget;\n    this.link = {};\n    // INFO this should be not initialized i.e. keep it undefined, this will be checked later\n    this.temporary = undefined;\n    this.hadChildPromises = false;\n    this.status = TargetStatus.PENDING;\n    this.queue = new Queue();\n    class Abc extends Array {}\n    console.log(' --- ', Abc, new Abc());\n    this.children = new Children();\n    this.deferred = createDeferred();\n    this.promise = this.deferred.promise;\n    // FIXME why we have to use own deferred object? use passed promise\n    // chain of events should not be altered\n    promise\n      .then(this.handlePromiseResolve)\n      .catch(this.handlePromiseReject);\n  }\n\n  handlePromiseResolve = (value) => {\n    this.status = TargetStatus.RESOLVED;\n    if (isResource(value)) {\n      this.link = getResourceData(value);\n      /*\n       INFO Sending \"this\" as result of resolve() handler, causes infinite\n       loop of this.then(), so I've used wrapper object\n      */\n      // FIXME Check if Proxy wrapper will work with promise result, probably not\n      value = { target: this.requestTarget };\n      this.sendQueue();\n      /*\n      In theory, at time of these lines executing, \"temporary\" property should be\n      already set via _commandHandler() set from Decorator\n       */\n      if (this.temporary) {\n        this.destroy();\n      }\n    } else { // else { value must be passed as is }\n      this.rejectQueue('Target of the call is not a resource and call cannot be sent.');\n    }\n    this.deferred.resolve(value);\n    delete this.deferred;\n  };\n\n  handlePromiseReject = (value) => {\n    this.status = TargetStatus.REJECTED;\n    this.rejectQueue('Target of the call was rejected and call cannot be sent.');\n    this.deferred.reject(value);\n    delete this.deferred;\n  };\n\n  get poolId() {\n    return this.link.poolId || null;\n  }\n\n  get type() {\n    return this.link.type || null;\n  }\n\n  get id() {\n    return this.link.id || null;\n  }\n\n  sendQueue() {\n    this.queue.send(this.link.id, this.handleRequest);\n    console.log('queue sent');\n    this.queue = null;\n  }\n\n  rejectQueue(message = null) {\n    this.queue.reject(new Error(message || 'This request was rejected before sending.'));\n    this.queue = null;\n  }\n\n  sendRequest(name, pack, deferred = null, child = null) {\n    let promise = null;\n\n    if (this.requestHandlers.hasHandler(name)) {\n      promise = this.applyRequest(name, pack, deferred || createDeferred(), child);\n    } else {\n      throw new Error(`Request handler for \"${name}\" is not registered.`);\n    }\n\n    if (child) {\n      this.registerChild(child);\n    }\n\n    return promise;\n  }\n\n  addToQueue(name, pack, deferred = null, child = null) {\n    if (!this.queue) {\n      throw new Error('Request does not contain queue, probably too little too late.');\n    }\n\n    this.queue.add(name, pack, deferred, child);\n  }\n\n  applyRequest(name, pack, deferred = null, child = null) {\n    let promise;\n\n    // FIXME can deferred be null at this point?\n    if (deferred) {\n      promise = deferred.promise;\n    }\n\n    switch (this.status) {\n      case TargetStatus.PENDING:\n        this.addToQueue(name, pack, deferred, child);\n        break;\n      case TargetStatus.REJECTED:\n        promise = Promise.reject(new Error('Target object was rejected and cannot be used for calls.'));\n        break;\n      case TargetStatus.DESTROYED:\n        promise = Promise.reject(new Error('Target object was destroyed and cannot be used for calls.'));\n        break;\n      case TargetStatus.RESOLVED:\n        this.handleRequest(name, pack, deferred, child);\n        break;\n      default:\n        break;\n    }\n\n    return promise;\n  }\n\n  handleRequest(name, pack, deferred, child) {\n    this.requestHandlers.handle(this.requestTarget, name, pack, deferred, child);\n  }\n\n  registerChild(child) {\n    this.children.register(child);\n  }\n\n  isActive() {\n    return this.status === TargetStatus.PENDING || this.status === TargetStatus.RESOLVED;\n  }\n\n  canBeDestroyed() {\n    return this.status === TargetStatus.RESOLVED || this.status === TargetStatus.REJECTED;\n  }\n\n  destroy() {\n    let promise = null;\n    if (this.canBeDestroyed()) {\n      // INFO I should not clear children list, since they are pending and requests already sent.\n      if (this.status === TargetStatus.RESOLVED) {\n        promise = this.sendRequest(\n          RequestCommandFields.DESTROY,\n          createRequestPackage(\n            RequestCommandNames.DESTROY,\n            [null, null],\n            this.id,\n          ),\n        );\n      } else {\n        promise = Promise.resolve();\n      }\n      this.status = TargetStatus.DESTROYED;\n    } else {\n      promise = Promise.reject(new Error('Invalid or already destroyed target.'));\n    }\n    return promise;\n  }\n\n  then(handleResolve, handleReject) {\n    const child = this.promise.then(handleResolve, handleReject);\n    this.hadChildPromises = true;\n    return child;\n  }\n\n  catch(handleReject) {\n    const child = this.promise.catch(handleReject);\n    this.hadChildPromises = true;\n    return child;\n  }\n\n  toJSON() {\n    return {\n      [TARGET_DATA]: {\n        id: this.link.id,\n        type: this.link.type,\n        poolId: this.link.poolId,\n      },\n    };\n  }\n}\n\nexport default Internals;\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/Internals.js","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 31\n// module chunks = 0","class Queue extends Array {\r\n  constructor() {\r\n    super();\r\n  }\r\n\r\n  add(name, pack, deferred, child) {\r\n    this.push({\r\n      name,\r\n      pack,\r\n      deferred,\r\n      child,\r\n    });\r\n  }\r\n\r\n  send(id, callback) {\r\n    this.forEach(({\r\n      name,\r\n      pack,\r\n      deferred,\r\n      child,\r\n    }) => {\r\n      pack.target = id;\r\n      callback(name, pack, deferred, child);\r\n    });\r\n  }\r\n\r\n  reject(message) {\r\n    const error = new Error(message || 'This request was rejected before sending.');\r\n    this.forEach(({ deferred }) => deferred.reject(error));\r\n  }\r\n}\r\n\r\nexport default Queue;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/Queue.js","import { getRawPromise } from '../Target';\r\n\r\nclass Children extends Array {\r\n  register(child) {\r\n    const handler = () => {\r\n      const index = this.indexOf(child);\r\n      if (index >= 0) {\r\n        this.splice(index, 1);\r\n      }\r\n    };\r\n\r\n    getRawPromise(child).then(handler, handler);\r\n    this.push(child);\r\n  }\r\n}\r\n\r\nexport default Children;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/Children.js","import Descriptor from '../command/Descriptor';\nimport ProxyCommands, { ProxyCommandFields } from '../command/internal/ProxyCommands';\nimport filterHandlers from '../utils/filterRequestHandlers';\nimport getResourceType from '../utils/getResourceType';\n\n/**\n * Key for default type for handlers that will be applied to any\n * resource that does not have type-specific handlers registered\n * @type {string}\n */\nconst DEFAULT_KEY = '';\n\nexport const areProxyHandlersAvailable = (handlers, throwError) => {\n  let result = true;\n  ProxyCommands.required.forEach((name) => {\n    if (!(ProxyCommandFields[name] in handlers)) {\n      result = false;\n      if (throwError) {\n        throw new Error(`For Proxy interface, handler \"${name}\" should be set.`);\n      }\n    }\n  });\n\n  return result;\n};\n\nexport const HandlersEvents = Object.freeze({\n  HANDLERS_UPDATED: 'handlersUpdated',\n});\n\nclass Handlers {\n  constructor(proxyEnabled = false) {\n    // named collection of Descriptor lists that may be applied\n    this.properties = {};\n    this.descriptors = {};\n    this.proxyEnabled = Boolean(proxyEnabled);\n    this.converter = null;\n  }\n\n  get available() {\n    const nonEmptyListIndex = Object.getOwnPropertyNames(this.properties).findIndex((name) => {\n      const list = this.properties[name];\n      return Boolean(list && list.length);\n    });\n    return nonEmptyListIndex >= 0;\n  }\n\n  setConverter(converter) {\n    this.converter = converter;\n  }\n\n  setHandlers(handlers) {\n    this.setHandlersByType(DEFAULT_KEY, handlers);\n\n    Object.keys(handlers).forEach((name) => {\n      const type = handlers[name];\n      if (type && (type.constructor === Object || type instanceof Array)) {\n        this.setHandlersByType(name, type);\n      }\n    });\n\n    if (this.proxyEnabled) {\n      areProxyHandlersAvailable(this.descriptors[DEFAULT_KEY], true);\n    }\n  }\n\n  setHandlersByType(type, handlers) {\n    const descrs = {};\n    const props = [];\n    filterHandlers(handlers, descrs, props);\n    this.descriptors[type] = descrs;\n    this.properties[type] = props;\n  }\n\n  hasHandler(name, type) {\n    return (\n      this.descriptors[type]\n        && Object.prototype.hasOwnProperty.call(this.descriptors[type], name)\n    )\n      || (\n        this.descriptors[DEFAULT_KEY]\n        && Object.prototype.hasOwnProperty.call(this.descriptors[DEFAULT_KEY], name)\n      );\n  }\n\n  getPropertyHandlers(type) {\n    let list = this.properties[type];\n    if (!list) {\n      type = DEFAULT_KEY;\n      list = this.properties[type];\n    }\n\n    return list ? [...list] : [];\n  }\n\n  getPropertyNames(type) {\n    return this.getPropertyNames(type)\n      .map((descriptor) => descriptor.name);\n  }\n\n  getHandlers(type) {\n    if (this.descriptors[type]) {\n      return {\n        ...this.descriptors[type],\n        ...this.descriptors[DEFAULT_KEY],\n      };\n    }\n\n    return {\n      ...this.descriptors[DEFAULT_KEY],\n    };\n  }\n\n  getHandler(name, type) {\n    const handler = (\n      this.descriptors[type]\n        && this.descriptors[type][name]\n    )\n      || (\n        this.descriptors[DEFAULT_KEY]\n        && this.descriptors[DEFAULT_KEY][name]\n      );\n\n    return handler || null;\n  }\n\n  handle(parentRequest, name, pack, deferred, resultRequest) {\n    const list = this.converter ? this.converter.lookupForPending(pack.value) : null;\n    if (list && list.length) {\n      // FIXME Need to test on all platforms: In other browsers this might not work\n      // because may need list of Promise objects, not Targets\n      Promise.all(list).then(() => {\n        this.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\n      });\n    } else {\n      this.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\n    }\n  }\n\n  handleImmediately(parentRequest, name, data, deferred, resultRequest) {\n    /**\n     * @type {DataAccessInterface.Descriptor|null}\n     */\n    const handler = this.getHandler(name, getResourceType(parentRequest));\n    if (handler instanceof Descriptor) {\n      // INFO result should be applied to deferred.resolve() or deferred.reject()\n      handler.handler(parentRequest, data, deferred, resultRequest);\n    } else {\n      throw new Error(`Command descriptor for \"${name}\" was not found.`);\n    }\n  }\n\n  static events = HandlersEvents;\n}\n\nexport const createHandlers = (proxyEnabled) => new Handlers(proxyEnabled);\n\nexport default Handlers;\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Handlers.js","import Descriptor, { createDescriptor } from '../command/Descriptor';\nimport Reserved from '../command/Reserved';\n\n\n/**\n * Checks for Descriptor uniqueness and reserved words usage.\n * @param {DataAccessInterface.Descriptor} descriptor\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\n * @private\n */\nconst applyDescriptor = (descriptor, descriptors, properties) => {\n  const { name } = descriptor;\n  if (name in Reserved.names) {\n    throw new Error(`Name \"${name}\" is reserved and cannot be used in descriptor.`);\n  }\n  if (\n    Object.prototype.hasOwnProperty.call(descriptors, name)\n    && descriptors[name] instanceof Descriptor\n  ) {\n    throw new Error(`Field names should be unique, \"${String(name)}\" field has duplicates.`);\n  }\n  descriptors[name] = descriptor;\n  if (!descriptor.virtual) {\n    properties.push(descriptor);\n  }\n};\n\n/**\n * @param {Array} handlers\n * @param {Object} descriptors\n * @private\n */\nconst filterArray = (handlers, descriptors, properties) => {\n  handlers.forEach((value) => {\n    if (value instanceof Descriptor) {\n      applyDescriptor(value, descriptors, properties);\n    }\n  });\n};\n\n/**\n * @param {Object} handlers\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\n * @private\n */\nconst filterHash = (handlers, descriptors, properties) => {\n  if (!handlers) return;\n  ([\n    ...Object.getOwnPropertyNames(handlers),\n    ...Object.getOwnPropertySymbols(handlers),\n  ]).forEach((name) => {\n    let value = handlers[name];\n    if (typeof value === 'function') {\n      value = createDescriptor(name, value);\n    }\n    if (value instanceof Descriptor) {\n      applyDescriptor(value, descriptors, properties);\n    }\n  });\n};\n\n/**\n * @method Handlers.filterHandlers\n * @param {Array|Object} handlers\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\n */\nexport default (handlers, descriptors, properties) => {\n  if (handlers instanceof Array) {\n    filterArray(handlers, descriptors, properties);\n  } else {\n    filterHash(handlers, descriptors, properties);\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/filterRequestHandlers.js","import Factory, { createRequestFactory } from './Factory';\nimport { ProxyCommandFields } from '../command/internal/ProxyCommands';\n\nconst EXCLUSIONS = {\n  /*\n   INFO arguments and caller were included because they are required function properties\n   */\n  arguments: true,\n  caller: true,\n  prototype: true,\n};\n\nconst toString = () => `[RequestTargetProxy ${String(this.target)}]`;\n\nconst createFunctionWrapper = (target) => {\n  // INFO Target must be a function so I could use Proxy.call() interceptor.\n  function requestTargetProxy() {\n  }\n\n  requestTargetProxy.target = target;\n  requestTargetProxy.toString = toString;\n\n  return requestTargetProxy;\n};\n\nconst wrapWithProxy = (target, handlers) => new Proxy(createFunctionWrapper(target), handlers);\n\nconst proxyGet = (wrapper, name) => {\n  const { target } = wrapper;\n  if (name in target || name in EXCLUSIONS || typeof name === 'symbol') {\n    return target[name];\n  }\n  // INFO Proxy should be already applied, so no need in additional wrapping\n  return target[ProxyCommandFields.get](name);\n};\n\n// INFO Proxy should be already applied, so no need in additional wrapping\nconst proxyApply = (wrapper, thisValue, args) => (\n  wrapper.target[ProxyCommandFields.apply](null, args)\n);\n\nconst proxySet = (wrapper, name, value) => {\n  const { target } = wrapper;\n\n  if (name in target || name in EXCLUSIONS || typeof name === 'symbol') {\n    target[name] = value;\n    return value;\n  }\n\n  if (ProxyCommandFields.set in target) {\n    target[ProxyCommandFields.set](name, value);\n    return true;\n  }\n\n  return false;\n};\n\nconst proxyHas = (wrapper, name) => (\n  Object.prototype.hasOwnProperty.call(wrapper.target, name)\n);\n\nconst proxyDeleteProperty = (wrapper, name) => {\n  const { target } = wrapper;\n  if (ProxyCommandFields.deleteProperty in target) {\n    target[ProxyCommandFields.deleteProperty](name);\n    return true;\n  }\n\n  return false;\n};\n\nconst proxyOwnKeys = (wrapper) => {\n  const { target } = wrapper;\n  return [...Object.getOwnPropertyNames(target), ...Object.getOwnPropertyNames(EXCLUSIONS)];\n};\n\nconst proxyEnumerate = (wrapper) => {\n  const { target } = wrapper;\n  return [\n    ...Object.getOwnPropertyNames(target),\n    ...Object.getOwnPropertyNames(EXCLUSIONS),\n  ][Symbol.iterator]();\n};\n\nconst proxyGetOwnPropertyDescriptor = (wrapper, name) => {\n  if (Object.prototype.hasOwnProperty.call(EXCLUSIONS, name)) {\n    return Object.getOwnPropertyDescriptor(wrapper, name);\n  }\n  return Object.getOwnPropertyDescriptor(wrapper.target, name);\n};\n\n/**\n * Builds proper handlers hash for Proxy\n * @returns {Function}\n */\nexport const createProxyHandlers = (handlers = {}) => ({\n  get: proxyGet,\n  apply: proxyApply,\n  set: proxySet,\n  has: proxyHas,\n  deleteProperty: proxyDeleteProperty,\n  ownKeys: proxyOwnKeys,\n  enumerate: proxyEnumerate,\n  getOwnPropertyDescriptor: proxyGetOwnPropertyDescriptor,\n  ...handlers,\n});\n\nconst PROXY_HANDLERS = createProxyHandlers();\n\nclass ProxyFactory extends Factory {\n  constructor(handlers, cacheImpl) {\n    super(null, null, true);\n\n    this.handlers = handlers;\n    this.factory = createRequestFactory(handlers, cacheImpl);\n    this.factory.decorator.setFactory(this);\n  }\n\n  create(promise) {\n    const instance = this.factory.create(promise);\n\n    if (this.handlers.available) {\n      return wrapWithProxy(instance, PROXY_HANDLERS);\n    }\n\n    return instance;\n  }\n\n  getCached(name, pack) {\n    return this.factory.getCached(name, pack);\n  }\n\n  createCached(promise, name, pack) {\n    const instance = this.factory.createCached(promise, name, pack);\n\n    if (this.handlers.available) {\n      return wrapWithProxy(instance, PROXY_HANDLERS);\n    }\n\n    return instance;\n  }\n\n}\n\nexport const applyProxyWithDefaultHandlers = (target) => wrapWithProxy(target, PROXY_HANDLERS);\n\nexport const createProxyFactory = (handlers, cacheImpl) => (\n  new ProxyFactory(handlers, cacheImpl)\n);\n\nexport default ProxyFactory;\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/ProxyFactory.js","import CallbackFactory from '../command/CallbackFactory';\nimport getResourceType from '../utils/getResourceType';\n\nclass Decorator {\n  constructor(factory, handlers) {\n    this.handlers = handlers;\n    this.members = new CallbackFactory(factory);\n  }\n\n  apply(request) {\n    if (!this.handlers.available) {\n      return request;\n    }\n\n    const descriptors = this.handlers.getPropertyHandlers(getResourceType(request));\n    return descriptors.forEach((descriptor) => {\n      request[descriptor.name] = this.members.get(descriptor);\n    });\n  }\n\n  setFactory(factory) {\n    if (factory) {\n      this.members.setFactory(factory);\n    }\n  }\n}\n\nexport const createDecorator = (factory, handlers) => (\n  new Decorator(factory, handlers)\n);\n\nexport default Decorator;\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Decorator.js","import TARGET_INTERNALS from '../utils/TARGET_INTERNALS';\nimport { createDeferred } from '../utils/Deferred';\nimport createRequestPackage from '../utils/createRequestPackage';\nimport { setTemporary } from '../request/Target';\n\nconst createHandlerFor = (\n  factoryWrapper,\n  propertyName,\n  commandType,\n  isTemporary,\n  cacheable,\n) => {\n  const { factory, checkState, getChildRequest } = factoryWrapper;\n\n  function commandHandler(command, value, ...args) {\n    let result;\n    let promise;\n    if (this[TARGET_INTERNALS]) {\n      const pack = createRequestPackage(\n        commandType,\n        [command, value, ...args],\n        this[TARGET_INTERNALS].id,\n      );\n      // FIXME Explicitly pass scope\n      const request = getChildRequest(propertyName, pack, cacheable);\n      result = request.child;\n      if (request.deferred) {\n        promise = this[TARGET_INTERNALS].sendRequest(propertyName, pack, request.deferred, result);\n        if (promise) {\n          if (isTemporary) {\n            // FIXME isTemporary must be called before `result` was resolved\n            // FIXME remove default `isTemporary`, if not defined just skip\n            checkState(promise, isTemporary, this, result, pack);\n          }\n        } else {\n          result = null;\n          promise = Promise.reject(new Error('Initial request failed and didn\\'t result in promise.'));\n        }\n      }\n    } else {\n      promise = Promise.reject(new Error('Target object is not a resource, so cannot be used for calls.'));\n    }\n    return result || factory.create(promise);\n  }\n\n  return commandHandler;\n};\n\nclass CallbackFactory {\n  members = new Map();\n  factory = null;\n\n  constructor(factory = null) {\n    this.setFactory(factory);\n  }\n\n  /**\n   * @param {Descriptor} descriptor\n   * @returns {Function}\n   * @private\n   */\n  get(descriptor) {\n    const propertyName = descriptor.name;\n    if (!this.members.has(propertyName)) {\n      this.members.set(\n        propertyName,\n        this.create(\n          descriptor.name,\n          descriptor.type,\n          descriptor.isTemporary,\n          descriptor.cacheable,\n        ),\n      );\n    }\n    return this.members.get(propertyName);\n  }\n\n  create(propertyName, commandType, isTemporary, cacheable) {\n    return createHandlerFor(this, propertyName, commandType, isTemporary, cacheable);\n  }\n\n  getChildRequest = (propertyName, pack, cacheable) => {\n    let child;\n    let deferred;\n\n    if (cacheable) {\n      child = this.factory.getCached(propertyName, pack);\n    }\n\n    if (!child) {\n      deferred = createDeferred();\n      if (cacheable) {\n        child = this.factory.createCached(deferred.promise, propertyName, pack);\n      } else {\n        child = this.factory.create(deferred.promise, propertyName, pack);\n      }\n    }\n    return { child, deferred };\n  };\n\n  checkState = (promise, isTemporaryFn, parentRequest, childRequest, pack) => {\n    if (promise) {\n      promise.then((data) => {\n        const isTemporary = Boolean(isTemporaryFn(parentRequest, childRequest, pack, data));\n        setTemporary(childRequest, isTemporary);\n      });\n    }\n  };\n\n  setFactory(factory) {\n    this.factory = factory;\n  }\n}\n\nexport default CallbackFactory;\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/CallbackFactory.js"],"sourceRoot":""}
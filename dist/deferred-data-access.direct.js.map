{"version":3,"sources":["webpack:///deferred-data-access.direct.js","webpack:///webpack/bootstrap 59e3b557104ac41b9792","webpack:///./source/utils/isResource.js","webpack:///./source/utils/TARGET_INTERNALS.js","webpack:///./source/utils/TARGET_DATA.js","webpack:///./source/request/target/getInternals.js","webpack:///./source/command/Descriptor.js","webpack:///./source/resource/ResourcePool.js","webpack:///./source/request/Target.js","webpack:///./source/utils/TargetStatus.js","webpack:///./source/utils/getRawResource.js","webpack:///./source/utils/IConvertible.js","webpack:///./node_modules/event-dispatcher/dist/event-dispatcher.js","webpack:///./source/utils/getId.js","webpack:///./source/resource/Resource.js","webpack:///./source/utils/Deferred.js","webpack:///./source/utils/getResourcePoolId.js","webpack:///./source/utils/getResourceId.js","webpack:///./source/command/internal/ProxyCommands.js","webpack:///./source/utils/getResourceType.js","webpack:///./source/utils/createRequestPackage.js","webpack:///./source/utils/getResourceData.js","webpack:///./source/command/internal/RequestCommands.js","webpack:///./source/command/Reserved.js","webpack:///./source/request/Factory.js","webpack:///./source/resource/Converter.js","webpack:///./source/utils/isResourceConvertible.js","webpack:///./source/resource/PoolRegistry.js","webpack:///./source/direct.js","webpack:///./source/index.js","webpack:///./source/DataAccessInterface.js","webpack:///./source/utils/areProxiesAvailable.js","webpack:///./source/request/target/toJSON.js","webpack:///(webpack)/buildin/module.js","webpack:///./source/request/target/SubTargets.js","webpack:///./source/request/target/Queue.js","webpack:///./source/request/target/Children.js","webpack:///./source/request/target/getRawPromise.js","webpack:///./source/utils/createForeignResource.js","webpack:///./source/request/Handlers.js","webpack:///./source/utils/filterRequestHandlers.js","webpack:///./source/request/ProxyFactory.js","webpack:///./source/request/Decorator.js","webpack:///./source/command/CallbackFactory.js","webpack:///./source/request/target/setTemporary.js","webpack:///./source/request/target/isPending.js","webpack:///./source/request/target/getStatus.js","webpack:///./source/request/target/PROMISE_FIELD.js","webpack:///./source/request/target/Internals.js"],"names":["DataAccessInterface","modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__","__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_2__request_Target__","__WEBPACK_IMPORTED_MODULE_3__resource_Resource__","_typeof","Symbol","iterator","obj","constructor","__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__","target","_classCallCheck","instance","Constructor","TypeError","createDescriptor","addDescriptorTo","descriptorGeneratorFactory","DEFAULT_IS_TEMPORARY","Descriptor","type","handler","arguments","length","undefined","this","isTemporary","cacheable","virtual","resourceType","descriptor","freeze","Array","push","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","value","writable","setPrototypeOf","__proto__","ResourcePoolEvents","defaultResourcePool","createResourcePool","__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__","__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default","__WEBPACK_IMPORTED_MODULE_1__utils_getId__","__WEBPACK_IMPORTED_MODULE_2__utils_isResource__","__WEBPACK_IMPORTED_MODULE_3__Resource__","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","next","done","err","isArray","_createClass","defineProperties","props","key","protoProps","staticProps","RESOURCE_ADDED","RESOURCE_REMOVED","POOL_CLEAR","POOL_CLEARED","POOL_DESTROYED","MAP_FIELD","validTargets","isValidTarget","Boolean","ResourcePool","_EventDispatcher","_this","getPrototypeOf","Map","id","map","resource","has","set","hasEventListener","dispatchEvent","delete","destroy","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","_ref","_ref2","return","clear","a","events","DefaultResourcePool","_ResourcePool","apply","Error","list","reduce","createRequestTarget","__WEBPACK_IMPORTED_MODULE_1__utils_isResource__","__WEBPACK_IMPORTED_MODULE_2__target_PROMISE_FIELD__","__WEBPACK_IMPORTED_MODULE_3__target_Internals__","getRequestPromise","request","Target","promise","requestHandlers","handlePromise","data","then","catch","PENDING","RESOLVED","REJECTED","DESTROYED","__WEBPACK_IMPORTED_MODULE_1__IConvertible__","__WEBPACK_IMPORTED_MODULE_2__isResource__","__WEBPACK_IMPORTED_MODULE_3__request_target_toJSON__","__WEBPACK_IMPORTED_MODULE_4__resource_ResourcePool__","__WEBPACK_IMPORTED_MODULE_5__resource_Resource__","pool","toJSON","IConvertible","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof2","root","factory","Event","_EventDispatcher2","default","hasOwnProp","defaultPrevented","ListenersRunner","listeners","onStopped","onComplete","index","immediatelyStopped","stopImmediatePropagation","event","listener","augmentEvent","clearEvent","eventObject","stopPropagation","EventListeners","_this2","_listeners","_runners","removeRunner","runner","splice","indexOf","eventType","priorityOpt","priority","parseInt","getPrioritiesByKey","String","handlers","createList","result","priorities","_this3","getOwnPropertyNames","handlerIndex","forEach","listenerRemoved","stopped","sort","b","_handlers","_runner","createRunner","run","EventDispatcher","eventPreprocessor","noInit","initialize","_eventPreprocessor","add","remove","removeAll","getEvent","eventOrType","optionalData","isObject","base","Date","now","_defineProperty","createResource","__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__","__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__","__WEBPACK_IMPORTED_MODULE_3__utils_getId__","getPoolId","Resource","_Object$definePropert","poolId","active","internals","keys","createDeferred","Deferred","Promise","resolve","reject","ProxyCommandFields","__WEBPACK_IMPORTED_MODULE_0__Descriptor__","ProxyCommandNames","GET","SET","APPLY","DELETE_PROPERTY","deleteProperty","ProxyCommandsClass","names","fields","createGETDescriptor","createSETDescriptor","createAPPLYDescriptor","ProxyCommands","getResourceType","args","targetId","cmd","__WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_1__getRawResource__","RequestCommandNames","RequestCommandFields","DESTROY","RequestCommands","createDESTROYDescriptor","NO_INIT","createRequestFactory","__WEBPACK_IMPORTED_MODULE_0__Decorator__","__WEBPACK_IMPORTED_MODULE_1__Target__","Factory","cacheImpl","cache","decorator","pack","available","createResourceConverter","__WEBPACK_IMPORTED_MODULE_1__utils_getResourcePoolId__","__WEBPACK_IMPORTED_MODULE_2__utils_getResourceId__","__WEBPACK_IMPORTED_MODULE_3__utils_isResource__","__WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__","__WEBPACK_IMPORTED_MODULE_5__utils_getRawResource__","__WEBPACK_IMPORTED_MODULE_6__request_target_isPending__","ConverterEvents","RESOURCE_CREATED","RESOURCE_CONVERTED","Converter","registry","setConverter","isRegistered","linkConvertHandler","item","resourceToObject","lookupArray","lookupObject","objectToResource","__WEBPACK_IMPORTED_MODULE_0__isResource__","createPoolRegistry","__WEBPACK_IMPORTED_MODULE_1__ResourcePool__","PoolRegistryEvents","RESOURCE_POOL_CREATED","RESOURCE_POOL_REGISTERED","RESOURCE_POOL_REMOVED","POOLS_FIELD","PoolRegistry","handlePoolDestroyed","register","addEventListener","removeEventListener","api","assign","__WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__","__WEBPACK_IMPORTED_MODULE_1__utils_Deferred__","__WEBPACK_IMPORTED_MODULE_2__command_Descriptor__","__WEBPACK_IMPORTED_MODULE_3__command_Reserved__","__WEBPACK_IMPORTED_MODULE_4__command_internal_RequestCommands__","__WEBPACK_IMPORTED_MODULE_5__command_internal_ProxyCommands__","__WEBPACK_IMPORTED_MODULE_6__request_Target__","__WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__","__WEBPACK_IMPORTED_MODULE_8__resource_PoolRegistry__","__WEBPACK_IMPORTED_MODULE_9__resource_Converter__","__WEBPACK_IMPORTED_MODULE_10__utils_IConvertible__","__WEBPACK_IMPORTED_MODULE_11__utils_isResourceConvertible__","__WEBPACK_IMPORTED_MODULE_12__utils_getRawResource__","__WEBPACK_IMPORTED_MODULE_13__utils_getResourceData__","__WEBPACK_IMPORTED_MODULE_14__utils_getResourceId__","__WEBPACK_IMPORTED_MODULE_15__utils_getResourcePoolId__","__WEBPACK_IMPORTED_MODULE_16__utils_getResourceType__","__WEBPACK_IMPORTED_MODULE_17__utils_isResource__","__WEBPACK_IMPORTED_MODULE_0__utils_areProxiesAvailable__","__WEBPACK_IMPORTED_MODULE_2__utils_getResourcePoolId__","__WEBPACK_IMPORTED_MODULE_3__utils_getResourceId__","__WEBPACK_IMPORTED_MODULE_4__utils_createForeignResource__","__WEBPACK_IMPORTED_MODULE_5__request_Handlers__","__WEBPACK_IMPORTED_MODULE_6__request_ProxyFactory__","__WEBPACK_IMPORTED_MODULE_7__request_Factory__","__WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__","__WEBPACK_IMPORTED_MODULE_10__resource_PoolRegistry__","descriptors","proxyEnabled","poolRegistry","createPool","resourceConverter","poolDestroyedHandler","setCommands","parse","Proxy","__WEBPACK_IMPORTED_MODULE_0__getInternals__","webpackPolyfill","deprecate","paths","children","__WEBPACK_IMPORTED_MODULE_0__utils_Deferred__","__WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__","__WEBPACK_IMPORTED_MODULE_2__Queue__","__WEBPACK_IMPORTED_MODULE_3__Children__","SubTargets","_Children","parent","handleSubRequest","deferred","child","handle","queue","setParent","hasQueue","send","message","hasCommand","handleSend","status","_toConsumableArray","arr2","from","createQueue","Queue","concat","callback","error","_ref3","__WEBPACK_IMPORTED_MODULE_0__getRawPromise__","Children","__WEBPACK_IMPORTED_MODULE_1__PROMISE_FIELD__","__WEBPACK_IMPORTED_MODULE_1__getId__","createHandlers","__WEBPACK_IMPORTED_MODULE_0__command_Descriptor__","__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__","__WEBPACK_IMPORTED_MODULE_2__utils_filterRequestHandlers__","__WEBPACK_IMPORTED_MODULE_3__utils_getResourceType__","DEFAULT_KEY","areProxyHandlersAvailable","throwError","required","HandlersEvents","HANDLERS_UPDATED","Handlers","properties","converter","setCommandsByType","descrs","getPropertyCommands","parentRequest","resultRequest","lookupForPending","all","handleImmediately","getCommand","findIndex","__WEBPACK_IMPORTED_MODULE_1__command_Reserved__","applyDescriptor","filterArray","filterHash","getOwnPropertySymbols","createProxyFactory","__WEBPACK_IMPORTED_MODULE_0__Factory__","EXCLUSIONS","caller","createFunctionWrapper","requestTargetProxy","wrapWithProxy","proxyGet","wrapper","proxyApply","thisValue","proxySet","proxyHas","proxyDeleteProperty","proxyOwnKeys","proxyEnumerate","proxyGetOwnPropertyDescriptor","getOwnPropertyDescriptor","PROXY_HANDLERS","ownKeys","enumerate","ProxyFactory","_Factory","setFactory","getCached","createCached","createDecorator","__WEBPACK_IMPORTED_MODULE_0__command_CallbackFactory__","__WEBPACK_IMPORTED_MODULE_1__utils_getResourceType__","Decorator","members","__WEBPACK_IMPORTED_MODULE_0__request_target_getInternals__","__WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__","__WEBPACK_IMPORTED_MODULE_3__request_target_setTemporary__","createHandlerFor","factoryWrapper","propertyName","commandType","commandHandler","command","_len","_key","getChildRequest","checkState","CallbackFactory","isTemporaryFn","childRequest","temporary","__WEBPACK_IMPORTED_MODULE_0__getStatus__","__WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__","__WEBPACK_IMPORTED_MODULE_1__utils_TARGET_DATA__","__WEBPACK_IMPORTED_MODULE_4__utils_getResourceData__","__WEBPACK_IMPORTED_MODULE_5__command_internal_RequestCommands__","__WEBPACK_IMPORTED_MODULE_6__SubTargets__","Internals","_SubTargets","handlePromiseResolve","link","parentResolved","handlePromiseReject","parentRejected","hadChildPromises","canBeDestroyed","handleResolve","handleReject"],"mappings":"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","file":"deferred-data-access.direct.js","sourcesContent":["var DataAccessInterface =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 26);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__request_Target__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__resource_Resource__ = __webpack_require__(12);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  return object instanceof __WEBPACK_IMPORTED_MODULE_3__resource_Resource__[\"b\" /* default */] || object instanceof __WEBPACK_IMPORTED_MODULE_2__request_Target__[\"b\" /* default */] || object && (\n  // this case for Targets and Resources which contain\n  // data in TARGET_INTERNALS Symbol\n  // We check for their types above but in cases when Proxies are enabled\n  // their type will be Function and verification will come to this case\n  _typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object' ||\n  // this case for RAW resources passed via JSON conversion,\n  // look like {'resource::data': {id: '1111', poolId: '22222'}}\n  _typeof(object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]]) === 'object');\n});\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (Symbol('request.target:internals'));\n\n/***/ }),\n/* 2 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = ('resource::data');\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__ = __webpack_require__(1);\n/**\r\n * Created by Oleg Galaburda on 24.11.17.\r\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target) {\n  return target && target[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] || null;\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export DEFAULT_IS_TEMPORARY */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createDescriptor; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return addDescriptorTo; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return descriptorGeneratorFactory; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DEFAULT_IS_TEMPORARY = function DEFAULT_IS_TEMPORARY() {\n  return true;\n};\n\nvar Descriptor = function Descriptor(type, handler) {\n  var name = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n  _classCallCheck(this, Descriptor);\n\n  this.name = name !== undefined ? name : type;\n  this.type = type;\n  this.handler = handler;\n  /**\r\n   * @type {function(): boolean}\r\n   */\n  this.isTemporary = DEFAULT_IS_TEMPORARY;\n  this.cacheable = true;\n  this.virtual = false;\n  this.resourceType = null;\n};\n\nvar createDescriptor = function createDescriptor(type, handler, name) {\n  var isTemporary = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : DEFAULT_IS_TEMPORARY;\n  var resourceType = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n  var cacheable = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n  var virtual = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : false;\n\n  var descriptor = new Descriptor(type, handler, name);\n  descriptor.resourceType = resourceType;\n  descriptor.cacheable = cacheable;\n  descriptor.virtual = virtual;\n  if (isTemporary) {\n    descriptor.isTemporary = isTemporary;\n  }\n  // We can use Object.freeze(), it keeps class/constructor information\n  return Object.freeze(descriptor);\n};\n\nvar addDescriptorTo = function addDescriptorTo(descriptor, target) {\n  if (target instanceof Array) {\n    target.push(descriptor);\n  } else if (target) {\n    target[descriptor.name] = descriptor;\n  }\n};\n\nvar descriptorGeneratorFactory = function descriptorGeneratorFactory(type, name) {\n  return function (handler, target) {\n    var isTemporary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : DEFAULT_IS_TEMPORARY;\n    var resourceType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var cacheable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var virtual = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n    var descriptor = createDescriptor(type, handler, name, isTemporary, resourceType, cacheable, virtual);\n    addDescriptorTo(descriptor, target);\n    return Object.freeze(descriptor);\n  };\n};\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (Descriptor);\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ResourcePoolEvents; });\n/* unused harmony export MAP_FIELD */\n/* unused harmony export isValidTarget */\n/* unused harmony export setValidTargets */\n/* unused harmony export getDefaultValidTargets */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return defaultResourcePool; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createResourcePool; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_getId__ = __webpack_require__(11);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Resource__ = __webpack_require__(12);\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar ResourcePoolEvents = Object.freeze({\n  RESOURCE_ADDED: 'resourceAdded',\n  RESOURCE_REMOVED: 'resourceRemoved',\n  POOL_CLEAR: 'poolClear',\n  POOL_CLEARED: 'poolCleared',\n  POOL_DESTROYED: 'poolDestroyed'\n});\n\nvar MAP_FIELD = Symbol('ResourcePool::map');\n\nvar validTargets = {};\n\nvar isValidTarget = function isValidTarget(target) {\n  return !Object(__WEBPACK_IMPORTED_MODULE_2__utils_isResource__[\"a\" /* default */])(target) && Boolean(validTargets[typeof target === 'undefined' ? 'undefined' : _typeof(target)]);\n};\n\nvar setValidTargets = function setValidTargets(list) {\n  validTargets = list.reduce(function (validTargets, target) {\n    validTargets[target] = true;\n\n    return validTargets;\n  }, {});\n};\n\nvar getDefaultValidTargets = function getDefaultValidTargets() {\n  return ['object', 'function'];\n};\n\nvar ResourcePool = function (_EventDispatcher) {\n  _inherits(ResourcePool, _EventDispatcher);\n\n  function ResourcePool() {\n    _classCallCheck(this, ResourcePool);\n\n    var _this = _possibleConstructorReturn(this, (ResourcePool.__proto__ || Object.getPrototypeOf(ResourcePool)).call(this));\n\n    _this[MAP_FIELD] = new Map();\n    Object.defineProperties(_this, {\n      id: {\n        value: Object(__WEBPACK_IMPORTED_MODULE_1__utils_getId__[\"a\" /* default */])()\n      }\n    });\n    return _this;\n  }\n\n  _createClass(ResourcePool, [{\n    key: 'set',\n    value: function set(value) {\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      var map = this[MAP_FIELD];\n      var resource = null;\n      if (isValidTarget(value)) {\n        if (map.has(value)) {\n          resource = map.get(value);\n        } else {\n          resource = Object(__WEBPACK_IMPORTED_MODULE_3__Resource__[\"a\" /* createResource */])(this, value, type || (typeof value === 'undefined' ? 'undefined' : _typeof(value)));\n          map.set(resource.id, resource);\n          map.set(value, resource);\n          if (this.hasEventListener(ResourcePoolEvents.RESOURCE_ADDED)) {\n            this.dispatchEvent(ResourcePoolEvents.RESOURCE_ADDED, resource);\n          }\n        }\n      }\n\n      return resource;\n    }\n  }, {\n    key: 'has',\n    value: function has(target) {\n      return this[MAP_FIELD].has(target);\n    }\n  }, {\n    key: 'get',\n    value: function get(target) {\n      return this[MAP_FIELD].get(target);\n    }\n  }, {\n    key: 'remove',\n    value: function remove(value) {\n      var map = this[MAP_FIELD];\n      var resource = map.get(value);\n      if (resource) {\n        map.delete(resource.id);\n        map.delete(resource.value);\n        if (this.hasEventListener(ResourcePoolEvents.RESOURCE_REMOVED)) {\n          this.dispatchEvent(ResourcePoolEvents.RESOURCE_REMOVED, resource);\n        }\n        resource.destroy();\n      }\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      var map = this[MAP_FIELD];\n      if (this.hasEventListener(ResourcePoolEvents.POOL_CLEAR)) {\n        this.dispatchEvent(ResourcePoolEvents.POOL_CLEAR, this);\n      }\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = map[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _ref = _step.value;\n\n          var _ref2 = _slicedToArray(_ref, 2);\n\n          var key = _ref2[0];\n          var resource = _ref2[1];\n\n          if (typeof key === 'string' && key === resource.id) {\n            resource.destroy();\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator.return) {\n            _iterator.return();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      map.clear();\n\n      if (this.hasEventListener(ResourcePoolEvents.POOL_CLEARED)) {\n        this.dispatchEvent(ResourcePoolEvents.POOL_CLEARED, this);\n      }\n    }\n  }, {\n    key: 'isActive',\n    value: function isActive() {\n      return Boolean(this[MAP_FIELD]);\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      this.clear();\n      // intentionally make it not usable after its destroyed\n      delete this[MAP_FIELD];\n      if (this.hasEventListener(ResourcePoolEvents.POOL_DESTROYED)) {\n        // FIXME why for second parameter?\n        this.dispatchEvent(ResourcePoolEvents.POOL_DESTROYED, this);\n      }\n    }\n  }]);\n\n  return ResourcePool;\n}(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default.a);\n\nResourcePool.events = ResourcePoolEvents;\n\nvar DefaultResourcePool = function (_ResourcePool) {\n  _inherits(DefaultResourcePool, _ResourcePool);\n\n  function DefaultResourcePool() {\n    _classCallCheck(this, DefaultResourcePool);\n\n    return _possibleConstructorReturn(this, (DefaultResourcePool.__proto__ || Object.getPrototypeOf(DefaultResourcePool)).apply(this, arguments));\n  }\n\n  _createClass(DefaultResourcePool, [{\n    key: 'destroy',\n\n    // INFO default ResourcePool should not be destroyable;\n    value: function destroy() {\n      throw new Error('Default ResourcePool cannot be destroyed.');\n    }\n  }]);\n\n  return DefaultResourcePool;\n}(ResourcePool);\n\nvar defaultResourcePool = new DefaultResourcePool();\n\nvar createResourcePool = function createResourcePool() {\n  return new ResourcePool();\n};\n\nsetValidTargets(getDefaultValidTargets());\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (ResourcePool);\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createRequestTarget; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__target_PROMISE_FIELD__ = __webpack_require__(45);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__target_Internals__ = __webpack_require__(46);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar getRequestPromise = function getRequestPromise(request) {\n  return request[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] || request[__WEBPACK_IMPORTED_MODULE_2__target_PROMISE_FIELD__[\"a\" /* default */]];\n};\n\n/**\r\n * The object that will be available on other side\r\n * @class DataAccessInterface.RequestTarget\r\n * @param _promise {Promise}\r\n * @param _requestHandlers {Handlers}\r\n */\n\nvar Target = function () {\n  function Target(promise, requestHandlers) {\n    var _this = this;\n\n    _classCallCheck(this, Target);\n\n    this[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]] = new __WEBPACK_IMPORTED_MODULE_3__target_Internals__[\"a\" /* default */](this, promise, requestHandlers);\n\n    var handlePromise = function handlePromise(data) {\n      if (!Object(__WEBPACK_IMPORTED_MODULE_1__utils_isResource__[\"a\" /* default */])(data)) {\n        _this[__WEBPACK_IMPORTED_MODULE_2__target_PROMISE_FIELD__[\"a\" /* default */]] = promise;\n        delete _this[__WEBPACK_IMPORTED_MODULE_0__utils_TARGET_INTERNALS__[\"a\" /* default */]];\n      }\n    };\n\n    promise.then(handlePromise, handlePromise);\n  }\n\n  _createClass(Target, [{\n    key: 'then',\n    value: function then() {\n      var target = getRequestPromise(this);\n      return target.then.apply(target, arguments);\n    }\n  }, {\n    key: 'catch',\n    value: function _catch() {\n      var target = getRequestPromise(this);\n      return target.catch.apply(target, arguments);\n    }\n  }]);\n\n  return Target;\n}();\n\nvar createRequestTarget = function createRequestTarget(promise, requestHandlers) {\n  return new Target(promise, requestHandlers);\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (Target);\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object.freeze({\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n  DESTROYED: 'destroyed'\n}));\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__IConvertible__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__request_target_toJSON__ = __webpack_require__(30);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__resource_ResourcePool__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__resource_Resource__ = __webpack_require__(12);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object, pool) {\n  pool = pool || __WEBPACK_IMPORTED_MODULE_4__resource_ResourcePool__[\"d\" /* defaultResourcePool */];\n\n  if (object instanceof __WEBPACK_IMPORTED_MODULE_5__resource_Resource__[\"b\" /* default */]) {\n    return object.toJSON();\n  } else if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return Object(__WEBPACK_IMPORTED_MODULE_3__request_target_toJSON__[\"a\" /* default */])(object);\n  } else if (object instanceof __WEBPACK_IMPORTED_MODULE_1__IConvertible__[\"a\" /* default */] || typeof object === 'function') {\n    return pool.set(object).toJSON();\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object;\n  }\n\n  return null;\n});\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * Interface for all resource types, these will be treated as resources automatically\r\n * @interface\r\n */\nvar IConvertible = function IConvertible() {\n  _classCallCheck(this, IConvertible);\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (IConvertible);\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;var _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (( false ? 'undefined' : _typeof2(exports)) === 'object' && ( false ? 'undefined' : _typeof2(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else if ((typeof exports === 'undefined' ? 'undefined' : _typeof2(exports)) === 'object') exports[\"EventDispatcher\"] = factory();else root[\"EventDispatcher\"] = factory();\n})(this, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/ };\n        /******/\n        /******/ // Execute the module function\n        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/__webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/__webpack_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/__webpack_require__.d = function (exports, name, getter) {\n        /******/if (!__webpack_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, {\n            /******/configurable: false,\n            /******/enumerable: true,\n            /******/get: getter\n            /******/ });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/__webpack_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ?\n        /******/function getDefault() {\n          return module['default'];\n        } :\n        /******/function getModuleExports() {\n          return module;\n        };\n        /******/__webpack_require__.d(getter, 'a', getter);\n        /******/return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/__webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/__webpack_require__.p = \"http://localhost:8081/dist/\";\n      /******/\n      /******/ // Load entry module and return exports\n      /******/return __webpack_require__(__webpack_require__.s = 0);\n      /******/\n    }(\n    /************************************************************************/\n    /******/[\n    /* 0 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Event = undefined;\n\n      var _EventDispatcher = __webpack_require__(1);\n\n      var _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      exports.default = _EventDispatcher2.default;\n      exports.Event = _EventDispatcher.Event;\n\n      /***/\n    },\n    /* 1 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n        return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      };\n\n      var _createClass = function () {\n        function defineProperties(target, props) {\n          for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];descriptor.enumerable = descriptor.enumerable || false;descriptor.configurable = true;if (\"value\" in descriptor) descriptor.writable = true;Object.defineProperty(target, descriptor.key, descriptor);\n          }\n        }return function (Constructor, protoProps, staticProps) {\n          if (protoProps) defineProperties(Constructor.prototype, protoProps);if (staticProps) defineProperties(Constructor, staticProps);return Constructor;\n        };\n      }();\n\n      function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n          throw new TypeError(\"Cannot call a class as a function\");\n        }\n      }\n\n      var hasOwnProp = function hasOwnProp(target, name) {\n        return Object.prototype.hasOwnProperty.call(target, name);\n      }; /**\r\n          * Created by Oleg Galaburda on 09.02.16.\r\n          * \r\n          */\n\n      var Event = exports.Event = function () {\n        function Event(type) {\n          var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n          _classCallCheck(this, Event);\n\n          this.type = type;\n          this.data = data;\n          this.defaultPrevented = false;\n        }\n\n        _createClass(Event, [{\n          key: 'toJSON',\n          value: function toJSON() {\n            return { type: this.type, data: this.data };\n          }\n        }, {\n          key: 'isDefaultPrevented',\n          value: function isDefaultPrevented() {\n            return this.defaultPrevented;\n          }\n        }, {\n          key: 'preventDefault',\n          value: function preventDefault() {\n            this.defaultPrevented = true;\n          }\n        }]);\n\n        return Event;\n      }();\n\n      var ListenersRunner = function () {\n        function ListenersRunner(listeners, onStopped, onComplete) {\n          var _this = this;\n\n          _classCallCheck(this, ListenersRunner);\n\n          this.index = -1;\n          this.immediatelyStopped = false;\n\n          this.stopImmediatePropagation = function () {\n            _this.immediatelyStopped = true;\n          };\n\n          this.listeners = listeners;\n          this.onStopped = onStopped;\n          this.onComplete = onComplete;\n        }\n\n        _createClass(ListenersRunner, [{\n          key: 'run',\n          value: function run(event, target) {\n            var listener = void 0;\n            var listeners = this.listeners;\n\n            this.augmentEvent(event);\n            // TODO this has to be handled in separate object ListenersRunner that should be\n            // created for each call() call and asked for index validation on each listener remove.\n            for (this.index = 0; this.index < listeners.length; this.index++) {\n              if (this.immediatelyStopped) break;\n              listener = listeners[this.index];\n              listener.call(target, event);\n            }\n            this.clearEvent(event);\n            this.onComplete(this);\n          }\n        }, {\n          key: 'augmentEvent',\n          value: function augmentEvent(eventObject) {\n            var event = eventObject;\n            event.stopPropagation = this.onStopped;\n            event.stopImmediatePropagation = this.stopImmediatePropagation;\n          }\n\n          /* eslint class-methods-use-this: \"off\" */\n\n        }, {\n          key: 'clearEvent',\n          value: function clearEvent(eventObject) {\n            var event = eventObject;\n            delete event.stopPropagation;\n            delete event.stopImmediatePropagation;\n          }\n        }, {\n          key: 'listenerRemoved',\n          value: function listenerRemoved(listeners, index) {\n            if (listeners === this.listeners && index <= this.index) {\n              this.index--;\n            }\n          }\n        }]);\n\n        return ListenersRunner;\n      }();\n\n      var EventListeners = function () {\n        function EventListeners() {\n          var _this2 = this;\n\n          _classCallCheck(this, EventListeners);\n\n          this._listeners = {};\n          this._runners = [];\n\n          this.removeRunner = function (runner) {\n            _this2._runners.splice(_this2._runners.indexOf(runner), 1);\n          };\n        }\n        /**\r\n         * key - event Type\r\n         * value - hash of priorities\r\n         *    key - priority\r\n         *    value - list of handlers\r\n         * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n         * @private\r\n         */\n\n        _createClass(EventListeners, [{\n          key: 'createList',\n          value: function createList(eventType, priorityOpt) {\n            var priority = parseInt(priorityOpt, 10);\n            var target = this.getPrioritiesByKey(eventType);\n            var key = String(priority);\n            var value = void 0;\n            if (hasOwnProp(target, key)) {\n              value = target[key];\n            } else {\n              value = [];\n              target[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'getPrioritiesByKey',\n          value: function getPrioritiesByKey(key) {\n            var value = void 0;\n            if (hasOwnProp(this._listeners, key)) {\n              value = this._listeners[key];\n            } else {\n              value = {};\n              this._listeners[key] = value;\n            }\n            return value;\n          }\n        }, {\n          key: 'add',\n          value: function add(eventType, handler, priority) {\n            var handlers = this.createList(eventType, priority);\n            if (handlers.indexOf(handler) < 0) {\n              handlers.push(handler);\n            }\n          }\n        }, {\n          key: 'has',\n          value: function has(eventType) {\n            var priority = void 0;\n            var result = false;\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              for (priority in priorities) {\n                if (hasOwnProp(priorities, priority)) {\n                  result = true;\n                  break;\n                }\n              }\n            }\n            return result;\n          }\n        }, {\n          key: 'remove',\n          value: function remove(eventType, handler) {\n            var _this3 = this;\n\n            var priorities = this.getPrioritiesByKey(eventType);\n            if (priorities) {\n              var list = Object.getOwnPropertyNames(priorities);\n              var length = list.length;\n\n              var _loop = function _loop(index) {\n                var priority = list[index];\n                var handlers = priorities[priority];\n                var handlerIndex = handlers.indexOf(handler);\n                if (handlerIndex >= 0) {\n                  handlers.splice(handlerIndex, 1);\n                  if (!handlers.length) {\n                    delete priorities[priority];\n                  }\n                  _this3._runners.forEach(function (runner) {\n                    runner.listenerRemoved(handlers, handlerIndex);\n                  });\n                }\n              };\n\n              for (var index = 0; index < length; index++) {\n                _loop(index);\n              }\n            }\n          }\n        }, {\n          key: 'removeAll',\n          value: function removeAll(eventType) {\n            delete this._listeners[eventType];\n          }\n        }, {\n          key: 'createRunner',\n          value: function createRunner(handlers, onStopped) {\n            var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\n            this._runners.push(runner);\n            return runner;\n          }\n        }, {\n          key: 'call',\n          value: function call(event, target) {\n            var priorities = this.getPrioritiesByKey(event.type);\n            var stopped = false;\n            var stopPropagation = function stopPropagation() {\n              stopped = true;\n            };\n            if (priorities) {\n              // getOwnPropertyNames() or keys()?\n              var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\n                return a - b;\n              });\n              var length = list.length;\n\n              for (var index = 0; index < length; index++) {\n                if (stopped) break;\n                var _handlers = priorities[list[index]];\n                // in case if all handlers of priority were removed while event\n                // was dispatched and handlers become undefined.\n                if (_handlers) {\n                  var _runner = this.createRunner(_handlers, stopPropagation);\n                  _runner.run(event, target);\n                  if (_runner.immediatelyStopped) break;\n                }\n              }\n            }\n          }\n        }]);\n\n        return EventListeners;\n      }();\n\n      var EventDispatcher = function () {\n        function EventDispatcher() {\n          var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n          var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n          _classCallCheck(this, EventDispatcher);\n\n          if (!noInit) {\n            this.initialize(eventPreprocessor);\n          }\n        }\n\n        /**\r\n         * @private\r\n         */\n\n        _createClass(EventDispatcher, [{\n          key: 'initialize',\n          value: function initialize() {\n            var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n            this._eventPreprocessor = eventPreprocessor;\n            this._listeners = new EventListeners();\n          }\n        }, {\n          key: 'addEventListener',\n          value: function addEventListener(eventType, listener) {\n            var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n\n            this._listeners.add(eventType, listener, -priority || 0);\n          }\n        }, {\n          key: 'hasEventListener',\n          value: function hasEventListener(eventType) {\n            return this._listeners.has(eventType);\n          }\n        }, {\n          key: 'removeEventListener',\n          value: function removeEventListener(eventType, listener) {\n            this._listeners.remove(eventType, listener);\n          }\n        }, {\n          key: 'removeAllEventListeners',\n          value: function removeAllEventListeners(eventType) {\n            this._listeners.removeAll(eventType);\n          }\n        }, {\n          key: 'dispatchEvent',\n          value: function dispatchEvent(event, data) {\n            var eventObject = EventDispatcher.getEvent(event, data);\n            if (this._eventPreprocessor) {\n              eventObject = this._eventPreprocessor.call(this, eventObject);\n            }\n            this._listeners.call(eventObject);\n          }\n        }], [{\n          key: 'isObject',\n          value: function isObject(value) {\n            return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\n          }\n        }, {\n          key: 'getEvent',\n          value: function getEvent(eventOrType, optionalData) {\n            var event = eventOrType;\n            if (!EventDispatcher.isObject(eventOrType)) {\n              event = new EventDispatcher.Event(String(eventOrType), optionalData);\n            }\n            return event;\n          }\n        }, {\n          key: 'create',\n          value: function create(eventPreprocessor) {\n            return new EventDispatcher(eventPreprocessor);\n          }\n\n          /* eslint no-undef: \"off\" */\n\n        }]);\n\n        return EventDispatcher;\n      }();\n\n      EventDispatcher.Event = Event;\n\n      exports.default = EventDispatcher;\n\n      /***/\n    }]\n    /******/)\n  );\n});\n//# sourceMappingURL=event-dispatcher.js.map\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(31)(module)))\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar base = \"DA/\" + Date.now() + \"/\";\nvar index = 0;\n/* harmony default export */ __webpack_exports__[\"a\"] = (function () {\n  return \"\" + base + ++index + \"/\" + Date.now();\n});\n\n/***/ }),\n/* 12 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createResource; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_getId__ = __webpack_require__(11);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar getPoolId = function getPoolId(pool) {\n  return pool ? pool.id : null;\n};\n\n/**\r\n * @exports Resource\r\n */\n\nvar Resource = function () {\n  function Resource(pool, value, type, id) {\n    var _this = this,\n        _Object$definePropert;\n\n    _classCallCheck(this, Resource);\n\n    this.toJSON = function () {\n      return _defineProperty({}, __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__[\"a\" /* default */], {\n        id: _this.id,\n        type: _this.type,\n        poolId: _this.poolId\n      });\n    };\n\n    Object.defineProperties(this, (_Object$definePropert = {}, _defineProperty(_Object$definePropert, __WEBPACK_IMPORTED_MODULE_1__utils_TARGET_INTERNALS__[\"a\" /* default */], {\n      value: {\n        pool: pool,\n        value: value,\n        type: type,\n        id: id,\n        active: true,\n        poolId: getPoolId(pool)\n      }\n    }), _defineProperty(_Object$definePropert, __WEBPACK_IMPORTED_MODULE_0__utils_TARGET_DATA__[\"a\" /* default */], {\n      get: this.toJSON\n    }), _Object$definePropert));\n  }\n\n  _createClass(Resource, [{\n    key: 'destroy',\n    value: function destroy() {\n      var internals = Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this);\n      var id = internals.id,\n          pool = internals.pool;\n\n\n      if (!internals.active) {\n        return;\n      }\n\n      internals.active = false;\n      pool.remove(id);\n\n      Object.keys(internals).map(function (name) {\n        return delete internals[name];\n      });\n    }\n  }, {\n    key: 'active',\n    get: function get() {\n      return Boolean(Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).active);\n    }\n  }, {\n    key: 'value',\n    get: function get() {\n      return Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).value;\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).type || _typeof(Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).value);\n    }\n  }, {\n    key: 'id',\n    get: function get() {\n      return Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).id;\n    }\n  }, {\n    key: 'poolId',\n    get: function get() {\n      return Object(__WEBPACK_IMPORTED_MODULE_2__request_target_getInternals__[\"a\" /* default */])(this).poolId;\n    }\n  }]);\n\n  return Resource;\n}();\n\nvar createResource = function createResource(pool, value, resourceType) {\n  var id = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  return new Resource(pool, value, resourceType, id || Object(__WEBPACK_IMPORTED_MODULE_3__utils_getId__[\"a\" /* default */])());\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (Resource);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createDeferred; });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Deferred = function Deferred() {\n  var _this = this;\n\n  _classCallCheck(this, Deferred);\n\n  this.promise = new Promise(function (resolve, reject) {\n    _this.resolve = resolve;\n    _this.reject = reject;\n  });\n};\n\nvar createDeferred = function createDeferred() {\n  return new Deferred();\n};\n/* harmony default export */ __webpack_exports__[\"b\"] = (Deferred);\n\n/***/ }),\n/* 14 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]].poolId;\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]].poolId;\n  }\n  return null;\n});\n\n/***/ }),\n/* 15 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  // if (object instanceof Resource || object instanceof Target) {\n  if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]].id;\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]].id;\n  }\n\n  return null;\n});\n\n/***/ }),\n/* 16 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ProxyCommandNames */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return ProxyCommandFields; });\n/* unused harmony export createDescriptors */\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Descriptor__ = __webpack_require__(4);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar ProxyCommandNames = Object.freeze({\n  GET: 'get',\n  SET: 'set',\n  APPLY: 'apply',\n  DELETE_PROPERTY: 'deleteProperty'\n});\n\nvar ProxyCommandFields = Object.freeze({\n  get: Symbol('proxy.commands::get'),\n  set: Symbol('proxy.commands::set'),\n  apply: Symbol('proxy.commands::apply'),\n  deleteProperty: Symbol('proxy.commands::deleteProperty')\n});\n\nvar ProxyCommandsClass = function () {\n  function ProxyCommandsClass() {\n    _classCallCheck(this, ProxyCommandsClass);\n\n    this.names = ProxyCommandNames;\n    this.fields = ProxyCommandFields;\n    this.createGETDescriptor = Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"d\" /* descriptorGeneratorFactory */])(ProxyCommandNames.GET, ProxyCommandFields.get);\n    this.createSETDescriptor = Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"d\" /* descriptorGeneratorFactory */])(ProxyCommandNames.SET, ProxyCommandFields.set);\n    this.createAPPLYDescriptor = Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"d\" /* descriptorGeneratorFactory */])(ProxyCommandNames.APPLY, ProxyCommandFields.apply);\n\n    Object.freeze(this);\n  }\n\n  _createClass(ProxyCommandsClass, [{\n    key: 'list',\n    get: function get() {\n      return [ProxyCommandNames.GET, ProxyCommandNames.SET, ProxyCommandNames.APPLY, ProxyCommandNames.DELETE_PROPERTY];\n    }\n  }, {\n    key: 'required',\n    get: function get() {\n      return [ProxyCommandNames.GET, ProxyCommandNames.SET, ProxyCommandNames.APPLY];\n    }\n  }]);\n\n  return ProxyCommandsClass;\n}();\n\nvar ProxyCommands = new ProxyCommandsClass();\n\nvar createDescriptors = function createDescriptors(handlers) {\n  var target = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var isTemporary = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n  var resourceType = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  var cacheable = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n  var virtual = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : false;\n\n  var args = [isTemporary, resourceType, cacheable, virtual];\n  ProxyCommands.list.forEach(function (name) {\n    var handler = handlers[name];\n    var field = ProxyCommandFields[name];\n\n    if (handler instanceof Function) {\n      var descriptor = __WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"b\" /* createDescriptor */].apply(undefined, [name, handler, field].concat(args));\n      descriptor = Object.freeze(descriptor);\n\n      if (target instanceof Array) {\n        target.push(descriptor);\n      } else if (target) {\n        target[field] = descriptor;\n      }\n    }\n  });\n\n  return target;\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (ProxyCommands);\n\n/***/ }),\n/* 17 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__isResource__ = __webpack_require__(0);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n\nvar getResourceType = function getResourceType(object) {\n  if (_typeof(object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]]) === 'object') {\n    return object[__WEBPACK_IMPORTED_MODULE_0__TARGET_INTERNALS__[\"a\" /* default */]].type;\n  } else if (Object(__WEBPACK_IMPORTED_MODULE_2__isResource__[\"a\" /* default */])(object)) {\n    return object[__WEBPACK_IMPORTED_MODULE_1__TARGET_DATA__[\"a\" /* default */]].type;\n  }\n\n  return null;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (getResourceType);\n\n/***/ }),\n/* 18 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (type, args, targetId) {\n  var result = {\n    type: type,\n    args: args,\n    cmd: args[0], // cmd,\n    value: args[1], // value,\n    target: targetId\n  };\n\n  return result;\n});\n\n/***/ }),\n/* 19 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__getRawResource__ = __webpack_require__(8);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (object) {\n  var data = Object(__WEBPACK_IMPORTED_MODULE_1__getRawResource__[\"a\" /* default */])(object);\n  return data ? data[__WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__[\"a\" /* default */]] : null;\n});\n\n/***/ }),\n/* 20 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return RequestCommandNames; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return RequestCommandFields; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Descriptor__ = __webpack_require__(4);\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar RequestCommandNames = Object.freeze({\n  DESTROY: '::destroy.resource'\n});\n\nvar RequestCommandFields = Object.freeze({\n  DESTROY: Symbol('::destroy.resource')\n});\n\n/**\r\n * Destroy is unique type that exists for every Target\r\n * and does not have a method on its instances. This type will\r\n * be send each time Target.destroy() is applied to\r\n * Target in stance.\r\n */\n\nvar RequestCommands = function RequestCommands() {\n  _classCallCheck(this, RequestCommands);\n\n  this.names = RequestCommandNames;\n  this.fields = RequestCommandFields;\n\n  this.createDESTROYDescriptor = function (handler, target) {\n    var descriptor = new __WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"c\" /* default */](RequestCommandNames.DESTROY, handler, RequestCommandFields.DESTROY);\n    descriptor.cacheable = false;\n    descriptor.virtual = true;\n    Object(__WEBPACK_IMPORTED_MODULE_0__Descriptor__[\"a\" /* addDescriptorTo */])(descriptor, target);\n    return Object.freeze(descriptor);\n  };\n\n  Object.freeze(this);\n};\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (new RequestCommands());\n\n/***/ }),\n/* 21 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Reserved words\r\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = (Object.freeze({\n  /**\r\n   * Contains property names that cannot be used for Descriptor's\r\n   */\n  names: Object.freeze({\n    // INFO Exposed Promise method, cannot be overwritten by type\n    then: true,\n    // INFO Exposed Promise method, cannot be overwritten by type\n    catch: true\n  })\n}));\n\n/***/ }),\n/* 22 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return NO_INIT; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return createRequestFactory; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Decorator__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__Target__ = __webpack_require__(6);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar NO_INIT = {};\n\nvar Factory = function () {\n  /*\r\n   function DummyCacheImpl() {\r\n   this.get = function(name, pack) {\r\n     };\r\n   this.set = function(name, pack, request) {\r\n     };\r\n   }\r\n   */\n  function Factory(handlers) {\n    var cacheImpl = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    _classCallCheck(this, Factory);\n\n    this.cache = cacheImpl;\n    this.handlers = handlers;\n\n    if (handlers !== NO_INIT) {\n      this.decorator = Object(__WEBPACK_IMPORTED_MODULE_0__Decorator__[\"a\" /* createDecorator */])(this, handlers);\n    }\n  }\n\n  _createClass(Factory, [{\n    key: 'create',\n    value: function create(promise) {\n      var name = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var pack = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var cacheable = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n\n      var request = Object(__WEBPACK_IMPORTED_MODULE_1__Target__[\"a\" /* createRequestTarget */])(promise, this.handlers);\n      if (this.handlers.available) {\n        this.decorator.apply(request);\n      }\n\n      if (this.cache && cacheable) {\n        this.cache.set(name, pack, request);\n      }\n\n      return request;\n    }\n  }, {\n    key: 'getCached',\n    value: function getCached(name, pack) {\n      return this.cache && this.cache.get(name, pack);\n    }\n  }]);\n\n  return Factory;\n}();\n\nvar createRequestFactory = function createRequestFactory(handlers, cacheImpl) {\n  return new Factory(handlers, cacheImpl);\n};\n\n/* harmony default export */ __webpack_exports__[\"c\"] = (Factory);\n\n/***/ }),\n/* 23 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export ConverterEvents */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createResourceConverter; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_getResourcePoolId__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_getResourceId__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__utils_getRawResource__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__request_target_isPending__ = __webpack_require__(43);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\nvar ConverterEvents = Object.freeze({\n  RESOURCE_CREATED: 'resourceCreated',\n  RESOURCE_CONVERTED: 'resourceConverted'\n});\n\n/**\r\n * Resource converter contains bunch of methods to lookup for resources\r\n * and registering them, converting them into RAWResource or into\r\n * Targets, depending on their origin.\r\n * Before sending data, bundled resources should be registered in ResourcePool\r\n * and then converted to RAWResource objects.\r\n * After data received, its RAWResources should be converted to Targets\r\n * for not resolved resources or to resource target values otherwise.\r\n * Resource can be resolved by its `id` and `poolId`, if Converter\r\n * can find ResourcePool with id from poolId, it will try to get target\r\n * resource value and replace with it RAWResource object.\r\n * If ResourcePool not found, Converter assumes that resource come from\r\n * other origin/environment and creates Target object that can be target\r\n * object for commands.\r\n * Converter while handling data does not look deeply, so its developer\r\n * responsibility to convert deeply nested resource targets.\r\n */\n\nvar Converter = function (_EventDispatcher) {\n  _inherits(Converter, _EventDispatcher);\n\n  function Converter(factory, registry, pool) {\n    var handlers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n\n    _classCallCheck(this, Converter);\n\n    var _this = _possibleConstructorReturn(this, (Converter.__proto__ || Object.getPrototypeOf(Converter)).call(this));\n\n    _this.factory = factory;\n    _this.pool = pool;\n    _this.registry = registry;\n\n    if (handlers) {\n      handlers.setConverter(_this);\n    }\n    return _this;\n  }\n\n  _createClass(Converter, [{\n    key: 'resourceToObject',\n    value: function resourceToObject(data) {\n      var result = void 0;\n\n      if (Object(__WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__[\"a\" /* default */])(data)) {\n        result = Object(__WEBPACK_IMPORTED_MODULE_5__utils_getRawResource__[\"a\" /* default */])(data, this.pool);\n      } else if (typeof data.toJSON === 'function') {\n        result = data.toJSON();\n      } else {\n        return data;\n      }\n\n      if (this.hasEventListener(ConverterEvents.RESOURCE_CONVERTED)) {\n        this.dispatchEvent(ConverterEvents.RESOURCE_CONVERTED, {\n          data: data,\n          result: result\n        });\n      }\n\n      return result;\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#objectToResource\r\n     * @param {*} data\r\n     * @returns {*}\r\n     * @private\r\n     */\n\n  }, {\n    key: 'objectToResource',\n    value: function objectToResource(data) {\n      var result = data;\n\n      if (Object(__WEBPACK_IMPORTED_MODULE_3__utils_isResource__[\"a\" /* default */])(data)) {\n        var poolId = Object(__WEBPACK_IMPORTED_MODULE_1__utils_getResourcePoolId__[\"a\" /* default */])(data);\n\n        if (this.registry.isRegistered(poolId)) {\n          // target object is stored in current pool\n          var target = this.registry.get(poolId).get(Object(__WEBPACK_IMPORTED_MODULE_2__utils_getResourceId__[\"a\" /* default */])(data));\n\n          if (target) {\n            result = target.value;\n          }\n        } else {\n          // target object has another origin, should be wrapped\n          result = this.factory.create(Promise.resolve(data));\n        }\n      }\n\n      if (result !== data && this.hasEventListener(ConverterEvents.RESOURCE_CREATED)) {\n        this.dispatchEvent(ConverterEvents.RESOURCE_CREATED, {\n          data: data,\n          result: result\n        });\n      }\n\n      return result;\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#lookupArray\r\n     * @param list\r\n     * @param linkConvertHandler\r\n     * @returns {Array}\r\n     * @private\r\n     */\n\n  }, {\n    key: 'lookupArray',\n    value: function lookupArray(list, linkConvertHandler) {\n      var _this2 = this;\n\n      return list.map(function (item) {\n        return linkConvertHandler.call(_this2, item);\n      });\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#lookupObject\r\n     * @param {*} data\r\n     * @param {Function} linkConvertHandler\r\n     * @returns {*}\r\n     * @private\r\n     */\n\n  }, {\n    key: 'lookupObject',\n    value: function lookupObject(data, linkConvertHandler) {\n      var _this3 = this;\n\n      return Object.getOwnPropertyNames(data).reduce(function (result, name) {\n        if (Object.prototype.hasOwnProperty.call(data, name)) {\n          result[name] = linkConvertHandler.call(_this3, data[name]);\n        }\n\n        return result;\n      }, {});\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#toJSON\r\n     * @param {*} data\r\n     * @returns {*}\r\n     * @private\r\n     */\n\n  }, {\n    key: 'toJSON',\n    value: function toJSON(data) {\n      var result = data;\n\n      if (data !== undefined && data !== null) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_4__utils_isResourceConvertible__[\"a\" /* default */])(data)) {\n          // if data is Target, Resource, IConvertible, Function or RAW resource data\n          result = this.resourceToObject(data);\n        } else if (data instanceof Array) {\n          // if data is Array of values, check its\n          result = this.lookupArray(data, this.resourceToObject);\n        } else if (data.constructor === Object) {\n          // only Object instances can be looked up, other object types must be converted by hand\n          result = this.lookupObject(data, this.resourceToObject);\n        }\n      }\n      return result;\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#parse\r\n     * @param {*} data\r\n     * @returns {*}\r\n     * @private\r\n     */\n\n  }, {\n    key: 'parse',\n    value: function parse(data) {\n      var result = data;\n\n      if (data !== undefined && data !== null) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_3__utils_isResource__[\"a\" /* default */])(data)) {\n          // if data is RAW resource data\n          result = this.objectToResource(data);\n        } else if (data instanceof Array) {\n          // if data is Array of values, check its\n          result = this.lookupArray(data, this.objectToResource);\n        } else if (data.constructor === Object) {\n          result = this.lookupObject(data, this.objectToResource);\n        }\n      }\n\n      return result;\n    }\n\n    /**\r\n     * @method DataAccessInterface.ResourceConverter#lookupForPending\r\n     * @param {*} data\r\n     * @returns {Array}\r\n     */\n\n  }, {\n    key: 'lookupForPending',\n    value: function lookupForPending(data) {\n      var result = [];\n\n      var add = function add(value) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_6__request_target_isPending__[\"a\" /* default */])(value)) {\n          result.push(value);\n        }\n        return value;\n      };\n\n      if ((typeof data === 'undefined' ? 'undefined' : _typeof(data)) === 'object' && data !== null) {\n        if (Object(__WEBPACK_IMPORTED_MODULE_6__request_target_isPending__[\"a\" /* default */])(data)) {\n          result.push(data);\n        } else if (data instanceof Array) {\n          this.lookupArray(data, add);\n        } else if (data.constructor === Object) {\n          this.lookupObject(data, add);\n        }\n      }\n      return result;\n    }\n  }]);\n\n  return Converter;\n}(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default.a);\n\n/**\r\n * @param {RequestFactory} factory\r\n * @param {DataAccessInterface.ResourcePoolRegistry} registry\r\n * @param {DataAccessInterface.ResourcePool} pool\r\n * @param {Handlers} handlers\r\n * @returns {ResourceConverter}\r\n */\n\n\nConverter.events = ConverterEvents;\nvar createResourceConverter = function createResourceConverter(factory, registry, pool, handlers) {\n  return new Converter(factory, registry, pool, handlers);\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (Converter);\n\n/***/ }),\n/* 24 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__IConvertible__ = __webpack_require__(9);\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (data) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__isResource__[\"a\" /* default */])(data) || typeof data === 'function' || data instanceof __WEBPACK_IMPORTED_MODULE_1__IConvertible__[\"a\" /* default */];\n});\n\n/***/ }),\n/* 25 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export PoolRegistryEvents */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createPoolRegistry; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher__ = __webpack_require__(10);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ResourcePool__ = __webpack_require__(5);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\nvar PoolRegistryEvents = Object.freeze({\n  RESOURCE_POOL_CREATED: 'resourcePoolCreated',\n  RESOURCE_POOL_REGISTERED: 'resourcePoolRegistered',\n  RESOURCE_POOL_REMOVED: 'resourcePoolRemoved'\n});\n\nvar POOLS_FIELD = Symbol('resource.pool.registry::pools');\n\n/**\r\n * @classdesc Collection of ResourcePool instances. Allows lookup for ResourcePool by its Id.\r\n * When ResourcePool is registered in PoolRegistry, it subscribes to\r\n * ResourcePool POOL_DESTROYED event and removes pool from registry after its destroyed.\r\n */\n\nvar PoolRegistry = function (_EventDispatcher) {\n  _inherits(PoolRegistry, _EventDispatcher);\n\n  function PoolRegistry() {\n    _classCallCheck(this, PoolRegistry);\n\n    var _this = _possibleConstructorReturn(this, (PoolRegistry.__proto__ || Object.getPrototypeOf(PoolRegistry)).call(this));\n\n    _this.handlePoolDestroyed = function (event) {\n      _this.remove(event.data);\n    };\n\n    _this[POOLS_FIELD] = {};\n\n    // every registry should keep default pool, so you can have access from anywhere\n    _this.register(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"d\" /* defaultResourcePool */]);\n    return _this;\n  }\n\n  _createClass(PoolRegistry, [{\n    key: 'createPool',\n\n\n    /**\r\n     * Create and register ResourcePool\r\n     * @returns {DataAccessInterface.ResourcePool} New ResourcePool instance\r\n     */\n    value: function createPool() {\n      var pool = Object(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"b\" /* createResourcePool */])();\n      if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_CREATED)) {\n        this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_CREATED, pool);\n      }\n      this.register(pool);\n      return pool;\n    }\n\n    /**\r\n     * Register ResourcePool instance.\r\n     * @param pool {DataAccessInterface.ResourcePool} ResourcePool instance to be registered\r\n     */\n\n  }, {\n    key: 'register',\n    value: function register(pool) {\n      if (Object.prototype.hasOwnProperty.call(this[POOLS_FIELD], pool.id)) return;\n      this[POOLS_FIELD][pool.id] = pool;\n      pool.addEventListener(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, this.handlePoolDestroyed);\n      if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REGISTERED)) {\n        this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REGISTERED, pool);\n      }\n    }\n\n    /**\r\n     * Retrieve ResourcePool instance from registry by its Id.\r\n     * @param poolId {String} ResourcePool instance Id\r\n     * @returns {DataAccessInterface.ResourcePool|null}\r\n     */\n\n  }, {\n    key: 'get',\n    value: function get(poolId) {\n      return this[POOLS_FIELD][poolId] || null;\n    }\n\n    /**\r\n     * Check if ResourcePool registered in this registry instance.\r\n     * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\r\n     * @returns {Boolean}\r\n     */\n\n  }, {\n    key: 'isRegistered',\n    value: function isRegistered(pool) {\n      return Object.prototype.hasOwnProperty.call(this[POOLS_FIELD], pool instanceof __WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"c\" /* default */] ? pool.id : String(pool));\n    }\n\n    /**\r\n     * Remove ResourcePool from current registry instance.\r\n     * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\r\n     * @returns {Boolean}\r\n     */\n\n  }, {\n    key: 'remove',\n    value: function remove(pool) {\n      var result = false;\n      pool = pool instanceof __WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"c\" /* default */] ? pool : this.get(pool);\n      if (pool) {\n        pool.removeEventListener(__WEBPACK_IMPORTED_MODULE_1__ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, this.handlePoolDestroyed);\n        result = delete this[POOLS_FIELD][pool.id];\n      }\n      if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REMOVED)) {\n        this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REMOVED, pool);\n      }\n      return result;\n    }\n  }]);\n\n  return PoolRegistry;\n}(__WEBPACK_IMPORTED_MODULE_0_event_dispatcher___default.a);\n\nPoolRegistry.events = PoolRegistryEvents;\n\n\nvar createPoolRegistry = function createPoolRegistry() {\n  return new PoolRegistry();\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (PoolRegistry);\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(27);\n\nmodule.exports = Object.assign(api.default, api);\n\n/***/ }),\n/* 27 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__ = __webpack_require__(28);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__command_Descriptor__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__command_Reserved__ = __webpack_require__(21);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__command_internal_RequestCommands__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__command_internal_ProxyCommands__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__request_Target__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__resource_PoolRegistry__ = __webpack_require__(25);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__resource_Converter__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__utils_IConvertible__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__utils_isResourceConvertible__ = __webpack_require__(24);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__utils_getRawResource__ = __webpack_require__(8);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__utils_getResourceData__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__utils_getResourceId__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__utils_getResourcePoolId__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__utils_getResourceType__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__utils_isResource__ = __webpack_require__(0);\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"create\", function() { return __WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"dummy\", function() { return __WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__[\"dummy\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"createDeferred\", function() { return __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Deferred\", function() { return __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Descriptor\", function() { return __WEBPACK_IMPORTED_MODULE_2__command_Descriptor__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Reserved\", function() { return __WEBPACK_IMPORTED_MODULE_3__command_Reserved__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"RequestCommands\", function() { return __WEBPACK_IMPORTED_MODULE_4__command_internal_RequestCommands__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ProxyCommands\", function() { return __WEBPACK_IMPORTED_MODULE_5__command_internal_ProxyCommands__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Target\", function() { return __WEBPACK_IMPORTED_MODULE_6__request_Target__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"ResourcePool\", function() { return __WEBPACK_IMPORTED_MODULE_7__resource_ResourcePool__[\"c\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"PoolRegistry\", function() { return __WEBPACK_IMPORTED_MODULE_8__resource_PoolRegistry__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"Converter\", function() { return __WEBPACK_IMPORTED_MODULE_9__resource_Converter__[\"b\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"IConvertible\", function() { return __WEBPACK_IMPORTED_MODULE_10__utils_IConvertible__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"isResourceConvertible\", function() { return __WEBPACK_IMPORTED_MODULE_11__utils_isResourceConvertible__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getRawResource\", function() { return __WEBPACK_IMPORTED_MODULE_12__utils_getRawResource__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourceData\", function() { return __WEBPACK_IMPORTED_MODULE_13__utils_getResourceData__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourceId\", function() { return __WEBPACK_IMPORTED_MODULE_14__utils_getResourceId__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourcePoolId\", function() { return __WEBPACK_IMPORTED_MODULE_15__utils_getResourcePoolId__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"getResourceType\", function() { return __WEBPACK_IMPORTED_MODULE_16__utils_getResourceType__[\"a\"]; });\n/* harmony reexport (binding) */ __webpack_require__.d(__webpack_exports__, \"isResource\", function() { return __WEBPACK_IMPORTED_MODULE_17__utils_isResource__[\"a\"]; });\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (__WEBPACK_IMPORTED_MODULE_0__DataAccessInterface__[\"b\" /* default */]);\n\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return create; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_areProxiesAvailable__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_getResourcePoolId__ = __webpack_require__(14);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_getResourceId__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_createForeignResource__ = __webpack_require__(36);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__request_Handlers__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__request_ProxyFactory__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__request_Factory__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__resource_Converter__ = __webpack_require__(23);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__resource_PoolRegistry__ = __webpack_require__(25);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\r\n * @exports DataAccessInterface\r\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar DataAccessInterface = function () {\n\n  /**\r\n   * @class DataAccessInterface\r\n   * @classdesc Facade of Deferred Data Access library, it holds all\r\n   * of public API -- objects like ResourcePool and methods to work\r\n   * with resources.\r\n   * @param {Descriptor[]|Object.<string, Function|Descriptor>} descriptors\r\n   * @param {boolean} [proxyEnabled=false]\r\n   * @param {ResourcePoolRegistry} [poolRegistry]\r\n   * @param {ResourcePool} [pool]\r\n   * @param {ICacheImpl} [cacheImpl]\r\n   */\n  function DataAccessInterface(descriptors) {\n    var proxyEnabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var poolRegistry = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    var pool = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    var cacheImpl = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n\n    _classCallCheck(this, DataAccessInterface);\n\n    this.poolRegistry = poolRegistry;\n    this.pool = pool;\n    this.cache = cacheImpl;\n    this.initialize(descriptors, proxyEnabled);\n  }\n\n  _createClass(DataAccessInterface, [{\n    key: 'initialize',\n    value: function initialize(descriptors, proxyEnabled) {\n      var _this = this;\n\n      if (proxyEnabled && !Object(__WEBPACK_IMPORTED_MODULE_0__utils_areProxiesAvailable__[\"a\" /* default */])()) {\n        throw new Error('Proxies are not available in this environment');\n      }\n\n      this.handlers = Object(__WEBPACK_IMPORTED_MODULE_5__request_Handlers__[\"a\" /* createHandlers */])(proxyEnabled);\n\n      if (proxyEnabled) {\n        this.factory = Object(__WEBPACK_IMPORTED_MODULE_6__request_ProxyFactory__[\"a\" /* createProxyFactory */])(this.handlers, this.cache);\n      } else {\n        this.factory = Object(__WEBPACK_IMPORTED_MODULE_7__request_Factory__[\"b\" /* createRequestFactory */])(this.handlers, this.cache);\n      }\n\n      if (!this.poolRegistry) {\n        this.poolRegistry = Object(__WEBPACK_IMPORTED_MODULE_10__resource_PoolRegistry__[\"a\" /* createPoolRegistry */])();\n      }\n\n      if (this.pool) {\n        this.poolRegistry.register(this.pool);\n      } else if (this.pool !== undefined) {\n        this.pool = this.poolRegistry.createPool();\n      } else {\n        this.pool = __WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__[\"d\" /* defaultResourcePool */];\n      }\n\n      this.resourceConverter = Object(__WEBPACK_IMPORTED_MODULE_9__resource_Converter__[\"a\" /* createResourceConverter */])(this.factory, this.poolRegistry, this.pool, this.handlers);\n\n      var poolDestroyedHandler = function poolDestroyedHandler() {\n        _this.pool.removeEventListener(__WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, poolDestroyedHandler);\n        _this.pool = _this.poolRegistry.createPool();\n        _this.pool.addEventListener(__WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, poolDestroyedHandler);\n      };\n\n      this.handlers.setCommands(descriptors);\n      this.pool.addEventListener(__WEBPACK_IMPORTED_MODULE_8__resource_ResourcePool__[\"a\" /* ResourcePoolEvents */].POOL_DESTROYED, poolDestroyedHandler);\n    }\n  }, {\n    key: 'parse',\n    value: function parse(data) {\n      return this.resourceConverter.parse(data);\n    }\n  }, {\n    key: 'dummy',\n    value: function dummy() {\n      return this.parse(Object(__WEBPACK_IMPORTED_MODULE_4__utils_createForeignResource__[\"a\" /* default */])());\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON(data) {\n      return this.resourceConverter.toJSON(data);\n    }\n  }, {\n    key: 'isOwnResource',\n    value: function isOwnResource(resource) {\n      /**\r\n       * @type {DataAccessInterface.ResourcePool}\r\n       */\n      var pool = void 0;\n      if (Object(__WEBPACK_IMPORTED_MODULE_1__utils_isResource__[\"a\" /* default */])(resource)) {\n        pool = this.poolRegistry.get(Object(__WEBPACK_IMPORTED_MODULE_2__utils_getResourcePoolId__[\"a\" /* default */])(resource));\n        return pool && pool.has(Object(__WEBPACK_IMPORTED_MODULE_3__utils_getResourceId__[\"a\" /* default */])(resource));\n      }\n      return false;\n    }\n  }, {\n    key: 'proxyEnabled',\n    get: function get() {\n      return this.handlers.proxyEnabled;\n    }\n  }]);\n\n  return DataAccessInterface;\n}();\n\nvar create = function create(handlers) {\n  var proxyEnabled = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  var poolRegistry = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n  var pool = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n  var cacheImpl = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : null;\n  return new DataAccessInterface(handlers, proxyEnabled, poolRegistry, pool, cacheImpl);\n};\n\n/* harmony default export */ __webpack_exports__[\"b\"] = (DataAccessInterface);\n\n/***/ }),\n/* 29 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = (function () {\n  return typeof Proxy === 'function';\n});\n\n/***/ }),\n/* 30 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getInternals__ = __webpack_require__(3);\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__getInternals__[\"a\" /* default */])(target).toJSON();\n});\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_Deferred__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Queue__ = __webpack_require__(33);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__Children__ = __webpack_require__(34);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\nvar SubTargets = function (_Children) {\n  _inherits(SubTargets, _Children);\n\n  function SubTargets() {\n    var parent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var children = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\n    _classCallCheck(this, SubTargets);\n\n    var _this = _possibleConstructorReturn(this, (SubTargets.__proto__ || Object.getPrototypeOf(SubTargets)).call(this, children));\n\n    _this.handleSubRequest = function (name, pack, deferred, child) {\n      var handlers = _this.parent.handlers;\n\n      return handlers.handle(_this.parent, name, pack, deferred, child);\n    };\n\n    _this.queue = null;\n    _this.setParent(parent);\n    return _this;\n  }\n\n  _createClass(SubTargets, [{\n    key: 'setParent',\n    value: function setParent(parent) {\n      this.parent = parent;\n    }\n  }, {\n    key: 'parentResolved',\n    value: function parentResolved() {\n      if (this.hasQueue()) {\n        this.queue.send(this.parent.id, this.handleSubRequest);\n        this.queue = null;\n      }\n    }\n  }, {\n    key: 'parentRejected',\n    value: function parentRejected() {\n      var message = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n      this.queue.reject(new Error(message || 'This request was rejected before sending.'));\n      this.queue = null;\n    }\n  }, {\n    key: 'hasQueue',\n    value: function hasQueue() {\n      return Boolean(this.queue && this.queue.length);\n    }\n  }, {\n    key: 'send',\n    value: function send(name, pack) {\n      var deferred = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var child = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var handlers = this.parent.handlers;\n\n      var promise = void 0;\n\n      if (!handlers.hasCommand(name)) {\n        return Promise.reject(new Error('Request handler for \"' + name + '\" is not registered.'));\n      }\n\n      promise = this.handleSend(name, pack, deferred || Object(__WEBPACK_IMPORTED_MODULE_0__utils_Deferred__[\"a\" /* createDeferred */])(), child);\n\n      if (child) {\n        promise = this.register(child);\n      }\n\n      return promise;\n    }\n  }, {\n    key: 'handleSend',\n    value: function handleSend(name, pack, deferred) {\n      var child = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var status = this.parent.status;\n\n\n      switch (status) {\n        case __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__[\"a\" /* default */].PENDING:\n          if (!this.queue) {\n            this.queue = Object(__WEBPACK_IMPORTED_MODULE_2__Queue__[\"a\" /* createQueue */])();\n          }\n\n          return this.queue.add(name, pack, deferred, child);\n        case __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__[\"a\" /* default */].REJECTED:\n          return Promise.reject(new Error('Target object was rejected and cannot be used for calls.'));\n        case __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__[\"a\" /* default */].DESTROYED:\n          return Promise.reject(new Error('Target object was destroyed and cannot be used for calls.'));\n        case __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__[\"a\" /* default */].RESOLVED:\n          this.handleSubRequest(name, pack, deferred, child);\n          return deferred.promise;\n        default:\n          return Promise.reject(new Error('Target object is in unknown status \"' + status + '\".'));\n      }\n    }\n  }]);\n\n  return SubTargets;\n}(__WEBPACK_IMPORTED_MODULE_3__Children__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (SubTargets);\n\n/***/ }),\n/* 33 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createQueue; });\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Queue = function () {\n  function Queue() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    _classCallCheck(this, Queue);\n\n    this.list = list;\n  }\n\n  _createClass(Queue, [{\n    key: 'add',\n    value: function add(name, pack, deferred, child) {\n      this.list.push({\n        name: name,\n        pack: pack,\n        deferred: deferred,\n        child: child\n      });\n\n      return deferred.promise;\n    }\n  }, {\n    key: 'getList',\n    value: function getList() {\n      return [].concat(_toConsumableArray(this.list));\n    }\n  }, {\n    key: 'getCommands',\n    value: function getCommands() {\n      // return this.list.map(([name, pack]) => pack.type);\n      return this.list.map(function (_ref) {\n        var name = _ref.name;\n        return name;\n      });\n    }\n  }, {\n    key: 'send',\n    value: function send(id, callback) {\n      this.list.forEach(function (_ref2) {\n        var name = _ref2.name,\n            pack = _ref2.pack,\n            deferred = _ref2.deferred,\n            child = _ref2.child;\n\n        pack.target = id;\n        callback(name, pack, deferred, child);\n      });\n      this.list = [];\n    }\n  }, {\n    key: 'reject',\n    value: function reject(message) {\n      var error = new Error(message || 'This request was rejected before sending.');\n      this.list.forEach(function (_ref3) {\n        var deferred = _ref3.deferred;\n        return deferred.reject(error);\n      });\n      this.list = [];\n    }\n  }, {\n    key: 'length',\n    get: function get() {\n      return this.list.length;\n    }\n  }]);\n\n  return Queue;\n}();\n\nvar createQueue = function createQueue() {\n  var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return new Queue(list);\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (Queue);\n\n/***/ }),\n/* 34 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getRawPromise__ = __webpack_require__(35);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\nvar Children = function () {\n  function Children() {\n    var list = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n\n    _classCallCheck(this, Children);\n\n    this.list = list;\n  }\n\n  _createClass(Children, [{\n    key: 'register',\n    value: function register(child) {\n      var _this = this;\n\n      var handler = function handler() {\n        var index = _this.list.indexOf(child);\n        if (index >= 0) {\n          _this.list.splice(index, 1);\n        }\n      };\n\n      this.list.push(child);\n      // getRawPromise() is needed to capture promise resolution directly,\n      // otherwise this .then() call will be counted in child.hadChildPromises.\n      return Object(__WEBPACK_IMPORTED_MODULE_0__getRawPromise__[\"a\" /* default */])(child).then(handler, handler);\n    }\n  }, {\n    key: 'getList',\n    value: function getList() {\n      return [].concat(_toConsumableArray(this.list));\n    }\n  }, {\n    key: 'contains',\n    value: function contains(item) {\n      return this.list.indexOf(item) >= 0;\n    }\n  }, {\n    key: 'length',\n    get: function get() {\n      return this.list.length;\n    }\n  }, {\n    key: 'lastItem',\n    get: function get() {\n      var length = this.list.length;\n\n      return length ? this.list[length - 1] : null;\n    }\n  }]);\n\n  return Children;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Children);\n\n/***/ }),\n/* 35 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getInternals__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__PROMISE_FIELD__ = __webpack_require__(45);\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target) {\n  var internals = Object(__WEBPACK_IMPORTED_MODULE_0__getInternals__[\"a\" /* default */])(target);\n  if (internals && internals.promise) {\n    return internals.promise;\n  }\n  return target[__WEBPACK_IMPORTED_MODULE_1__PROMISE_FIELD__[\"a\" /* default */]] || null;\n});\n\n/***/ }),\n/* 36 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__getId__ = __webpack_require__(11);\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function () {\n  var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var resource = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  resource[__WEBPACK_IMPORTED_MODULE_0__TARGET_DATA__[\"a\" /* default */]] = {\n    id: 'foreign-id-' + Object(__WEBPACK_IMPORTED_MODULE_1__getId__[\"a\" /* default */])(),\n    type: type || (typeof resource === 'undefined' ? 'undefined' : _typeof(resource)),\n    poolId: 'foreign-poolId-' + Object(__WEBPACK_IMPORTED_MODULE_1__getId__[\"a\" /* default */])()\n  };\n\n  return resource;\n});\n\n/***/ }),\n/* 37 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export areProxyHandlersAvailable */\n/* unused harmony export HandlersEvents */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createHandlers; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_filterRequestHandlers__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_getResourceType__ = __webpack_require__(17);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\n/**\r\n * Key for default type for handlers that will be applied to any\r\n * resource that does not have type-specific handlers registered\r\n * @type {string}\r\n */\nvar DEFAULT_KEY = '';\n\nvar areProxyHandlersAvailable = function areProxyHandlersAvailable(handlers) {\n  var throwError = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var result = true;\n  __WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"b\" /* default */].required.forEach(function (name) {\n    if (!(__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */][name] in handlers)) {\n      result = false;\n      if (throwError) {\n        throw new Error('For Proxy interface, handler \"' + name + '\" should be set.');\n      }\n    }\n  });\n\n  return result;\n};\n\nvar HandlersEvents = Object.freeze({\n  HANDLERS_UPDATED: 'handlersUpdated'\n});\n\nvar Handlers = function () {\n  function Handlers() {\n    var proxyEnabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n    _classCallCheck(this, Handlers);\n\n    // named collection of Descriptor lists that may be applied\n    this.properties = _defineProperty({}, DEFAULT_KEY, []);\n    this.descriptors = _defineProperty({}, DEFAULT_KEY, []);\n    this.proxyEnabled = Boolean(proxyEnabled);\n    this.converter = null;\n  }\n\n  _createClass(Handlers, [{\n    key: 'setConverter',\n    value: function setConverter(converter) {\n      this.converter = converter;\n    }\n  }, {\n    key: 'setCommands',\n    value: function setCommands(handlers) {\n      var _this = this;\n\n      this.setCommandsByType(DEFAULT_KEY, handlers);\n\n      Object.keys(handlers).forEach(function (name) {\n        var type = handlers[name];\n        if (type && (type.constructor === Object || type instanceof Array)) {\n          _this.setCommandsByType(name, type);\n        }\n      });\n\n      if (this.proxyEnabled) {\n        areProxyHandlersAvailable(this.descriptors[DEFAULT_KEY], true);\n      }\n    }\n  }, {\n    key: 'setCommandsByType',\n    value: function setCommandsByType(type, handlers) {\n      var descrs = {};\n      var props = [];\n      Object(__WEBPACK_IMPORTED_MODULE_2__utils_filterRequestHandlers__[\"a\" /* default */])(handlers, descrs, props);\n      this.descriptors[type] = descrs;\n      this.properties[type] = props;\n    }\n  }, {\n    key: 'hasCommand',\n    value: function hasCommand(name, type) {\n      return this.descriptors[type] && Object.prototype.hasOwnProperty.call(this.descriptors[type], name) || this.descriptors[DEFAULT_KEY] && Object.prototype.hasOwnProperty.call(this.descriptors[DEFAULT_KEY], name);\n    }\n  }, {\n    key: 'getPropertyCommands',\n    value: function getPropertyCommands() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      var list = this.properties[type || DEFAULT_KEY] || [];\n      return [].concat(_toConsumableArray(list));\n    }\n  }, {\n    key: 'getPropertyNames',\n    value: function getPropertyNames() {\n      var type = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      return this.getPropertyCommands(type).map(function (descriptor) {\n        return descriptor.name;\n      });\n    }\n  }, {\n    key: 'getCommands',\n    value: function getCommands(type) {\n      if (this.descriptors[type]) {\n        return Object.assign({}, this.descriptors[DEFAULT_KEY], this.descriptors[type]);\n      }\n\n      return this.descriptors[DEFAULT_KEY];\n    }\n  }, {\n    key: 'getCommand',\n    value: function getCommand(name, type) {\n      var descriptor = this.descriptors[type] && this.descriptors[type][name] || this.descriptors[DEFAULT_KEY] && this.descriptors[DEFAULT_KEY][name];\n\n      return descriptor || null;\n    }\n  }, {\n    key: 'handle',\n    value: function handle(parentRequest, name, pack, deferred, resultRequest) {\n      var _this2 = this;\n\n      var list = this.converter ? this.converter.lookupForPending(pack.value) : null;\n      if (list && list.length) {\n        // FIXME Need to test on all platforms: might not work because may need list of\n        // Promise objects, not Targets\n        Promise.all(list).then(function () {\n          _this2.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\n        });\n      } else {\n        this.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\n      }\n    }\n  }, {\n    key: 'handleImmediately',\n    value: function handleImmediately(parentRequest, name, pack, deferred, resultRequest) {\n      var descriptor = this.getCommand(name, Object(__WEBPACK_IMPORTED_MODULE_3__utils_getResourceType__[\"a\" /* default */])(parentRequest));\n      if (descriptor instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n        // INFO result should be applied to deferred.resolve() or deferred.reject()\n        // FIXME change pack to {command, args} object\n        descriptor.handler(parentRequest, pack, deferred, resultRequest);\n      } else {\n        throw new Error('Command descriptor for \"' + name + '\" was not found.');\n      }\n    }\n  }, {\n    key: 'available',\n    get: function get() {\n      var _this3 = this;\n\n      var nonEmptyListIndex = Object.getOwnPropertyNames(this.properties).findIndex(function (name) {\n        var list = _this3.properties[name];\n        return Boolean(list && list.length);\n      });\n      return nonEmptyListIndex >= 0;\n    }\n  }]);\n\n  return Handlers;\n}();\n\nHandlers.events = HandlersEvents;\n\n\nvar createHandlers = function createHandlers(proxyEnabled) {\n  return new Handlers(proxyEnabled);\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (Handlers);\n\n/***/ }),\n/* 38 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__ = __webpack_require__(4);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command_Reserved__ = __webpack_require__(21);\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\n/**\r\n * Checks for Descriptor uniqueness and reserved words usage.\r\n * @param {DataAccessInterface.Descriptor} descriptor\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n * @private\r\n */\nvar applyDescriptor = function applyDescriptor(descriptor, descriptors, properties) {\n  var name = descriptor.name;\n\n  if (name in __WEBPACK_IMPORTED_MODULE_1__command_Reserved__[\"a\" /* default */].names) {\n    throw new Error('Name \"' + name + '\" is reserved and cannot be used in descriptor.');\n  }\n  if (Object.prototype.hasOwnProperty.call(descriptors, name) && descriptors[name] instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n    throw new Error('Field names should be unique, \"' + String(name) + '\" field has duplicates.');\n  }\n  descriptors[name] = descriptor;\n  if (!descriptor.virtual) {\n    properties.push(descriptor);\n  }\n};\n\n/**\r\n * @param {Array} handlers\r\n * @param {Object} descriptors\r\n * @private\r\n */\nvar filterArray = function filterArray(handlers, descriptors, properties) {\n  handlers.forEach(function (value) {\n    if (value instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n      applyDescriptor(value, descriptors, properties);\n    }\n  });\n};\n\n/**\r\n * @param {Object} handlers\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n * @private\r\n */\nvar filterHash = function filterHash(handlers, descriptors, properties) {\n  if (!handlers) return;\n  [].concat(_toConsumableArray(Object.getOwnPropertyNames(handlers)), _toConsumableArray(Object.getOwnPropertySymbols(handlers))).forEach(function (name) {\n    var value = handlers[name];\n    if (typeof value === 'function') {\n      value = Object(__WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"b\" /* createDescriptor */])(name, value);\n    }\n    if (value instanceof __WEBPACK_IMPORTED_MODULE_0__command_Descriptor__[\"c\" /* default */]) {\n      applyDescriptor(value, descriptors, properties);\n    }\n  });\n};\n\n/**\r\n * @method Handlers.filterHandlers\r\n * @param {Array|Object} handlers\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n */\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (handlers, descriptors, properties) {\n  if (handlers instanceof Array) {\n    filterArray(handlers, descriptors, properties);\n  } else {\n    filterHash(handlers, descriptors, properties);\n  }\n});\n\n/***/ }),\n/* 39 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* unused harmony export createProxyHandlers */\n/* unused harmony export applyProxyWithDefaultHandlers */\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createProxyFactory; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__Factory__ = __webpack_require__(22);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__ = __webpack_require__(16);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n\n\n\nvar EXCLUSIONS = {\n  /*\r\n   INFO arguments and caller were included because they are required function properties\r\n   */\n  arguments: true,\n  caller: true,\n  prototype: true\n};\n\nvar createFunctionWrapper = function createFunctionWrapper(target) {\n  // INFO Target must be a function so I could use Proxy.call() interceptor.\n  function requestTargetProxy() {}\n\n  requestTargetProxy.target = target;\n\n  return requestTargetProxy;\n};\n\nvar wrapWithProxy = function wrapWithProxy(target, handlers) {\n  return new Proxy(createFunctionWrapper(target), handlers);\n};\n\nvar proxyGet = function proxyGet(wrapper, name) {\n  var target = wrapper.target;\n\n  if (name in target || name in EXCLUSIONS || (typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'symbol') {\n    return target[name];\n  }\n  // INFO Proxy should be already applied, so no need in additional wrapping\n  return target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].get](name);\n};\n\n// INFO Proxy should be already applied, so no need in additional wrapping\nvar proxyApply = function proxyApply(wrapper, thisValue, args) {\n  return wrapper.target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].apply](null, args);\n};\n\nvar proxySet = function proxySet(wrapper, name, value) {\n  var target = wrapper.target;\n\n\n  if (name in target || name in EXCLUSIONS || (typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'symbol') {\n    target[name] = value;\n    return value;\n  }\n\n  if (__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].set in target) {\n    target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].set](name, value);\n    return true;\n  }\n\n  return false;\n};\n\nvar proxyHas = function proxyHas(wrapper, name) {\n  return Object.prototype.hasOwnProperty.call(wrapper.target, name);\n};\n\nvar proxyDeleteProperty = function proxyDeleteProperty(wrapper, name) {\n  var target = wrapper.target;\n\n  if (__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].deleteProperty in target) {\n    target[__WEBPACK_IMPORTED_MODULE_1__command_internal_ProxyCommands__[\"a\" /* ProxyCommandFields */].deleteProperty](name);\n    return true;\n  }\n\n  return false;\n};\n\nvar proxyOwnKeys = function proxyOwnKeys(wrapper) {\n  var target = wrapper.target;\n\n  return [].concat(_toConsumableArray(Object.getOwnPropertyNames(target)), _toConsumableArray(Object.getOwnPropertyNames(EXCLUSIONS)));\n};\n\nvar proxyEnumerate = function proxyEnumerate(wrapper) {\n  var target = wrapper.target;\n\n  return [].concat(_toConsumableArray(Object.getOwnPropertyNames(target)), _toConsumableArray(Object.getOwnPropertyNames(EXCLUSIONS)))[Symbol.iterator]();\n};\n\nvar proxyGetOwnPropertyDescriptor = function proxyGetOwnPropertyDescriptor(wrapper, name) {\n  if (Object.prototype.hasOwnProperty.call(EXCLUSIONS, name)) {\n    return Object.getOwnPropertyDescriptor(wrapper, name);\n  }\n  return Object.getOwnPropertyDescriptor(wrapper.target, name);\n};\n\n/**\r\n * Builds proper handlers hash for Proxy\r\n * @returns {Function}\r\n */\nvar createProxyHandlers = function createProxyHandlers() {\n  var handlers = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.assign({\n    get: proxyGet,\n    apply: proxyApply,\n    set: proxySet,\n    has: proxyHas,\n    deleteProperty: proxyDeleteProperty,\n    ownKeys: proxyOwnKeys,\n    enumerate: proxyEnumerate,\n    getOwnPropertyDescriptor: proxyGetOwnPropertyDescriptor\n  }, handlers);\n};\n\nvar PROXY_HANDLERS = createProxyHandlers();\n\nvar ProxyFactory = function (_Factory) {\n  _inherits(ProxyFactory, _Factory);\n\n  function ProxyFactory(handlers, cacheImpl) {\n    _classCallCheck(this, ProxyFactory);\n\n    var _this = _possibleConstructorReturn(this, (ProxyFactory.__proto__ || Object.getPrototypeOf(ProxyFactory)).call(this, __WEBPACK_IMPORTED_MODULE_0__Factory__[\"a\" /* NO_INIT */]));\n\n    _this.handlers = handlers;\n    _this.factory = Object(__WEBPACK_IMPORTED_MODULE_0__Factory__[\"b\" /* createRequestFactory */])(handlers, cacheImpl);\n    _this.factory.decorator.setFactory(_this);\n    return _this;\n  }\n\n  _createClass(ProxyFactory, [{\n    key: 'create',\n    value: function create(promise) {\n      var instance = this.factory.create(promise);\n\n      if (this.handlers.available) {\n        return wrapWithProxy(instance, PROXY_HANDLERS);\n      }\n\n      return instance;\n    }\n  }, {\n    key: 'getCached',\n    value: function getCached(name, pack) {\n      return this.factory.getCached(name, pack);\n    }\n  }, {\n    key: 'createCached',\n    value: function createCached(promise, name, pack) {\n      var instance = this.factory.createCached(promise, name, pack);\n\n      if (this.handlers.available) {\n        return wrapWithProxy(instance, PROXY_HANDLERS);\n      }\n\n      return instance;\n    }\n  }]);\n\n  return ProxyFactory;\n}(__WEBPACK_IMPORTED_MODULE_0__Factory__[\"c\" /* default */]);\n\nvar applyProxyWithDefaultHandlers = function applyProxyWithDefaultHandlers(target) {\n  return wrapWithProxy(target, PROXY_HANDLERS);\n};\n\nvar createProxyFactory = function createProxyFactory(handlers, cacheImpl) {\n  return new ProxyFactory(handlers, cacheImpl);\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (ProxyFactory);\n\n/***/ }),\n/* 40 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return createDecorator; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__command_CallbackFactory__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_getResourceType__ = __webpack_require__(17);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\nvar Decorator = function () {\n  function Decorator(factory, handlers) {\n    _classCallCheck(this, Decorator);\n\n    this.handlers = handlers;\n    this.members = new __WEBPACK_IMPORTED_MODULE_0__command_CallbackFactory__[\"a\" /* default */](factory);\n  }\n\n  _createClass(Decorator, [{\n    key: 'apply',\n    value: function apply(request) {\n      var _this = this;\n\n      if (!this.handlers.available) {\n        return request;\n      }\n\n      var descriptors = this.handlers.getPropertyCommands(Object(__WEBPACK_IMPORTED_MODULE_1__utils_getResourceType__[\"a\" /* default */])(request));\n      return descriptors.forEach(function (descriptor) {\n        request[descriptor.name] = _this.members.get(descriptor);\n      });\n    }\n  }, {\n    key: 'setFactory',\n    value: function setFactory(factory) {\n      if (factory) {\n        this.members.setFactory(factory);\n      }\n    }\n  }]);\n\n  return Decorator;\n}();\n\nvar createDecorator = function createDecorator(factory, handlers) {\n  return new Decorator(factory, handlers);\n};\n\n/* unused harmony default export */ var _unused_webpack_default_export = (Decorator);\n\n/***/ }),\n/* 41 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__request_target_getInternals__ = __webpack_require__(3);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_Deferred__ = __webpack_require__(13);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__request_target_setTemporary__ = __webpack_require__(42);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar createHandlerFor = function createHandlerFor(factoryWrapper, propertyName, commandType, isTemporary, cacheable) {\n  var factory = factoryWrapper.factory,\n      checkState = factoryWrapper.checkState,\n      getChildRequest = factoryWrapper.getChildRequest;\n\n\n  function commandHandler(command, value) {\n    var target = Object(__WEBPACK_IMPORTED_MODULE_0__request_target_getInternals__[\"a\" /* default */])(this);\n    var result = void 0;\n    var promise = void 0;\n    if (target) {\n      for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n        args[_key - 2] = arguments[_key];\n      }\n\n      var pack = Object(__WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__[\"a\" /* default */])(commandType, [command, value].concat(args), target.id);\n      // FIXME Explicitly pass scope\n      var request = getChildRequest(propertyName, pack, cacheable);\n      result = request.child;\n      if (request.deferred) {\n        promise = target.send(propertyName, pack, request.deferred, result);\n        if (promise) {\n          // FIXME isTemporary must be called before `result` was resolved\n          // FIXME remove default `isTemporary`, if not defined just skip\n          checkState(promise, isTemporary, this, result, pack);\n        } else {\n          result = null;\n          promise = Promise.reject(new Error('Initial request failed and didn\\'t result in promise.'));\n        }\n      }\n    } else {\n      promise = Promise.reject(new Error('Target object is not a resource, so cannot be used for calls.'));\n    }\n    return result || factory.create(promise);\n  }\n\n  return commandHandler;\n};\n\nvar CallbackFactory = function () {\n  function CallbackFactory() {\n    var _this = this;\n\n    var factory = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n    _classCallCheck(this, CallbackFactory);\n\n    this.members = new Map();\n    this.factory = null;\n\n    this.getChildRequest = function (propertyName, pack, cacheable) {\n      var child = void 0;\n      var deferred = void 0;\n\n      if (cacheable) {\n        child = _this.factory.getCached(propertyName, pack);\n      }\n\n      if (!child) {\n        deferred = Object(__WEBPACK_IMPORTED_MODULE_1__utils_Deferred__[\"a\" /* createDeferred */])();\n        child = _this.factory.create(deferred.promise, propertyName, pack, cacheable);\n      }\n\n      return { child: child, deferred: deferred };\n    };\n\n    this.checkState = function (promise, isTemporaryFn, parentRequest, childRequest, pack) {\n      promise.then(function (data) {\n        var isTemporary = Boolean(isTemporaryFn(parentRequest, childRequest, pack, data));\n        Object(__WEBPACK_IMPORTED_MODULE_3__request_target_setTemporary__[\"a\" /* default */])(childRequest, isTemporary);\n      });\n    };\n\n    this.setFactory(factory);\n  }\n\n  /**\r\n   * @param {Descriptor} descriptor\r\n   * @returns {Function}\r\n   * @private\r\n   */\n\n\n  _createClass(CallbackFactory, [{\n    key: 'get',\n    value: function get(descriptor) {\n      var propertyName = descriptor.name;\n      if (!this.members.has(propertyName)) {\n        this.members.set(propertyName, this.create(descriptor.name, descriptor.type, descriptor.isTemporary, descriptor.cacheable));\n      }\n      return this.members.get(propertyName);\n    }\n  }, {\n    key: 'create',\n    value: function create(propertyName, commandType, isTemporary, cacheable) {\n      return createHandlerFor(this, propertyName, commandType, isTemporary, cacheable);\n    }\n  }, {\n    key: 'setFactory',\n    value: function setFactory(factory) {\n      this.factory = factory;\n    }\n  }]);\n\n  return CallbackFactory;\n}();\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (CallbackFactory);\n\n/***/ }),\n/* 42 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getInternals__ = __webpack_require__(3);\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target, value) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__getInternals__[\"a\" /* default */])(target).temporary = Boolean(value);\n});\n\n/***/ }),\n/* 43 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getStatus__ = __webpack_require__(44);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__ = __webpack_require__(7);\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (value) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__getStatus__[\"a\" /* default */])(value) === __WEBPACK_IMPORTED_MODULE_1__utils_TargetStatus__[\"a\" /* default */].PENDING;\n});\n\n/***/ }),\n/* 44 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__getInternals__ = __webpack_require__(3);\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (function (target) {\n  return Object(__WEBPACK_IMPORTED_MODULE_0__getInternals__[\"a\" /* default */])(target).status;\n});\n\n/***/ }),\n/* 45 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Symbol('request.target::promise'));\n\n/***/ }),\n/* 46 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__utils_TARGET_DATA__ = __webpack_require__(2);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__ = __webpack_require__(18);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__utils_isResource__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils_getResourceData__ = __webpack_require__(19);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__command_internal_RequestCommands__ = __webpack_require__(20);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__SubTargets__ = __webpack_require__(32);\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n\n\n\n\n\n\nvar Internals = function (_SubTargets) {\n  _inherits(Internals, _SubTargets);\n\n  function Internals(target, promise, handlers) {\n    _classCallCheck(this, Internals);\n\n    var _this = _possibleConstructorReturn(this, (Internals.__proto__ || Object.getPrototypeOf(Internals)).call(this));\n\n    _this.handlePromiseResolve = function (value) {\n      var result = { target: _this.target, value: value };\n      _this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED;\n      if (Object(__WEBPACK_IMPORTED_MODULE_3__utils_isResource__[\"a\" /* default */])(value)) {\n        _this.link = Object(__WEBPACK_IMPORTED_MODULE_4__utils_getResourceData__[\"a\" /* default */])(value);\n        /*\r\n         INFO Sending \"this\" as result of resolve() handler, causes infinite\r\n         loop of this.then(), so I've used wrapper object\r\n        */\n        // FIXME Propagate proxified target, not original object, so it will be possible to use it as before\n        // best way of doing this is probably replacing \"target\" in ProxyFactory\n        // FIXME request target must be anything, not only resource, could be any value\n        // we should be able to make request against any type of value that was returned by server successfully\n        result.value = _this.target;\n      }\n\n      _this.parentResolved();\n\n      if (_this.temporary) {\n        _this.destroy();\n      }\n\n      return result;\n    };\n\n    _this.handlePromiseReject = function (value) {\n      _this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].REJECTED;\n      _this.parentRejected('Target of the call was rejected and call cannot be sent.');\n      return Promise.reject(value);\n    };\n\n    _this.handlers = handlers;\n    _this.target = target;\n    _this.link = {};\n    // INFO this should be not initialized i.e. keep it undefined, this will be checked later\n    _this.temporary = undefined;\n    _this.hadChildPromises = false;\n    _this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].PENDING;\n    _this.promise = promise.then(_this.handlePromiseResolve).catch(_this.handlePromiseReject);\n    _this.setParent(_this);\n    return _this;\n  }\n\n  _createClass(Internals, [{\n    key: 'isActive',\n    value: function isActive() {\n      return this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].PENDING || this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED;\n    }\n  }, {\n    key: 'canBeDestroyed',\n    value: function canBeDestroyed() {\n      return this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED || this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].REJECTED;\n    }\n  }, {\n    key: 'destroy',\n    value: function destroy() {\n      var promise = null;\n      if (this.canBeDestroyed()) {\n        // INFO I should not clear children list, since they are pending and requests already sent.\n        if (this.status === __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].RESOLVED) {\n          promise = this.send(__WEBPACK_IMPORTED_MODULE_5__command_internal_RequestCommands__[\"a\" /* RequestCommandFields */].DESTROY, Object(__WEBPACK_IMPORTED_MODULE_2__utils_createRequestPackage__[\"a\" /* default */])(__WEBPACK_IMPORTED_MODULE_5__command_internal_RequestCommands__[\"b\" /* RequestCommandNames */].DESTROY, [null, null], this.id));\n        } else {\n          promise = Promise.resolve();\n        }\n        this.status = __WEBPACK_IMPORTED_MODULE_0__utils_TargetStatus__[\"a\" /* default */].DESTROYED;\n      } else {\n        promise = Promise.reject(new Error('Invalid or already destroyed target.'));\n      }\n      return promise;\n    }\n  }, {\n    key: 'then',\n    value: function then(handleResolve, handleReject) {\n      var child = this.promise.then(handleResolve, handleReject);\n      this.hadChildPromises = true;\n      return child;\n    }\n  }, {\n    key: 'catch',\n    value: function _catch(handleReject) {\n      var child = this.promise.catch(handleReject);\n      this.hadChildPromises = true;\n      return child;\n    }\n  }, {\n    key: 'toJSON',\n    value: function toJSON() {\n      return _defineProperty({}, __WEBPACK_IMPORTED_MODULE_1__utils_TARGET_DATA__[\"a\" /* default */], {\n        id: this.link.id,\n        type: this.link.type,\n        poolId: this.link.poolId\n      });\n    }\n  }, {\n    key: 'poolId',\n    get: function get() {\n      return this.link.poolId || null;\n    }\n  }, {\n    key: 'type',\n    get: function get() {\n      return this.link.type || null;\n    }\n  }, {\n    key: 'id',\n    get: function get() {\n      return this.link.id || null;\n    }\n  }]);\n\n  return Internals;\n}(__WEBPACK_IMPORTED_MODULE_6__SubTargets__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Internals);\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// deferred-data-access.direct.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"http://localhost:8081/dist/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 26);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 59e3b557104ac41b9792","import TARGET_INTERNALS from './TARGET_INTERNALS';\r\nimport TARGET_DATA from './TARGET_DATA';\r\nimport Target from '../request/Target';\r\nimport Resource from '../resource/Resource';\r\n\r\nexport default (object) => object instanceof Resource ||\r\n  object instanceof Target ||\r\n  (object && (\r\n    // this case for Targets and Resources which contain\r\n    // data in TARGET_INTERNALS Symbol\r\n    // We check for their types above but in cases when Proxies are enabled\r\n    // their type will be Function and verification will come to this case\r\n    typeof object[TARGET_INTERNALS] === 'object' ||\r\n    // this case for RAW resources passed via JSON conversion,\r\n    // look like {'resource::data': {id: '1111', poolId: '22222'}}\r\n    typeof object[TARGET_DATA] === 'object'\r\n  ));\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/isResource.js","export default Symbol('request.target:internals');\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/TARGET_INTERNALS.js","export default 'resource::data';\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/TARGET_DATA.js","/**\r\n * Created by Oleg Galaburda on 24.11.17.\r\n */\r\n\r\nimport TARGET_INTERNALS from '../../utils/TARGET_INTERNALS';\r\n\r\nexport default (target) => ((target && target[TARGET_INTERNALS]) || null);\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/getInternals.js","export const DEFAULT_IS_TEMPORARY = () => true;\r\n\r\nclass Descriptor {\r\n  constructor(type, handler, name = undefined) {\r\n    this.name = name !== undefined ? name : type;\r\n    this.type = type;\r\n    this.handler = handler;\r\n    /**\r\n     * @type {function(): boolean}\r\n     */\r\n    this.isTemporary = DEFAULT_IS_TEMPORARY;\r\n    this.cacheable = true;\r\n    this.virtual = false;\r\n    this.resourceType = null;\r\n  }\r\n}\r\n\r\nexport const createDescriptor = (\r\n  type,\r\n  handler,\r\n  name,\r\n  isTemporary = DEFAULT_IS_TEMPORARY,\r\n  resourceType = null,\r\n  cacheable = true,\r\n  virtual = false,\r\n) => {\r\n  const descriptor = new Descriptor(type, handler, name);\r\n  descriptor.resourceType = resourceType;\r\n  descriptor.cacheable = cacheable;\r\n  descriptor.virtual = virtual;\r\n  if (isTemporary) {\r\n    descriptor.isTemporary = isTemporary;\r\n  }\r\n  // We can use Object.freeze(), it keeps class/constructor information\r\n  return Object.freeze(descriptor);\r\n};\r\n\r\nexport const addDescriptorTo = (descriptor, target) => {\r\n  if (target instanceof Array) {\r\n    target.push(descriptor);\r\n  } else if (target) {\r\n    target[descriptor.name] = descriptor;\r\n  }\r\n};\r\n\r\nexport const descriptorGeneratorFactory = (type, name) =>\r\n  (\r\n    handler,\r\n    target,\r\n    isTemporary = DEFAULT_IS_TEMPORARY,\r\n    resourceType = null,\r\n    cacheable = true,\r\n    virtual = false,\r\n  ) => {\r\n    const descriptor = createDescriptor(\r\n      type,\r\n      handler,\r\n      name,\r\n      isTemporary,\r\n      resourceType,\r\n      cacheable,\r\n      virtual,\r\n    );\r\n    addDescriptorTo(descriptor, target);\r\n    return Object.freeze(descriptor);\r\n  };\r\n\r\nexport default Descriptor;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/Descriptor.js","import EventDispatcher from 'event-dispatcher';\r\nimport getId from '../utils/getId';\r\nimport isResource from '../utils/isResource';\r\nimport { createResource } from './Resource';\r\n\r\nexport const ResourcePoolEvents = Object.freeze({\r\n  RESOURCE_ADDED: 'resourceAdded',\r\n  RESOURCE_REMOVED: 'resourceRemoved',\r\n  POOL_CLEAR: 'poolClear',\r\n  POOL_CLEARED: 'poolCleared',\r\n  POOL_DESTROYED: 'poolDestroyed',\r\n});\r\n\r\nexport const MAP_FIELD = Symbol('ResourcePool::map');\r\n\r\nlet validTargets = {};\r\n\r\nexport const isValidTarget = (target) => (\r\n  !isResource(target)\r\n  && Boolean(validTargets[typeof target])\r\n);\r\n\r\nexport const setValidTargets = (list) => {\r\n  validTargets = list.reduce((validTargets, target) => {\r\n    validTargets[target] = true;\r\n\r\n    return validTargets;\r\n  }, {});\r\n};\r\n\r\nexport const getDefaultValidTargets = () => ['object', 'function'];\r\n\r\nclass ResourcePool extends EventDispatcher {\r\n  constructor() {\r\n    super();\r\n    this[MAP_FIELD] = new Map();\r\n    Object.defineProperties(this, {\r\n      id: {\r\n        value: getId(),\r\n      },\r\n    });\r\n  }\r\n\r\n  set(value, type = null) {\r\n    const map = this[MAP_FIELD];\r\n    let resource = null;\r\n    if (isValidTarget(value)) {\r\n      if (map.has(value)) {\r\n        resource = map.get(value);\r\n      } else {\r\n        resource = createResource(this, value, type || typeof value);\r\n        map.set(resource.id, resource);\r\n        map.set(value, resource);\r\n        if (this.hasEventListener(ResourcePoolEvents.RESOURCE_ADDED)) {\r\n          this.dispatchEvent(ResourcePoolEvents.RESOURCE_ADDED, resource);\r\n        }\r\n      }\r\n    }\r\n\r\n    return resource;\r\n  }\r\n\r\n  has(target) {\r\n    return this[MAP_FIELD].has(target);\r\n  }\r\n\r\n  get(target) {\r\n    return this[MAP_FIELD].get(target);\r\n  }\r\n\r\n  remove(value) {\r\n    const map = this[MAP_FIELD];\r\n    const resource = map.get(value);\r\n    if (resource) {\r\n      map.delete(resource.id);\r\n      map.delete(resource.value);\r\n      if (this.hasEventListener(ResourcePoolEvents.RESOURCE_REMOVED)) {\r\n        this.dispatchEvent(ResourcePoolEvents.RESOURCE_REMOVED, resource);\r\n      }\r\n      resource.destroy();\r\n    }\r\n  }\r\n\r\n  clear() {\r\n    const map = this[MAP_FIELD];\r\n    if (this.hasEventListener(ResourcePoolEvents.POOL_CLEAR)) {\r\n      this.dispatchEvent(ResourcePoolEvents.POOL_CLEAR, this);\r\n    }\r\n\r\n    for (const [key, resource] of map) {\r\n      if (typeof key === 'string' && key === resource.id) {\r\n        resource.destroy();\r\n      }\r\n    }\r\n\r\n    map.clear();\r\n\r\n    if (this.hasEventListener(ResourcePoolEvents.POOL_CLEARED)) {\r\n      this.dispatchEvent(ResourcePoolEvents.POOL_CLEARED, this);\r\n    }\r\n  }\r\n\r\n  isActive() {\r\n    return Boolean(this[MAP_FIELD]);\r\n  }\r\n\r\n  destroy() {\r\n    this.clear();\r\n    // intentionally make it not usable after its destroyed\r\n    delete this[MAP_FIELD];\r\n    if (this.hasEventListener(ResourcePoolEvents.POOL_DESTROYED)) {\r\n      // FIXME why for second parameter?\r\n      this.dispatchEvent(ResourcePoolEvents.POOL_DESTROYED, this);\r\n    }\r\n  }\r\n\r\n  static events = ResourcePoolEvents;\r\n}\r\n\r\nclass DefaultResourcePool extends ResourcePool {\r\n  // INFO default ResourcePool should not be destroyable;\r\n  destroy() {\r\n    throw new Error('Default ResourcePool cannot be destroyed.');\r\n  }\r\n}\r\n\r\nexport const defaultResourcePool = new DefaultResourcePool();\r\n\r\nexport const createResourcePool = () => new ResourcePool();\r\n\r\nsetValidTargets(getDefaultValidTargets());\r\n\r\nexport default ResourcePool;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/ResourcePool.js","import TARGET_INTERNALS from '../utils/TARGET_INTERNALS';\r\nimport isResource from '../utils/isResource';\r\nimport PROMISE_FIELD from './target/PROMISE_FIELD';\r\nimport Internals from './target/Internals';\r\n\r\nconst getRequestPromise = (request) => (request[TARGET_INTERNALS] || request[PROMISE_FIELD]);\r\n\r\n/**\r\n * The object that will be available on other side\r\n * @class DataAccessInterface.RequestTarget\r\n * @param _promise {Promise}\r\n * @param _requestHandlers {Handlers}\r\n */\r\nclass Target {\r\n  constructor(promise, requestHandlers) {\r\n    this[TARGET_INTERNALS] = new Internals(this, promise, requestHandlers);\r\n\r\n    const handlePromise = (data) => {\r\n      if (!isResource(data)) {\r\n        this[PROMISE_FIELD] = promise;\r\n        delete this[TARGET_INTERNALS];\r\n      }\r\n    };\r\n\r\n    promise.then(handlePromise, handlePromise);\r\n  }\r\n\r\n  then(...args) {\r\n    const target = getRequestPromise(this);\r\n    return target.then(...args);\r\n  }\r\n\r\n  catch(...args) {\r\n    const target = getRequestPromise(this);\r\n    return target.catch(...args);\r\n  }\r\n}\r\n\r\nexport const createRequestTarget = (promise, requestHandlers) => (\r\n  new Target(promise, requestHandlers)\r\n);\r\n\r\nexport default Target;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Target.js","export default Object.freeze({\r\n  PENDING: 'pending',\r\n  RESOLVED: 'resolved',\r\n  REJECTED: 'rejected',\r\n  DESTROYED: 'destroyed',\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/TargetStatus.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\r\nimport IConvertible from './IConvertible';\r\nimport isResource from './isResource';\r\nimport toJSON from '../request/target/toJSON';\r\nimport { defaultResourcePool } from '../resource/ResourcePool';\r\nimport Resource from '../resource/Resource';\r\n\r\nexport default (object, pool) => {\r\n  pool = pool || defaultResourcePool;\r\n\r\n  if (object instanceof Resource) {\r\n    return object.toJSON();\r\n  } else if (typeof object[TARGET_INTERNALS] === 'object') {\r\n    return toJSON(object);\r\n  } else if (object instanceof IConvertible || typeof object === 'function') {\r\n    return pool.set(object).toJSON();\r\n  } else if (isResource(object)) {\r\n    return object;\r\n  }\r\n\r\n  return null;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getRawResource.js","/**\r\n * Interface for all resource types, these will be treated as resources automatically\r\n * @interface\r\n */\r\nclass IConvertible {\r\n\r\n}\r\n\r\nexport default IConvertible;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/IConvertible.js","(function webpackUniversalModuleDefinition(root, factory) {\r\n\tif(typeof exports === 'object' && typeof module === 'object')\r\n\t\tmodule.exports = factory();\r\n\telse if(typeof define === 'function' && define.amd)\r\n\t\tdefine([], factory);\r\n\telse if(typeof exports === 'object')\r\n\t\texports[\"EventDispatcher\"] = factory();\r\n\telse\r\n\t\troot[\"EventDispatcher\"] = factory();\r\n})(this, function() {\r\nreturn /******/ (function(modules) { // webpackBootstrap\r\n/******/ \t// The module cache\r\n/******/ \tvar installedModules = {};\r\n/******/\r\n/******/ \t// The require function\r\n/******/ \tfunction __webpack_require__(moduleId) {\r\n/******/\r\n/******/ \t\t// Check if module is in cache\r\n/******/ \t\tif(installedModules[moduleId]) {\r\n/******/ \t\t\treturn installedModules[moduleId].exports;\r\n/******/ \t\t}\r\n/******/ \t\t// Create a new module (and put it into the cache)\r\n/******/ \t\tvar module = installedModules[moduleId] = {\r\n/******/ \t\t\ti: moduleId,\r\n/******/ \t\t\tl: false,\r\n/******/ \t\t\texports: {}\r\n/******/ \t\t};\r\n/******/\r\n/******/ \t\t// Execute the module function\r\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\r\n/******/\r\n/******/ \t\t// Flag the module as loaded\r\n/******/ \t\tmodule.l = true;\r\n/******/\r\n/******/ \t\t// Return the exports of the module\r\n/******/ \t\treturn module.exports;\r\n/******/ \t}\r\n/******/\r\n/******/\r\n/******/ \t// expose the modules object (__webpack_modules__)\r\n/******/ \t__webpack_require__.m = modules;\r\n/******/\r\n/******/ \t// expose the module cache\r\n/******/ \t__webpack_require__.c = installedModules;\r\n/******/\r\n/******/ \t// define getter function for harmony exports\r\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\r\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\r\n/******/ \t\t\tObject.defineProperty(exports, name, {\r\n/******/ \t\t\t\tconfigurable: false,\r\n/******/ \t\t\t\tenumerable: true,\r\n/******/ \t\t\t\tget: getter\r\n/******/ \t\t\t});\r\n/******/ \t\t}\r\n/******/ \t};\r\n/******/\r\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\r\n/******/ \t__webpack_require__.n = function(module) {\r\n/******/ \t\tvar getter = module && module.__esModule ?\r\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\r\n/******/ \t\t\tfunction getModuleExports() { return module; };\r\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\r\n/******/ \t\treturn getter;\r\n/******/ \t};\r\n/******/\r\n/******/ \t// Object.prototype.hasOwnProperty.call\r\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\r\n/******/\r\n/******/ \t// __webpack_public_path__\r\n/******/ \t__webpack_require__.p = \"http://localhost:8081/dist/\";\r\n/******/\r\n/******/ \t// Load entry module and return exports\r\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\r\n/******/ })\r\n/************************************************************************/\r\n/******/ ([\r\n/* 0 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\nexports.Event = undefined;\r\n\r\nvar _EventDispatcher = __webpack_require__(1);\r\n\r\nvar _EventDispatcher2 = _interopRequireDefault(_EventDispatcher);\r\n\r\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\r\n\r\nexports.default = _EventDispatcher2.default;\r\nexports.Event = _EventDispatcher.Event;\r\n\r\n/***/ }),\r\n/* 1 */\r\n/***/ (function(module, exports, __webpack_require__) {\r\n\r\n\"use strict\";\r\n\r\n\r\nObject.defineProperty(exports, \"__esModule\", {\r\n  value: true\r\n});\r\n\r\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\nvar hasOwnProp = function hasOwnProp(target, name) {\r\n  return Object.prototype.hasOwnProperty.call(target, name);\r\n}; /**\r\n    * Created by Oleg Galaburda on 09.02.16.\r\n    * \r\n    */\r\n\r\nvar Event = exports.Event = function () {\r\n  function Event(type) {\r\n    var data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\r\n\r\n    _classCallCheck(this, Event);\r\n\r\n    this.type = type;\r\n    this.data = data;\r\n    this.defaultPrevented = false;\r\n  }\r\n\r\n  _createClass(Event, [{\r\n    key: 'toJSON',\r\n    value: function toJSON() {\r\n      return { type: this.type, data: this.data };\r\n    }\r\n  }, {\r\n    key: 'isDefaultPrevented',\r\n    value: function isDefaultPrevented() {\r\n      return this.defaultPrevented;\r\n    }\r\n  }, {\r\n    key: 'preventDefault',\r\n    value: function preventDefault() {\r\n      this.defaultPrevented = true;\r\n    }\r\n  }]);\r\n\r\n  return Event;\r\n}();\r\n\r\nvar ListenersRunner = function () {\r\n  function ListenersRunner(listeners, onStopped, onComplete) {\r\n    var _this = this;\r\n\r\n    _classCallCheck(this, ListenersRunner);\r\n\r\n    this.index = -1;\r\n    this.immediatelyStopped = false;\r\n\r\n    this.stopImmediatePropagation = function () {\r\n      _this.immediatelyStopped = true;\r\n    };\r\n\r\n    this.listeners = listeners;\r\n    this.onStopped = onStopped;\r\n    this.onComplete = onComplete;\r\n  }\r\n\r\n  _createClass(ListenersRunner, [{\r\n    key: 'run',\r\n    value: function run(event, target) {\r\n      var listener = void 0;\r\n      var listeners = this.listeners;\r\n\r\n      this.augmentEvent(event);\r\n      // TODO this has to be handled in separate object ListenersRunner that should be\r\n      // created for each call() call and asked for index validation on each listener remove.\r\n      for (this.index = 0; this.index < listeners.length; this.index++) {\r\n        if (this.immediatelyStopped) break;\r\n        listener = listeners[this.index];\r\n        listener.call(target, event);\r\n      }\r\n      this.clearEvent(event);\r\n      this.onComplete(this);\r\n    }\r\n  }, {\r\n    key: 'augmentEvent',\r\n    value: function augmentEvent(eventObject) {\r\n      var event = eventObject;\r\n      event.stopPropagation = this.onStopped;\r\n      event.stopImmediatePropagation = this.stopImmediatePropagation;\r\n    }\r\n\r\n    /* eslint class-methods-use-this: \"off\" */\r\n\r\n  }, {\r\n    key: 'clearEvent',\r\n    value: function clearEvent(eventObject) {\r\n      var event = eventObject;\r\n      delete event.stopPropagation;\r\n      delete event.stopImmediatePropagation;\r\n    }\r\n  }, {\r\n    key: 'listenerRemoved',\r\n    value: function listenerRemoved(listeners, index) {\r\n      if (listeners === this.listeners && index <= this.index) {\r\n        this.index--;\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return ListenersRunner;\r\n}();\r\n\r\nvar EventListeners = function () {\r\n  function EventListeners() {\r\n    var _this2 = this;\r\n\r\n    _classCallCheck(this, EventListeners);\r\n\r\n    this._listeners = {};\r\n    this._runners = [];\r\n\r\n    this.removeRunner = function (runner) {\r\n      _this2._runners.splice(_this2._runners.indexOf(runner), 1);\r\n    };\r\n  }\r\n  /**\r\n   * key - event Type\r\n   * value - hash of priorities\r\n   *    key - priority\r\n   *    value - list of handlers\r\n   * @type {Object<string, Object.<string, Array<number, Function>>>}\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventListeners, [{\r\n    key: 'createList',\r\n    value: function createList(eventType, priorityOpt) {\r\n      var priority = parseInt(priorityOpt, 10);\r\n      var target = this.getPrioritiesByKey(eventType);\r\n      var key = String(priority);\r\n      var value = void 0;\r\n      if (hasOwnProp(target, key)) {\r\n        value = target[key];\r\n      } else {\r\n        value = [];\r\n        target[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'getPrioritiesByKey',\r\n    value: function getPrioritiesByKey(key) {\r\n      var value = void 0;\r\n      if (hasOwnProp(this._listeners, key)) {\r\n        value = this._listeners[key];\r\n      } else {\r\n        value = {};\r\n        this._listeners[key] = value;\r\n      }\r\n      return value;\r\n    }\r\n  }, {\r\n    key: 'add',\r\n    value: function add(eventType, handler, priority) {\r\n      var handlers = this.createList(eventType, priority);\r\n      if (handlers.indexOf(handler) < 0) {\r\n        handlers.push(handler);\r\n      }\r\n    }\r\n  }, {\r\n    key: 'has',\r\n    value: function has(eventType) {\r\n      var priority = void 0;\r\n      var result = false;\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        for (priority in priorities) {\r\n          if (hasOwnProp(priorities, priority)) {\r\n            result = true;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n  }, {\r\n    key: 'remove',\r\n    value: function remove(eventType, handler) {\r\n      var _this3 = this;\r\n\r\n      var priorities = this.getPrioritiesByKey(eventType);\r\n      if (priorities) {\r\n        var list = Object.getOwnPropertyNames(priorities);\r\n        var length = list.length;\r\n\r\n        var _loop = function _loop(index) {\r\n          var priority = list[index];\r\n          var handlers = priorities[priority];\r\n          var handlerIndex = handlers.indexOf(handler);\r\n          if (handlerIndex >= 0) {\r\n            handlers.splice(handlerIndex, 1);\r\n            if (!handlers.length) {\r\n              delete priorities[priority];\r\n            }\r\n            _this3._runners.forEach(function (runner) {\r\n              runner.listenerRemoved(handlers, handlerIndex);\r\n            });\r\n          }\r\n        };\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          _loop(index);\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    key: 'removeAll',\r\n    value: function removeAll(eventType) {\r\n      delete this._listeners[eventType];\r\n    }\r\n  }, {\r\n    key: 'createRunner',\r\n    value: function createRunner(handlers, onStopped) {\r\n      var runner = new ListenersRunner(handlers, onStopped, this.removeRunner);\r\n      this._runners.push(runner);\r\n      return runner;\r\n    }\r\n  }, {\r\n    key: 'call',\r\n    value: function call(event, target) {\r\n      var priorities = this.getPrioritiesByKey(event.type);\r\n      var stopped = false;\r\n      var stopPropagation = function stopPropagation() {\r\n        stopped = true;\r\n      };\r\n      if (priorities) {\r\n        // getOwnPropertyNames() or keys()?\r\n        var list = Object.getOwnPropertyNames(priorities).sort(function (a, b) {\r\n          return a - b;\r\n        });\r\n        var length = list.length;\r\n\r\n        for (var index = 0; index < length; index++) {\r\n          if (stopped) break;\r\n          var _handlers = priorities[list[index]];\r\n          // in case if all handlers of priority were removed while event\r\n          // was dispatched and handlers become undefined.\r\n          if (_handlers) {\r\n            var _runner = this.createRunner(_handlers, stopPropagation);\r\n            _runner.run(event, target);\r\n            if (_runner.immediatelyStopped) break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }]);\r\n\r\n  return EventListeners;\r\n}();\r\n\r\nvar EventDispatcher = function () {\r\n  function EventDispatcher() {\r\n    var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\r\n    var noInit = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n\r\n    _classCallCheck(this, EventDispatcher);\r\n\r\n    if (!noInit) {\r\n      this.initialize(eventPreprocessor);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   */\r\n\r\n\r\n  _createClass(EventDispatcher, [{\r\n    key: 'initialize',\r\n    value: function initialize() {\r\n      var eventPreprocessor = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\r\n\r\n      this._eventPreprocessor = eventPreprocessor;\r\n      this._listeners = new EventListeners();\r\n    }\r\n  }, {\r\n    key: 'addEventListener',\r\n    value: function addEventListener(eventType, listener) {\r\n      var priority = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\r\n\r\n      this._listeners.add(eventType, listener, -priority || 0);\r\n    }\r\n  }, {\r\n    key: 'hasEventListener',\r\n    value: function hasEventListener(eventType) {\r\n      return this._listeners.has(eventType);\r\n    }\r\n  }, {\r\n    key: 'removeEventListener',\r\n    value: function removeEventListener(eventType, listener) {\r\n      this._listeners.remove(eventType, listener);\r\n    }\r\n  }, {\r\n    key: 'removeAllEventListeners',\r\n    value: function removeAllEventListeners(eventType) {\r\n      this._listeners.removeAll(eventType);\r\n    }\r\n  }, {\r\n    key: 'dispatchEvent',\r\n    value: function dispatchEvent(event, data) {\r\n      var eventObject = EventDispatcher.getEvent(event, data);\r\n      if (this._eventPreprocessor) {\r\n        eventObject = this._eventPreprocessor.call(this, eventObject);\r\n      }\r\n      this._listeners.call(eventObject);\r\n    }\r\n  }], [{\r\n    key: 'isObject',\r\n    value: function isObject(value) {\r\n      return (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value !== null;\r\n    }\r\n  }, {\r\n    key: 'getEvent',\r\n    value: function getEvent(eventOrType, optionalData) {\r\n      var event = eventOrType;\r\n      if (!EventDispatcher.isObject(eventOrType)) {\r\n        event = new EventDispatcher.Event(String(eventOrType), optionalData);\r\n      }\r\n      return event;\r\n    }\r\n  }, {\r\n    key: 'create',\r\n    value: function create(eventPreprocessor) {\r\n      return new EventDispatcher(eventPreprocessor);\r\n    }\r\n\r\n    /* eslint no-undef: \"off\" */\r\n\r\n  }]);\r\n\r\n  return EventDispatcher;\r\n}();\r\n\r\nEventDispatcher.Event = Event;\r\n\r\nexports.default = EventDispatcher;\r\n\r\n/***/ })\r\n/******/ ]);\r\n});\r\n//# sourceMappingURL=event-dispatcher.js.map\n\n\n// WEBPACK FOOTER //\n// ./node_modules/event-dispatcher/dist/event-dispatcher.js","const base = `DA/${Date.now()}/`;\r\nlet index = 0;\r\nexport default () => `${base}${++index}/${Date.now()}`;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getId.js","import TARGET_DATA from '../utils/TARGET_DATA';\r\nimport TARGET_INTERNALS from '../utils/TARGET_INTERNALS';\r\nimport getInternals from '../request/target/getInternals';\r\nimport getId from '../utils/getId';\r\n\r\nconst getPoolId = (pool) => (pool ? pool.id : null);\r\n\r\n/**\r\n * @exports Resource\r\n */\r\nclass Resource {\r\n  constructor(pool, value, type, id) {\r\n    Object.defineProperties(this, {\r\n      [TARGET_INTERNALS]: {\r\n        value: {\r\n          pool,\r\n          value,\r\n          type,\r\n          id,\r\n          active: true,\r\n          poolId: getPoolId(pool),\r\n        },\r\n      },\r\n      [TARGET_DATA]: {\r\n        get: this.toJSON,\r\n      },\r\n    });\r\n  }\r\n\r\n\r\n  get active() {\r\n    return Boolean(getInternals(this).active);\r\n  }\r\n\r\n  get value() {\r\n    return getInternals(this).value;\r\n  }\r\n\r\n  get type() {\r\n    return getInternals(this).type || typeof getInternals(this).value;\r\n  }\r\n\r\n  get id() {\r\n    return getInternals(this).id;\r\n  }\r\n\r\n  get poolId() {\r\n    return getInternals(this).poolId;\r\n  }\r\n\r\n  toJSON = () => ({\r\n    [TARGET_DATA]: {\r\n      id: this.id,\r\n      type: this.type,\r\n      poolId: this.poolId,\r\n    },\r\n  });\r\n\r\n  destroy() {\r\n    const internals = getInternals(this);\r\n    const { id, pool } = internals;\r\n\r\n    if (!internals.active) {\r\n      return;\r\n    }\r\n\r\n    internals.active = false;\r\n    pool.remove(id);\r\n\r\n    Object.keys(internals).map((name) => delete internals[name]);\r\n  }\r\n}\r\n\r\nexport const createResource = (pool, value, resourceType, id = null) => (\r\n  new Resource(pool, value, resourceType, id || getId())\r\n);\r\n\r\nexport default Resource;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/Resource.js","class Deferred {\r\n  constructor() {\r\n    this.promise = new Promise((resolve, reject) => {\r\n      this.resolve = resolve;\r\n      this.reject = reject;\r\n    });\r\n  }\r\n}\r\n\r\nexport const createDeferred = () => new Deferred();\r\nexport default Deferred;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/Deferred.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\r\nimport TARGET_DATA from './TARGET_DATA';\r\nimport isResource from './isResource';\r\n\r\nexport default (object) => {\r\n  if (typeof object[TARGET_INTERNALS] === 'object') {\r\n    return object[TARGET_INTERNALS].poolId;\r\n  } else if (isResource(object)) {\r\n    return object[TARGET_DATA].poolId;\r\n  }\r\n  return null;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourcePoolId.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\r\nimport TARGET_DATA from './TARGET_DATA';\r\nimport isResource from './isResource';\r\n\r\nexport default (object) => {\r\n  // if (object instanceof Resource || object instanceof Target) {\r\n  if (typeof object[TARGET_INTERNALS] === 'object') {\r\n    return object[TARGET_INTERNALS].id;\r\n  } else if (isResource(object)) {\r\n    return object[TARGET_DATA].id;\r\n  }\r\n\r\n  return null;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourceId.js","import {\r\n  createDescriptor,\r\n  descriptorGeneratorFactory,\r\n} from '../Descriptor';\r\n\r\nexport const ProxyCommandNames = Object.freeze({\r\n  GET: 'get',\r\n  SET: 'set',\r\n  APPLY: 'apply',\r\n  DELETE_PROPERTY: 'deleteProperty',\r\n});\r\n\r\nexport const ProxyCommandFields = Object.freeze({\r\n  get: Symbol('proxy.commands::get'),\r\n  set: Symbol('proxy.commands::set'),\r\n  apply: Symbol('proxy.commands::apply'),\r\n  deleteProperty: Symbol('proxy.commands::deleteProperty'),\r\n});\r\n\r\nclass ProxyCommandsClass {\r\n  constructor() {\r\n    Object.freeze(this);\r\n  }\r\n\r\n  names = ProxyCommandNames;\r\n  fields = ProxyCommandFields;\r\n\r\n  get list() {\r\n    return [\r\n      ProxyCommandNames.GET,\r\n      ProxyCommandNames.SET,\r\n      ProxyCommandNames.APPLY,\r\n      ProxyCommandNames.DELETE_PROPERTY,\r\n    ];\r\n  }\r\n\r\n  get required() {\r\n    return [\r\n      ProxyCommandNames.GET,\r\n      ProxyCommandNames.SET,\r\n      ProxyCommandNames.APPLY,\r\n    ];\r\n  }\r\n\r\n  createGETDescriptor = descriptorGeneratorFactory(\r\n    ProxyCommandNames.GET,\r\n    ProxyCommandFields.get,\r\n  );\r\n  createSETDescriptor = descriptorGeneratorFactory(\r\n    ProxyCommandNames.SET,\r\n    ProxyCommandFields.set,\r\n  );\r\n  createAPPLYDescriptor = descriptorGeneratorFactory(\r\n    ProxyCommandNames.APPLY,\r\n    ProxyCommandFields.apply,\r\n  );\r\n}\r\n\r\nconst ProxyCommands = new ProxyCommandsClass();\r\n\r\nexport const createDescriptors = (\r\n  handlers,\r\n  target = {},\r\n  isTemporary = undefined,\r\n  resourceType = null,\r\n  cacheable = true,\r\n  virtual = false,\r\n) => {\r\n  const args = [isTemporary, resourceType, cacheable, virtual];\r\n  ProxyCommands.list.forEach((name) => {\r\n    const handler = handlers[name];\r\n    const field = ProxyCommandFields[name];\r\n\r\n    if (handler instanceof Function) {\r\n      let descriptor = createDescriptor(name, handler, field, ...args);\r\n      descriptor = Object.freeze(descriptor);\r\n\r\n      if (target instanceof Array) {\r\n        target.push(descriptor);\r\n      } else if (target) {\r\n        target[field] = descriptor;\r\n      }\r\n    }\r\n  });\r\n\r\n  return target;\r\n};\r\n\r\nexport default ProxyCommands;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/internal/ProxyCommands.js","import TARGET_INTERNALS from './TARGET_INTERNALS';\r\nimport TARGET_DATA from './TARGET_DATA';\r\nimport isResource from './isResource';\r\n\r\nconst getResourceType = (object) => {\r\n  if (typeof object[TARGET_INTERNALS] === 'object') {\r\n    return object[TARGET_INTERNALS].type;\r\n  } else if (isResource(object)) {\r\n    return object[TARGET_DATA].type;\r\n  }\r\n\r\n  return null;\r\n};\r\n\r\nexport default getResourceType;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourceType.js","export default (type, args, targetId) => {\r\n  const result = {\r\n    type,\r\n    args,\r\n    cmd: args[0], // cmd,\r\n    value: args[1], // value,\r\n    target: targetId,\r\n  };\r\n\r\n  return result;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/createRequestPackage.js","import TARGET_DATA from './TARGET_DATA';\r\nimport getRawResource from './getRawResource';\r\n\r\nexport default (object) => {\r\n  const data = getRawResource(object);\r\n  return data ? data[TARGET_DATA] : null;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/getResourceData.js","import Descriptor, { addDescriptorTo } from '../Descriptor';\r\n\r\nexport const RequestCommandNames = Object.freeze({\r\n  DESTROY: '::destroy.resource',\r\n});\r\n\r\nexport const RequestCommandFields = Object.freeze({\r\n  DESTROY: Symbol('::destroy.resource'),\r\n});\r\n\r\n/**\r\n * Destroy is unique type that exists for every Target\r\n * and does not have a method on its instances. This type will\r\n * be send each time Target.destroy() is applied to\r\n * Target in stance.\r\n */\r\nclass RequestCommands {\r\n  constructor() {\r\n    Object.freeze(this);\r\n  }\r\n\r\n  names = RequestCommandNames;\r\n  fields = RequestCommandFields;\r\n\r\n  createDESTROYDescriptor = (handler, target) => {\r\n    const descriptor = new Descriptor(\r\n      RequestCommandNames.DESTROY,\r\n      handler,\r\n      RequestCommandFields.DESTROY,\r\n    );\r\n    descriptor.cacheable = false;\r\n    descriptor.virtual = true;\r\n    addDescriptorTo(descriptor, target);\r\n    return Object.freeze(descriptor);\r\n  };\r\n\r\n}\r\n\r\nexport default new RequestCommands();\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/internal/RequestCommands.js","/**\r\n * Reserved words\r\n */\r\nexport default Object.freeze({\r\n  /**\r\n   * Contains property names that cannot be used for Descriptor's\r\n   */\r\n  names: Object.freeze({\r\n    // INFO Exposed Promise method, cannot be overwritten by type\r\n    then: true,\r\n    // INFO Exposed Promise method, cannot be overwritten by type\r\n    catch: true,\r\n  }),\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/Reserved.js","import { createDecorator } from './Decorator';\r\nimport { createRequestTarget } from './Target';\r\n\r\nexport const NO_INIT = {};\r\n\r\nclass Factory {\r\n  /*\r\n   function DummyCacheImpl() {\r\n   this.get = function(name, pack) {\r\n\r\n   };\r\n   this.set = function(name, pack, request) {\r\n\r\n   };\r\n   }\r\n   */\r\n  constructor(handlers, cacheImpl = null) {\r\n    this.cache = cacheImpl;\r\n    this.handlers = handlers;\r\n\r\n    if (handlers !== NO_INIT) {\r\n      this.decorator = createDecorator(this, handlers);\r\n    }\r\n  }\r\n\r\n  create(promise, name = null, pack = null, cacheable = false) {\r\n    const request = createRequestTarget(promise, this.handlers);\r\n    if (this.handlers.available) {\r\n      this.decorator.apply(request);\r\n    }\r\n\r\n    if (this.cache && cacheable) {\r\n      this.cache.set(name, pack, request);\r\n    }\r\n\r\n    return request;\r\n  }\r\n\r\n  getCached(name, pack) {\r\n    return this.cache && this.cache.get(name, pack);\r\n  }\r\n}\r\n\r\nexport const createRequestFactory = (handlers, cacheImpl) => (\r\n  new Factory(handlers, cacheImpl)\r\n);\r\n\r\nexport default Factory;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Factory.js","import EventDispatcher from 'event-dispatcher';\r\nimport getResourcePoolId from '../utils/getResourcePoolId';\r\nimport getResourceId from '../utils/getResourceId';\r\nimport isResource from '../utils/isResource';\r\nimport isResourceConvertible from '../utils/isResourceConvertible';\r\nimport getRawResource from '../utils/getRawResource';\r\nimport isPending from '../request/target/isPending';\r\n\r\nexport const ConverterEvents = Object.freeze({\r\n  RESOURCE_CREATED: 'resourceCreated',\r\n  RESOURCE_CONVERTED: 'resourceConverted',\r\n});\r\n\r\n/**\r\n * Resource converter contains bunch of methods to lookup for resources\r\n * and registering them, converting them into RAWResource or into\r\n * Targets, depending on their origin.\r\n * Before sending data, bundled resources should be registered in ResourcePool\r\n * and then converted to RAWResource objects.\r\n * After data received, its RAWResources should be converted to Targets\r\n * for not resolved resources or to resource target values otherwise.\r\n * Resource can be resolved by its `id` and `poolId`, if Converter\r\n * can find ResourcePool with id from poolId, it will try to get target\r\n * resource value and replace with it RAWResource object.\r\n * If ResourcePool not found, Converter assumes that resource come from\r\n * other origin/environment and creates Target object that can be target\r\n * object for commands.\r\n * Converter while handling data does not look deeply, so its developer\r\n * responsibility to convert deeply nested resource targets.\r\n */\r\nclass Converter extends EventDispatcher {\r\n  constructor(factory, registry, pool, handlers = null) {\r\n    super();\r\n    this.factory = factory;\r\n    this.pool = pool;\r\n    this.registry = registry;\r\n\r\n    if (handlers) {\r\n      handlers.setConverter(this);\r\n    }\r\n  }\r\n\r\n  resourceToObject(data) {\r\n    let result;\r\n\r\n    if (isResourceConvertible(data)) {\r\n      result = getRawResource(data, this.pool);\r\n    } else if (typeof data.toJSON === 'function') {\r\n      result = data.toJSON();\r\n    } else {\r\n      return data;\r\n    }\r\n\r\n    if (this.hasEventListener(ConverterEvents.RESOURCE_CONVERTED)) {\r\n      this.dispatchEvent(ConverterEvents.RESOURCE_CONVERTED, {\r\n        data,\r\n        result,\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#objectToResource\r\n   * @param {*} data\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  objectToResource(data) {\r\n    let result = data;\r\n\r\n    if (isResource(data)) {\r\n      const poolId = getResourcePoolId(data);\r\n\r\n      if (this.registry.isRegistered(poolId)) { // target object is stored in current pool\r\n        const target = this.registry.get(poolId).get(getResourceId(data));\r\n\r\n        if (target) {\r\n          result = target.value;\r\n        }\r\n\r\n      } else { // target object has another origin, should be wrapped\r\n        result = this.factory.create(Promise.resolve(data));\r\n      }\r\n    }\r\n\r\n    if (result !== data && this.hasEventListener(ConverterEvents.RESOURCE_CREATED)) {\r\n      this.dispatchEvent(ConverterEvents.RESOURCE_CREATED, {\r\n        data,\r\n        result,\r\n      });\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#lookupArray\r\n   * @param list\r\n   * @param linkConvertHandler\r\n   * @returns {Array}\r\n   * @private\r\n   */\r\n  lookupArray(list, linkConvertHandler) {\r\n    return list.map((item) => linkConvertHandler.call(this, item));\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#lookupObject\r\n   * @param {*} data\r\n   * @param {Function} linkConvertHandler\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  lookupObject(data, linkConvertHandler) {\r\n    return Object.getOwnPropertyNames(data)\r\n      .reduce((result, name) => {\r\n        if (Object.prototype.hasOwnProperty.call(data, name)) {\r\n          result[name] = linkConvertHandler.call(this, data[name]);\r\n        }\r\n\r\n        return result;\r\n      }, {});\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#toJSON\r\n   * @param {*} data\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  toJSON(data) {\r\n    let result = data;\r\n\r\n    if (data !== undefined && data !== null) {\r\n      if (isResourceConvertible(data)) {\r\n        // if data is Target, Resource, IConvertible, Function or RAW resource data\r\n        result = this.resourceToObject(data);\r\n      } else if (data instanceof Array) {\r\n        // if data is Array of values, check its\r\n        result = this.lookupArray(data, this.resourceToObject);\r\n      } else if (data.constructor === Object) {\r\n        // only Object instances can be looked up, other object types must be converted by hand\r\n        result = this.lookupObject(data, this.resourceToObject);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#parse\r\n   * @param {*} data\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  parse(data) {\r\n    let result = data;\r\n\r\n    if (data !== undefined && data !== null) {\r\n      if (isResource(data)) { // if data is RAW resource data\r\n        result = this.objectToResource(data);\r\n      } else if (data instanceof Array) { // if data is Array of values, check its\r\n        result = this.lookupArray(data, this.objectToResource);\r\n      } else if (data.constructor === Object) {\r\n        result = this.lookupObject(data, this.objectToResource);\r\n      }\r\n    }\r\n\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @method DataAccessInterface.ResourceConverter#lookupForPending\r\n   * @param {*} data\r\n   * @returns {Array}\r\n   */\r\n  lookupForPending(data) {\r\n    const result = [];\r\n\r\n    const add = (value) => {\r\n      if (isPending(value)) {\r\n        result.push(value);\r\n      }\r\n      return value;\r\n    };\r\n\r\n    if (typeof data === 'object' && data !== null) {\r\n      if (isPending(data)) {\r\n        result.push(data);\r\n      } else if (data instanceof Array) {\r\n        this.lookupArray(data, add);\r\n      } else if (data.constructor === Object) {\r\n        this.lookupObject(data, add);\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static events = ConverterEvents;\r\n}\r\n\r\n/**\r\n * @param {RequestFactory} factory\r\n * @param {DataAccessInterface.ResourcePoolRegistry} registry\r\n * @param {DataAccessInterface.ResourcePool} pool\r\n * @param {Handlers} handlers\r\n * @returns {ResourceConverter}\r\n */\r\nexport const createResourceConverter = (factory, registry, pool, handlers) => (\r\n  new Converter(factory, registry, pool, handlers)\r\n);\r\n\r\nexport default Converter;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/Converter.js","import isResource from './isResource';\r\nimport IConvertible from './IConvertible';\r\n\r\nexport default (data) => (\r\n  isResource(data)\r\n  || typeof data === 'function'\r\n  || data instanceof IConvertible\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/isResourceConvertible.js","import EventDispatcher from 'event-dispatcher';\r\nimport ResourcePool, {\r\n  createResourcePool,\r\n  ResourcePoolEvents,\r\n  defaultResourcePool,\r\n} from './ResourcePool';\r\n\r\nexport const PoolRegistryEvents = Object.freeze({\r\n  RESOURCE_POOL_CREATED: 'resourcePoolCreated',\r\n  RESOURCE_POOL_REGISTERED: 'resourcePoolRegistered',\r\n  RESOURCE_POOL_REMOVED: 'resourcePoolRemoved',\r\n});\r\n\r\nconst POOLS_FIELD = Symbol('resource.pool.registry::pools');\r\n\r\n/**\r\n * @classdesc Collection of ResourcePool instances. Allows lookup for ResourcePool by its Id.\r\n * When ResourcePool is registered in PoolRegistry, it subscribes to\r\n * ResourcePool POOL_DESTROYED event and removes pool from registry after its destroyed.\r\n */\r\nclass PoolRegistry extends EventDispatcher {\r\n  constructor() {\r\n    super();\r\n    this[POOLS_FIELD] = {};\r\n\r\n    // every registry should keep default pool, so you can have access from anywhere\r\n    this.register(defaultResourcePool);\r\n  }\r\n\r\n  handlePoolDestroyed = (event) => {\r\n    this.remove(event.data);\r\n  }\r\n\r\n  /**\r\n   * Create and register ResourcePool\r\n   * @returns {DataAccessInterface.ResourcePool} New ResourcePool instance\r\n   */\r\n  createPool() {\r\n    const pool = createResourcePool();\r\n    if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_CREATED)) {\r\n      this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_CREATED, pool);\r\n    }\r\n    this.register(pool);\r\n    return pool;\r\n  }\r\n\r\n  /**\r\n   * Register ResourcePool instance.\r\n   * @param pool {DataAccessInterface.ResourcePool} ResourcePool instance to be registered\r\n   */\r\n  register(pool) {\r\n    if (Object.prototype.hasOwnProperty.call(this[POOLS_FIELD], pool.id)) return;\r\n    this[POOLS_FIELD][pool.id] = pool;\r\n    pool.addEventListener(ResourcePoolEvents.POOL_DESTROYED, this.handlePoolDestroyed);\r\n    if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REGISTERED)) {\r\n      this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REGISTERED, pool);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Retrieve ResourcePool instance from registry by its Id.\r\n   * @param poolId {String} ResourcePool instance Id\r\n   * @returns {DataAccessInterface.ResourcePool|null}\r\n   */\r\n  get(poolId) {\r\n    return this[POOLS_FIELD][poolId] || null;\r\n  }\r\n\r\n  /**\r\n   * Check if ResourcePool registered in this registry instance.\r\n   * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\r\n   * @returns {Boolean}\r\n   */\r\n  isRegistered(pool) {\r\n    return Object.prototype.hasOwnProperty.call(\r\n      this[POOLS_FIELD],\r\n      pool instanceof ResourcePool ? pool.id : String(pool),\r\n    );\r\n  }\r\n\r\n  /**\r\n   * Remove ResourcePool from current registry instance.\r\n   * @param pool {DataAccessInterface.ResourcePool|String} ResourcePool instance or its Id.\r\n   * @returns {Boolean}\r\n   */\r\n  remove(pool) {\r\n    let result = false;\r\n    pool = pool instanceof ResourcePool ? pool : this.get(pool);\r\n    if (pool) {\r\n      pool.removeEventListener(ResourcePoolEvents.POOL_DESTROYED, this.handlePoolDestroyed);\r\n      result = delete this[POOLS_FIELD][pool.id];\r\n    }\r\n    if (this.hasEventListener(PoolRegistryEvents.RESOURCE_POOL_REMOVED)) {\r\n      this.dispatchEvent(PoolRegistryEvents.RESOURCE_POOL_REMOVED, pool);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  static events = PoolRegistryEvents;\r\n}\r\n\r\nexport const createPoolRegistry = () => new PoolRegistry();\r\n\r\nexport default PoolRegistry;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/resource/PoolRegistry.js","const api = require('./index');\r\n\r\nmodule.exports = Object.assign(api.default, api);\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/direct.js","import DataAccessInterface, { create, dummy } from './DataAccessInterface';\r\nimport Deferred, { createDeferred } from './utils/Deferred';\r\nimport Descriptor from './command/Descriptor';\r\nimport Reserved from './command/Reserved';\r\nimport RequestCommands from './command/internal/RequestCommands';\r\nimport ProxyCommands from './command/internal/ProxyCommands';\r\nimport Target from './request/Target';\r\nimport ResourcePool from './resource/ResourcePool';\r\nimport PoolRegistry from './resource/PoolRegistry';\r\nimport Converter from './resource/Converter';\r\nimport IConvertible from './utils/IConvertible';\r\nimport isResourceConvertible from './utils/isResourceConvertible';\r\nimport getRawResource from './utils/getRawResource';\r\nimport getResourceData from './utils/getResourceData';\r\nimport getResourceId from './utils/getResourceId';\r\nimport getResourcePoolId from './utils/getResourcePoolId';\r\nimport getResourceType from './utils/getResourceType';\r\nimport isResource from './utils/isResource';\r\n\r\nexport default DataAccessInterface;\r\n\r\nexport {\r\n  create,\r\n  dummy,\r\n  createDeferred,\r\n  Deferred,\r\n  Descriptor,\r\n  Reserved,\r\n  RequestCommands,\r\n  ProxyCommands,\r\n  Target,\r\n  ResourcePool,\r\n  PoolRegistry,\r\n  Converter,\r\n  IConvertible,\r\n  isResourceConvertible,\r\n  getRawResource,\r\n  getResourceData,\r\n  getResourceId,\r\n  getResourcePoolId,\r\n  getResourceType,\r\n  isResource,\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/index.js","/**\r\n * @exports DataAccessInterface\r\n */\r\n\r\nimport areProxiesAvailable from './utils/areProxiesAvailable';\r\nimport isResource from './utils/isResource';\r\nimport getResourcePoolId from './utils/getResourcePoolId';\r\nimport getResourceId from './utils/getResourceId';\r\nimport createForeignResource from './utils/createForeignResource';\r\nimport { createHandlers } from './request/Handlers';\r\nimport { createProxyFactory } from './request/ProxyFactory';\r\nimport { createRequestFactory } from './request/Factory';\r\nimport { defaultResourcePool, ResourcePoolEvents } from './resource/ResourcePool';\r\nimport { createResourceConverter } from './resource/Converter';\r\nimport { createPoolRegistry } from './resource/PoolRegistry';\r\n\r\nclass DataAccessInterface {\r\n\r\n  /**\r\n   * @class DataAccessInterface\r\n   * @classdesc Facade of Deferred Data Access library, it holds all\r\n   * of public API -- objects like ResourcePool and methods to work\r\n   * with resources.\r\n   * @param {Descriptor[]|Object.<string, Function|Descriptor>} descriptors\r\n   * @param {boolean} [proxyEnabled=false]\r\n   * @param {ResourcePoolRegistry} [poolRegistry]\r\n   * @param {ResourcePool} [pool]\r\n   * @param {ICacheImpl} [cacheImpl]\r\n   */\r\n  constructor(\r\n    descriptors,\r\n    proxyEnabled = true,\r\n    poolRegistry = null,\r\n    pool = null,\r\n    cacheImpl = null,\r\n  ) {\r\n    this.poolRegistry = poolRegistry;\r\n    this.pool = pool;\r\n    this.cache = cacheImpl;\r\n    this.initialize(descriptors, proxyEnabled);\r\n  }\r\n\r\n  initialize(descriptors, proxyEnabled) {\r\n    if (proxyEnabled && !areProxiesAvailable()) {\r\n      throw new Error('Proxies are not available in this environment');\r\n    }\r\n\r\n    this.handlers = createHandlers(proxyEnabled);\r\n\r\n    if (proxyEnabled) {\r\n      this.factory = createProxyFactory(this.handlers, this.cache);\r\n    } else {\r\n      this.factory = createRequestFactory(this.handlers, this.cache);\r\n    }\r\n\r\n    if (!this.poolRegistry) {\r\n      this.poolRegistry = createPoolRegistry();\r\n    }\r\n\r\n    if (this.pool) {\r\n      this.poolRegistry.register(this.pool);\r\n    } else if (this.pool !== undefined) {\r\n      this.pool = this.poolRegistry.createPool();\r\n    } else {\r\n      this.pool = defaultResourcePool;\r\n    }\r\n\r\n    this.resourceConverter = createResourceConverter(\r\n      this.factory,\r\n      this.poolRegistry,\r\n      this.pool,\r\n      this.handlers,\r\n    );\r\n\r\n    const poolDestroyedHandler = () => {\r\n      this.pool.removeEventListener(ResourcePoolEvents.POOL_DESTROYED, poolDestroyedHandler);\r\n      this.pool = this.poolRegistry.createPool();\r\n      this.pool.addEventListener(ResourcePoolEvents.POOL_DESTROYED, poolDestroyedHandler);\r\n    };\r\n\r\n    this.handlers.setCommands(descriptors);\r\n    this.pool.addEventListener(ResourcePoolEvents.POOL_DESTROYED, poolDestroyedHandler);\r\n  }\r\n\r\n  get proxyEnabled() {\r\n    return this.handlers.proxyEnabled;\r\n  }\r\n\r\n  parse(data) {\r\n    return this.resourceConverter.parse(data);\r\n  }\r\n\r\n  dummy() {\r\n    return this.parse(createForeignResource());\r\n  };\r\n\r\n  toJSON(data) {\r\n    return this.resourceConverter.toJSON(data);\r\n  }\r\n\r\n  isOwnResource(resource) {\r\n    /**\r\n     * @type {DataAccessInterface.ResourcePool}\r\n     */\r\n    let pool;\r\n    if (isResource(resource)) {\r\n      pool = this.poolRegistry.get(getResourcePoolId(resource));\r\n      return pool && pool.has(getResourceId(resource));\r\n    }\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const create = (handlers, proxyEnabled = true, poolRegistry = null, pool = null, cacheImpl = null) =>\r\n  new DataAccessInterface(handlers, proxyEnabled, poolRegistry, pool, cacheImpl);\r\n\r\nexport default DataAccessInterface;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/DataAccessInterface.js","export default () => (typeof Proxy === 'function');\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/areProxiesAvailable.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nimport getInternals from './getInternals';\r\n\r\nexport default (target) => getInternals(target).toJSON();\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/toJSON.js","module.exports = function(module) {\n\tif(!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif(!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// (webpack)/buildin/module.js\n// module id = 31\n// module chunks = 0","import { createDeferred } from '../../utils/Deferred';\r\nimport TargetStatus from '../../utils/TargetStatus';\r\nimport { createQueue } from './Queue';\r\nimport Children from './Children';\r\n\r\nclass SubTargets extends Children {\r\n  constructor(parent = null, children = []) {\r\n    super(children);\r\n    this.queue = null;\r\n    this.setParent(parent);\r\n  }\r\n\r\n  setParent(parent) {\r\n    this.parent = parent;\r\n  }\r\n\r\n  parentResolved() {\r\n    if (this.hasQueue()) {\r\n      this.queue.send(this.parent.id, this.handleSubRequest);\r\n      this.queue = null;\r\n    }\r\n  }\r\n\r\n  parentRejected(message = null) {\r\n    this.queue.reject(new Error(message || 'This request was rejected before sending.'));\r\n    this.queue = null;\r\n  }\r\n\r\n  hasQueue() {\r\n    return Boolean(this.queue && this.queue.length);\r\n  }\r\n\r\n  send(name, pack, deferred = null, child = null) {\r\n    const { handlers } = this.parent;\r\n    let promise;\r\n\r\n    if (!handlers.hasCommand(name)) {\r\n      return Promise.reject(new Error(`Request handler for \"${name}\" is not registered.`));\r\n    }\r\n\r\n    promise = this.handleSend(name, pack, deferred || createDeferred(), child);\r\n\r\n    if (child) {\r\n      promise = this.register(child);\r\n    }\r\n\r\n    return promise;\r\n  }\r\n\r\n  handleSend(name, pack, deferred, child = null) {\r\n    const { status } = this.parent;\r\n\r\n    switch (status) {\r\n      case TargetStatus.PENDING:\r\n        if (!this.queue) {\r\n          this.queue = createQueue();\r\n        }\r\n\r\n        return this.queue.add(name, pack, deferred, child);\r\n      case TargetStatus.REJECTED:\r\n        return Promise.reject(new Error('Target object was rejected and cannot be used for calls.'));\r\n      case TargetStatus.DESTROYED:\r\n        return Promise.reject(new Error('Target object was destroyed and cannot be used for calls.'));\r\n      case TargetStatus.RESOLVED:\r\n        this.handleSubRequest(name, pack, deferred, child);\r\n        return deferred.promise;\r\n      default:\r\n        return Promise.reject(new Error(`Target object is in unknown status \"${status}\".`));\r\n    }\r\n  }\r\n\r\n  handleSubRequest = (name, pack, deferred, child) => {\r\n    const { handlers } = this.parent;\r\n    return handlers.handle(this.parent, name, pack, deferred, child);\r\n  };\r\n}\r\n\r\nexport default SubTargets;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/SubTargets.js","class Queue {\r\n  constructor(list = []) {\r\n    this.list = list;\r\n  }\r\n\r\n  add(name, pack, deferred, child) {\r\n    this.list.push({\r\n      name,\r\n      pack,\r\n      deferred,\r\n      child,\r\n    });\r\n\r\n    return deferred.promise;\r\n  }\r\n\r\n  get length() {\r\n    return this.list.length;\r\n  }\r\n\r\n  getList() {\r\n    return [...this.list];\r\n  }\r\n\r\n  getCommands() {\r\n    // return this.list.map(([name, pack]) => pack.type);\r\n    return this.list.map(({ name }) => name);\r\n  }\r\n\r\n  send(id, callback) {\r\n    this.list.forEach(({\r\n      name,\r\n      pack,\r\n      deferred,\r\n      child,\r\n    }) => {\r\n      pack.target = id;\r\n      callback(name, pack, deferred, child);\r\n    });\r\n    this.list = [];\r\n  }\r\n\r\n  reject(message) {\r\n    const error = new Error(message || 'This request was rejected before sending.');\r\n    this.list.forEach(({ deferred }) => deferred.reject(error));\r\n    this.list = [];\r\n  }\r\n}\r\n\r\nexport const createQueue = (list = []) => new Queue(list);\r\n\r\nexport default Queue;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/Queue.js","import getRawPromise from './getRawPromise';\r\n\r\nclass Children {\r\n  constructor(list = []) {\r\n    this.list = list;\r\n  }\r\n\r\n  register(child) {\r\n    const handler = () => {\r\n      const index = this.list.indexOf(child);\r\n      if (index >= 0) {\r\n        this.list.splice(index, 1);\r\n      }\r\n    };\r\n\r\n    this.list.push(child);\r\n    // getRawPromise() is needed to capture promise resolution directly,\r\n    // otherwise this .then() call will be counted in child.hadChildPromises.\r\n    return getRawPromise(child).then(handler, handler);\r\n  }\r\n\r\n  get length() {\r\n    return this.list.length;\r\n  }\r\n\r\n  getList() {\r\n    return [...this.list];\r\n  }\r\n\r\n  contains(item) {\r\n    return this.list.indexOf(item) >= 0;\r\n  }\r\n\r\n  get lastItem() {\r\n    const { length } = this.list;\r\n    return length ? this.list[length - 1] : null;\r\n  }\r\n}\r\n\r\nexport default Children;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/Children.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nimport getInternals from './getInternals';\r\nimport PROMISE_FIELD from './PROMISE_FIELD';\r\n\r\nexport default (target) => {\r\n  const internals = getInternals(target);\r\n  if (internals && internals.promise) {\r\n    return internals.promise;\r\n  }\r\n  return target[PROMISE_FIELD] || null;\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/getRawPromise.js","import TARGET_DATA from './TARGET_DATA';\r\nimport getId from './getId';\r\n\r\nexport default (type = '', resource = {}) => {\r\n  resource[TARGET_DATA] = {\r\n    id: `foreign-id-${getId()}`,\r\n    type: type || typeof resource,\r\n    poolId: `foreign-poolId-${getId()}`,\r\n  };\r\n\r\n  return resource;\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/createForeignResource.js","import Descriptor from '../command/Descriptor';\r\nimport ProxyCommands, { ProxyCommandFields } from '../command/internal/ProxyCommands';\r\nimport filterHandlers from '../utils/filterRequestHandlers';\r\nimport getResourceType from '../utils/getResourceType';\r\n\r\n/**\r\n * Key for default type for handlers that will be applied to any\r\n * resource that does not have type-specific handlers registered\r\n * @type {string}\r\n */\r\nconst DEFAULT_KEY = '';\r\n\r\nexport const areProxyHandlersAvailable = (handlers, throwError = false) => {\r\n  let result = true;\r\n  ProxyCommands.required.forEach((name) => {\r\n    if (!(ProxyCommandFields[name] in handlers)) {\r\n      result = false;\r\n      if (throwError) {\r\n        throw new Error(`For Proxy interface, handler \"${name}\" should be set.`);\r\n      }\r\n    }\r\n  });\r\n\r\n  return result;\r\n};\r\n\r\nexport const HandlersEvents = Object.freeze({\r\n  HANDLERS_UPDATED: 'handlersUpdated',\r\n});\r\n\r\nclass Handlers {\r\n  constructor(proxyEnabled = false) {\r\n    // named collection of Descriptor lists that may be applied\r\n    this.properties = { [DEFAULT_KEY]: [] };\r\n    this.descriptors = { [DEFAULT_KEY]: [] };\r\n    this.proxyEnabled = Boolean(proxyEnabled);\r\n    this.converter = null;\r\n  }\r\n\r\n  get available() {\r\n    const nonEmptyListIndex = Object.getOwnPropertyNames(this.properties).findIndex((name) => {\r\n      const list = this.properties[name];\r\n      return Boolean(list && list.length);\r\n    });\r\n    return nonEmptyListIndex >= 0;\r\n  }\r\n\r\n  setConverter(converter) {\r\n    this.converter = converter;\r\n  }\r\n\r\n  setCommands(handlers) {\r\n    this.setCommandsByType(DEFAULT_KEY, handlers);\r\n\r\n    Object.keys(handlers).forEach((name) => {\r\n      const type = handlers[name];\r\n      if (type && (type.constructor === Object || type instanceof Array)) {\r\n        this.setCommandsByType(name, type);\r\n      }\r\n    });\r\n\r\n    if (this.proxyEnabled) {\r\n      areProxyHandlersAvailable(this.descriptors[DEFAULT_KEY], true);\r\n    }\r\n  }\r\n\r\n  setCommandsByType(type, handlers) {\r\n    const descrs = {};\r\n    const props = [];\r\n    filterHandlers(handlers, descrs, props);\r\n    this.descriptors[type] = descrs;\r\n    this.properties[type] = props;\r\n  }\r\n\r\n  hasCommand(name, type) {\r\n    return (\r\n      this.descriptors[type]\r\n      && Object.prototype.hasOwnProperty.call(this.descriptors[type], name)\r\n    )\r\n    || (\r\n      this.descriptors[DEFAULT_KEY]\r\n      && Object.prototype.hasOwnProperty.call(this.descriptors[DEFAULT_KEY], name)\r\n    );\r\n  }\r\n\r\n  getPropertyCommands(type = '') {\r\n    const list = this.properties[type || DEFAULT_KEY] || [];\r\n    return [...list];\r\n  }\r\n\r\n  getPropertyNames(type = '') {\r\n    return this.getPropertyCommands(type)\r\n      .map((descriptor) => descriptor.name);\r\n  }\r\n\r\n  getCommands(type) {\r\n    if (this.descriptors[type]) {\r\n      return {\r\n        ...this.descriptors[DEFAULT_KEY],\r\n        ...this.descriptors[type],\r\n      };\r\n    }\r\n\r\n    return this.descriptors[DEFAULT_KEY];\r\n  }\r\n\r\n  getCommand(name, type) {\r\n    const descriptor = (\r\n      this.descriptors[type]\r\n      && this.descriptors[type][name]\r\n    )\r\n    || (\r\n      this.descriptors[DEFAULT_KEY]\r\n      && this.descriptors[DEFAULT_KEY][name]\r\n    );\r\n\r\n    return descriptor || null;\r\n  }\r\n\r\n  handle(parentRequest, name, pack, deferred, resultRequest) {\r\n    const list = this.converter ? this.converter.lookupForPending(pack.value) : null;\r\n    if (list && list.length) {\r\n      // FIXME Need to test on all platforms: might not work because may need list of\r\n      // Promise objects, not Targets\r\n      Promise.all(list).then(() => {\r\n        this.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\r\n      });\r\n    } else {\r\n      this.handleImmediately(parentRequest, name, pack, deferred, resultRequest);\r\n    }\r\n  }\r\n\r\n  handleImmediately(parentRequest, name, pack, deferred, resultRequest) {\r\n    const descriptor = this.getCommand(name, getResourceType(parentRequest));\r\n    if (descriptor instanceof Descriptor) {\r\n      // INFO result should be applied to deferred.resolve() or deferred.reject()\r\n      // FIXME change pack to {command, args} object\r\n      descriptor.handler(parentRequest, pack, deferred, resultRequest);\r\n    } else {\r\n      throw new Error(`Command descriptor for \"${name}\" was not found.`);\r\n    }\r\n  }\r\n\r\n  static events = HandlersEvents;\r\n}\r\n\r\nexport const createHandlers = (proxyEnabled) => new Handlers(proxyEnabled);\r\n\r\nexport default Handlers;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Handlers.js","import Descriptor, { createDescriptor } from '../command/Descriptor';\r\nimport Reserved from '../command/Reserved';\r\n\r\n\r\n/**\r\n * Checks for Descriptor uniqueness and reserved words usage.\r\n * @param {DataAccessInterface.Descriptor} descriptor\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n * @private\r\n */\r\nconst applyDescriptor = (descriptor, descriptors, properties) => {\r\n  const { name } = descriptor;\r\n  if (name in Reserved.names) {\r\n    throw new Error(`Name \"${name}\" is reserved and cannot be used in descriptor.`);\r\n  }\r\n  if (\r\n    Object.prototype.hasOwnProperty.call(descriptors, name)\r\n    && descriptors[name] instanceof Descriptor\r\n  ) {\r\n    throw new Error(`Field names should be unique, \"${String(name)}\" field has duplicates.`);\r\n  }\r\n  descriptors[name] = descriptor;\r\n  if (!descriptor.virtual) {\r\n    properties.push(descriptor);\r\n  }\r\n};\r\n\r\n/**\r\n * @param {Array} handlers\r\n * @param {Object} descriptors\r\n * @private\r\n */\r\nconst filterArray = (handlers, descriptors, properties) => {\r\n  handlers.forEach((value) => {\r\n    if (value instanceof Descriptor) {\r\n      applyDescriptor(value, descriptors, properties);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * @param {Object} handlers\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n * @private\r\n */\r\nconst filterHash = (handlers, descriptors, properties) => {\r\n  if (!handlers) return;\r\n  ([\r\n    ...Object.getOwnPropertyNames(handlers),\r\n    ...Object.getOwnPropertySymbols(handlers),\r\n  ]).forEach((name) => {\r\n    let value = handlers[name];\r\n    if (typeof value === 'function') {\r\n      value = createDescriptor(name, value);\r\n    }\r\n    if (value instanceof Descriptor) {\r\n      applyDescriptor(value, descriptors, properties);\r\n    }\r\n  });\r\n};\r\n\r\n/**\r\n * @method Handlers.filterHandlers\r\n * @param {Array|Object} handlers\r\n * @param {Object.<string, DataAccessInterface.Descriptor>} descriptors\r\n * @param {Array.<number, DataAccessInterface.Descriptor>} properties\r\n */\r\nexport default (handlers, descriptors, properties) => {\r\n  if (handlers instanceof Array) {\r\n    filterArray(handlers, descriptors, properties);\r\n  } else {\r\n    filterHash(handlers, descriptors, properties);\r\n  }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/utils/filterRequestHandlers.js","import Factory, { NO_INIT, createRequestFactory } from './Factory';\r\nimport { ProxyCommandFields } from '../command/internal/ProxyCommands';\r\n\r\nconst EXCLUSIONS = {\r\n  /*\r\n   INFO arguments and caller were included because they are required function properties\r\n   */\r\n  arguments: true,\r\n  caller: true,\r\n  prototype: true,\r\n};\r\n\r\nconst createFunctionWrapper = (target) => {\r\n  // INFO Target must be a function so I could use Proxy.call() interceptor.\r\n  function requestTargetProxy() {\r\n  }\r\n\r\n  requestTargetProxy.target = target;\r\n\r\n  return requestTargetProxy;\r\n};\r\n\r\nconst wrapWithProxy = (target, handlers) => new Proxy(createFunctionWrapper(target), handlers);\r\n\r\nconst proxyGet = (wrapper, name) => {\r\n  const { target } = wrapper;\r\n  if (name in target || name in EXCLUSIONS || typeof name === 'symbol') {\r\n    return target[name];\r\n  }\r\n  // INFO Proxy should be already applied, so no need in additional wrapping\r\n  return target[ProxyCommandFields.get](name);\r\n};\r\n\r\n// INFO Proxy should be already applied, so no need in additional wrapping\r\nconst proxyApply = (wrapper, thisValue, args) => (\r\n  wrapper.target[ProxyCommandFields.apply](null, args)\r\n);\r\n\r\nconst proxySet = (wrapper, name, value) => {\r\n  const { target } = wrapper;\r\n\r\n  if (name in target || name in EXCLUSIONS || typeof name === 'symbol') {\r\n    target[name] = value;\r\n    return value;\r\n  }\r\n\r\n  if (ProxyCommandFields.set in target) {\r\n    target[ProxyCommandFields.set](name, value);\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nconst proxyHas = (wrapper, name) => (\r\n  Object.prototype.hasOwnProperty.call(wrapper.target, name)\r\n);\r\n\r\nconst proxyDeleteProperty = (wrapper, name) => {\r\n  const { target } = wrapper;\r\n  if (ProxyCommandFields.deleteProperty in target) {\r\n    target[ProxyCommandFields.deleteProperty](name);\r\n    return true;\r\n  }\r\n\r\n  return false;\r\n};\r\n\r\nconst proxyOwnKeys = (wrapper) => {\r\n  const { target } = wrapper;\r\n  return [...Object.getOwnPropertyNames(target), ...Object.getOwnPropertyNames(EXCLUSIONS)];\r\n};\r\n\r\nconst proxyEnumerate = (wrapper) => {\r\n  const { target } = wrapper;\r\n  return [\r\n    ...Object.getOwnPropertyNames(target),\r\n    ...Object.getOwnPropertyNames(EXCLUSIONS),\r\n  ][Symbol.iterator]();\r\n};\r\n\r\nconst proxyGetOwnPropertyDescriptor = (wrapper, name) => {\r\n  if (Object.prototype.hasOwnProperty.call(EXCLUSIONS, name)) {\r\n    return Object.getOwnPropertyDescriptor(wrapper, name);\r\n  }\r\n  return Object.getOwnPropertyDescriptor(wrapper.target, name);\r\n};\r\n\r\n/**\r\n * Builds proper handlers hash for Proxy\r\n * @returns {Function}\r\n */\r\nexport const createProxyHandlers = (handlers = {}) => ({\r\n  get: proxyGet,\r\n  apply: proxyApply,\r\n  set: proxySet,\r\n  has: proxyHas,\r\n  deleteProperty: proxyDeleteProperty,\r\n  ownKeys: proxyOwnKeys,\r\n  enumerate: proxyEnumerate,\r\n  getOwnPropertyDescriptor: proxyGetOwnPropertyDescriptor,\r\n  ...handlers,\r\n});\r\n\r\nconst PROXY_HANDLERS = createProxyHandlers();\r\n\r\nclass ProxyFactory extends Factory {\r\n  constructor(handlers, cacheImpl) {\r\n    super(NO_INIT);\r\n\r\n    this.handlers = handlers;\r\n    this.factory = createRequestFactory(handlers, cacheImpl);\r\n    this.factory.decorator.setFactory(this);\r\n  }\r\n\r\n  create(promise) {\r\n    const instance = this.factory.create(promise);\r\n\r\n    if (this.handlers.available) {\r\n      return wrapWithProxy(instance, PROXY_HANDLERS);\r\n    }\r\n\r\n    return instance;\r\n  }\r\n\r\n  getCached(name, pack) {\r\n    return this.factory.getCached(name, pack);\r\n  }\r\n\r\n  createCached(promise, name, pack) {\r\n    const instance = this.factory.createCached(promise, name, pack);\r\n\r\n    if (this.handlers.available) {\r\n      return wrapWithProxy(instance, PROXY_HANDLERS);\r\n    }\r\n\r\n    return instance;\r\n  }\r\n\r\n}\r\n\r\nexport const applyProxyWithDefaultHandlers = (target) => wrapWithProxy(target, PROXY_HANDLERS);\r\n\r\nexport const createProxyFactory = (handlers, cacheImpl) => (\r\n  new ProxyFactory(handlers, cacheImpl)\r\n);\r\n\r\nexport default ProxyFactory;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/ProxyFactory.js","import CallbackFactory from '../command/CallbackFactory';\r\nimport getResourceType from '../utils/getResourceType';\r\n\r\nclass Decorator {\r\n  constructor(factory, handlers) {\r\n    this.handlers = handlers;\r\n    this.members = new CallbackFactory(factory);\r\n  }\r\n\r\n  apply(request) {\r\n    if (!this.handlers.available) {\r\n      return request;\r\n    }\r\n\r\n    const descriptors = this.handlers.getPropertyCommands(getResourceType(request));\r\n    return descriptors.forEach((descriptor) => {\r\n      request[descriptor.name] = this.members.get(descriptor);\r\n    });\r\n  }\r\n\r\n  setFactory(factory) {\r\n    if (factory) {\r\n      this.members.setFactory(factory);\r\n    }\r\n  }\r\n}\r\n\r\nexport const createDecorator = (factory, handlers) => (\r\n  new Decorator(factory, handlers)\r\n);\r\n\r\nexport default Decorator;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/Decorator.js","import getInternals from '../request/target/getInternals';\r\nimport { createDeferred } from '../utils/Deferred';\r\nimport createRequestPackage from '../utils/createRequestPackage';\r\nimport setTemporary from '../request/target/setTemporary';\r\n\r\nconst createHandlerFor = (\r\n  factoryWrapper,\r\n  propertyName,\r\n  commandType,\r\n  isTemporary,\r\n  cacheable,\r\n) => {\r\n  const { factory, checkState, getChildRequest } = factoryWrapper;\r\n\r\n  function commandHandler(command, value, ...args) {\r\n    const target = getInternals(this);\r\n    let result;\r\n    let promise;\r\n    if (target) {\r\n      const pack = createRequestPackage(\r\n        commandType,\r\n        [command, value, ...args],\r\n        target.id,\r\n      );\r\n      // FIXME Explicitly pass scope\r\n      const request = getChildRequest(propertyName, pack, cacheable);\r\n      result = request.child;\r\n      if (request.deferred) {\r\n        promise = target.send(propertyName, pack, request.deferred, result);\r\n        if (promise) {\r\n          // FIXME isTemporary must be called before `result` was resolved\r\n          // FIXME remove default `isTemporary`, if not defined just skip\r\n          checkState(promise, isTemporary, this, result, pack);\r\n        } else {\r\n          result = null;\r\n          promise = Promise.reject(new Error('Initial request failed and didn\\'t result in promise.'));\r\n        }\r\n      }\r\n    } else {\r\n      promise = Promise.reject(new Error('Target object is not a resource, so cannot be used for calls.'));\r\n    }\r\n    return result || factory.create(promise);\r\n  }\r\n\r\n  return commandHandler;\r\n};\r\n\r\nclass CallbackFactory {\r\n  members = new Map();\r\n  factory = null;\r\n\r\n  constructor(factory = null) {\r\n    this.setFactory(factory);\r\n  }\r\n\r\n  /**\r\n   * @param {Descriptor} descriptor\r\n   * @returns {Function}\r\n   * @private\r\n   */\r\n  get(descriptor) {\r\n    const propertyName = descriptor.name;\r\n    if (!this.members.has(propertyName)) {\r\n      this.members.set(\r\n        propertyName,\r\n        this.create(\r\n          descriptor.name,\r\n          descriptor.type,\r\n          descriptor.isTemporary,\r\n          descriptor.cacheable,\r\n        ),\r\n      );\r\n    }\r\n    return this.members.get(propertyName);\r\n  }\r\n\r\n  create(propertyName, commandType, isTemporary, cacheable) {\r\n    return createHandlerFor(this, propertyName, commandType, isTemporary, cacheable);\r\n  }\r\n\r\n  getChildRequest = (propertyName, pack, cacheable) => {\r\n    let child;\r\n    let deferred;\r\n\r\n    if (cacheable) {\r\n      child = this.factory.getCached(propertyName, pack);\r\n    }\r\n\r\n    if (!child) {\r\n      deferred = createDeferred();\r\n      child = this.factory.create(deferred.promise, propertyName, pack, cacheable);\r\n    }\r\n\r\n    return { child, deferred };\r\n  };\r\n\r\n  checkState = (promise, isTemporaryFn, parentRequest, childRequest, pack) => {\r\n    promise.then((data) => {\r\n      const isTemporary = Boolean(isTemporaryFn(parentRequest, childRequest, pack, data));\r\n      setTemporary(childRequest, isTemporary);\r\n    });\r\n  };\r\n\r\n  setFactory(factory) {\r\n    this.factory = factory;\r\n  }\r\n}\r\n\r\nexport default CallbackFactory;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/command/CallbackFactory.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nimport getInternals from './getInternals';\r\n\r\nexport default (target, value) => getInternals(target).temporary = Boolean(value);\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/setTemporary.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nimport getStatus from './getStatus';\r\nimport TargetStatus from '../../utils/TargetStatus';\r\n\r\nexport default (value) => (\r\n  getStatus(value) === TargetStatus.PENDING\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/isPending.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nimport getInternals from './getInternals';\r\n\r\nexport default (target) => getInternals(target).status;\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/getStatus.js","/**\r\n * Created by Oleg Galaburda on 16.11.17.\r\n */\r\n\r\nexport default Symbol('request.target::promise');\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/PROMISE_FIELD.js","import TargetStatus from '../../utils/TargetStatus';\r\nimport TARGET_DATA from '../../utils/TARGET_DATA';\r\nimport createRequestPackage from '../../utils/createRequestPackage';\r\nimport isResource from '../../utils/isResource';\r\nimport getResourceData from '../../utils/getResourceData';\r\nimport {\r\n  RequestCommandFields,\r\n  RequestCommandNames,\r\n} from '../../command//internal/RequestCommands';\r\nimport SubTargets from './SubTargets';\r\n\r\nclass Internals extends SubTargets {\r\n  constructor(target, promise, handlers) {\r\n    super();\r\n    this.handlers = handlers;\r\n    this.target = target;\r\n    this.link = {};\r\n    // INFO this should be not initialized i.e. keep it undefined, this will be checked later\r\n    this.temporary = undefined;\r\n    this.hadChildPromises = false;\r\n    this.status = TargetStatus.PENDING;\r\n    this.promise = promise\r\n      .then(this.handlePromiseResolve)\r\n      .catch(this.handlePromiseReject);\r\n    this.setParent(this);\r\n  }\r\n\r\n  get poolId() {\r\n    return this.link.poolId || null;\r\n  }\r\n\r\n  get type() {\r\n    return this.link.type || null;\r\n  }\r\n\r\n  get id() {\r\n    return this.link.id || null;\r\n  }\r\n\r\n  handlePromiseResolve = (value) => {\r\n    const result = { target: this.target, value };\r\n    this.status = TargetStatus.RESOLVED;\r\n    if (isResource(value)) {\r\n      this.link = getResourceData(value);\r\n      /*\r\n       INFO Sending \"this\" as result of resolve() handler, causes infinite\r\n       loop of this.then(), so I've used wrapper object\r\n      */\r\n      // FIXME Propagate proxified target, not original object, so it will be possible to use it as before\r\n      // best way of doing this is probably replacing \"target\" in ProxyFactory\r\n      // FIXME request target must be anything, not only resource, could be any value\r\n      // we should be able to make request against any type of value that was returned by server successfully\r\n      result.value = this.target;\r\n    }\r\n\r\n    this.parentResolved();\r\n\r\n    if (this.temporary) {\r\n      this.destroy();\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  handlePromiseReject = (value) => {\r\n    this.status = TargetStatus.REJECTED;\r\n    this.parentRejected('Target of the call was rejected and call cannot be sent.');\r\n    return Promise.reject(value);\r\n  };\r\n\r\n  isActive() {\r\n    return this.status === TargetStatus.PENDING || this.status === TargetStatus.RESOLVED;\r\n  }\r\n\r\n  canBeDestroyed() {\r\n    return this.status === TargetStatus.RESOLVED || this.status === TargetStatus.REJECTED;\r\n  }\r\n\r\n  destroy() {\r\n    let promise = null;\r\n    if (this.canBeDestroyed()) {\r\n      // INFO I should not clear children list, since they are pending and requests already sent.\r\n      if (this.status === TargetStatus.RESOLVED) {\r\n        promise = this.send(\r\n          RequestCommandFields.DESTROY,\r\n          createRequestPackage(\r\n            RequestCommandNames.DESTROY,\r\n            [null, null],\r\n            this.id,\r\n          ),\r\n        );\r\n      } else {\r\n        promise = Promise.resolve();\r\n      }\r\n      this.status = TargetStatus.DESTROYED;\r\n    } else {\r\n      promise = Promise.reject(new Error('Invalid or already destroyed target.'));\r\n    }\r\n    return promise;\r\n  }\r\n\r\n  then(handleResolve, handleReject) {\r\n    const child = this.promise.then(handleResolve, handleReject);\r\n    this.hadChildPromises = true;\r\n    return child;\r\n  }\r\n\r\n  catch(handleReject) {\r\n    const child = this.promise.catch(handleReject);\r\n    this.hadChildPromises = true;\r\n    return child;\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      [TARGET_DATA]: {\r\n        id: this.link.id,\r\n        type: this.link.type,\r\n        poolId: this.link.poolId,\r\n      },\r\n    };\r\n  }\r\n}\r\n\r\nexport default Internals;\r\n\n\n\n// WEBPACK FOOTER //\n// ./source/request/target/Internals.js"],"sourceRoot":""}
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.DataAccessInterface=t():e.DataAccessInterface=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="http://localhost:8081/dist/",t(t.s=26)}([function(e,t,n){"use strict";var r=n(1),o=n(2),i=n(6),u=n(12),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e){return e instanceof u.b||e instanceof i.b||e&&("object"===a(e[r.a])||"object"===a(e[o.a]))}},function(e,t,n){"use strict";t.a=Symbol("request.target:internals")},function(e,t,n){"use strict";t.a="resource::data"},function(e,t,n){"use strict";var r=n(1);t.a=function(e){return e&&e[r.a]||null}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return u}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return c});var o=function(){return!0},i=function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;r(this,e),this.name=void 0!==i?i:t,this.type=t,this.handler=n,this.isTemporary=o,this.cacheable=!0,this.virtual=!1,this.resourceType=null},u=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=new i(e,t,n);return s.resourceType=u,s.cacheable=a,s.virtual=c,r&&(s.isTemporary=r),Object.freeze(s)},a=function(e,t){t instanceof Array?t.push(e):t&&(t[e.name]=e)},c=function(e,t){return function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],l=arguments.length>5&&void 0!==arguments[5]&&arguments[5],f=u(e,n,t,i,c,s,l);return a(f,r),Object.freeze(f)}};t.c=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return p}),n.d(t,"d",function(){return E}),n.d(t,"b",function(){return g});var u=n(10),a=n.n(u),c=n(11),s=n(0),l=n(12),f=function(){function e(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&a.return&&a.return()}finally{if(o)throw i}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=Object.freeze({RESOURCE_ADDED:"resourceAdded",RESOURCE_REMOVED:"resourceRemoved",POOL_CLEAR:"poolClear",POOL_CLEARED:"poolCleared",POOL_DESTROYED:"poolDestroyed"}),d=Symbol("ResourcePool::map"),v={},b=function(e){return!Object(s.a)(e)&&Boolean(v[void 0===e?"undefined":y(e)])},m=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e[d]=new Map,Object.defineProperties(e,{id:{value:Object(c.a)()}}),e}return i(t,e),h(t,[{key:"set",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this[d],r=null;return b(e)&&(n.has(e)?r=n.get(e):(r=Object(l.a)(this,e,t||(void 0===e?"undefined":y(e))),n.set(r.id,r),n.set(e,r),this.hasEventListener(p.RESOURCE_ADDED)&&this.dispatchEvent(p.RESOURCE_ADDED,r))),r}},{key:"has",value:function(e){return this[d].has(e)}},{key:"get",value:function(e){return this[d].get(e)}},{key:"remove",value:function(e){var t=this[d],n=t.get(e);n&&(t.delete(n.id),t.delete(n.value),this.hasEventListener(p.RESOURCE_REMOVED)&&this.dispatchEvent(p.RESOURCE_REMOVED,n),n.destroy())}},{key:"clear",value:function(){var e=this[d];this.hasEventListener(p.POOL_CLEAR)&&this.dispatchEvent(p.POOL_CLEAR,this);var t=!0,n=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var u=o.value,a=f(u,2),c=a[0],s=a[1];"string"==typeof c&&c===s.id&&s.destroy()}}catch(e){n=!0,r=e}finally{try{!t&&i.return&&i.return()}finally{if(n)throw r}}e.clear(),this.hasEventListener(p.POOL_CLEARED)&&this.dispatchEvent(p.POOL_CLEARED,this)}},{key:"isActive",value:function(){return Boolean(this[d])}},{key:"destroy",value:function(){this.clear(),delete this[d],this.hasEventListener(p.POOL_DESTROYED)&&this.dispatchEvent(p.POOL_DESTROYED,this)}}]),t}(a.a);m.events=p;var O=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),h(t,[{key:"destroy",value:function(){throw new Error("Default ResourcePool cannot be destroyed.")}}]),t}(m),E=new O,g=function(){return new m};!function(e){v=e.reduce(function(e,t){return e[t]=!0,e},{})}(function(){return["object","function"]}()),t.c=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return f});var o=n(1),i=n(0),u=n(44),a=n(45),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e){return e[o.a]||e[u.a]},l=function(){function e(t,n){var c=this;r(this,e),this[o.a]=new a.a(this,t,n);var s=function(e){Object(i.a)(e)||(c[u.a]=t,delete c[o.a])};t.then(s,s)}return c(e,[{key:"then",value:function(){var e=s(this);return e.then.apply(e,arguments)}},{key:"catch",value:function(){var e=s(this);return e.catch.apply(e,arguments)}}]),e}(),f=function(e,t){return new l(e,t)};t.b=l},function(e,t,n){"use strict";t.a=Object.freeze({PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected",DESTROYED:"destroyed"})},function(e,t,n){"use strict";var r=n(1),o=n(9),i=n(0),u=n(29),a=n(5),c=n(12),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e,t){return t=t||a.d,e instanceof c.b?e.toJSON():"object"===s(e[r.a])?Object(u.a)(e):e instanceof o.a||"function"==typeof e?t.set(e).toJSON():Object(i.a)(e)?e:null}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function e(){r(this,e)};t.a=o},function(e,t,n){(function(e){var n,r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(u,a){"object"===i(t)&&"object"===i(e)?e.exports=a():(r=[],n=a,void 0!==(o="function"==typeof n?n.apply(t,r):n)&&(e.exports=o))}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="http://localhost:8081/dist/",t(t.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var r=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default,t.Event=r.Event},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"===i(Symbol.iterator)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":i(e)},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c=t.Event=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.type=t,this.data=n,this.defaultPrevented=!1}return u(e,[{key:"toJSON",value:function(){return{type:this.type,data:this.data}}},{key:"isDefaultPrevented",value:function(){return this.defaultPrevented}},{key:"preventDefault",value:function(){this.defaultPrevented=!0}}]),e}(),s=function(){function e(t,n,o){var i=this;r(this,e),this.index=-1,this.immediatelyStopped=!1,this.stopImmediatePropagation=function(){i.immediatelyStopped=!0},this.listeners=t,this.onStopped=n,this.onComplete=o}return u(e,[{key:"run",value:function(e,t){var n=void 0,r=this.listeners;for(this.augmentEvent(e),this.index=0;this.index<r.length&&!this.immediatelyStopped;this.index++)n=r[this.index],n.call(t,e);this.clearEvent(e),this.onComplete(this)}},{key:"augmentEvent",value:function(e){var t=e;t.stopPropagation=this.onStopped,t.stopImmediatePropagation=this.stopImmediatePropagation}},{key:"clearEvent",value:function(e){var t=e;delete t.stopPropagation,delete t.stopImmediatePropagation}},{key:"listenerRemoved",value:function(e,t){e===this.listeners&&t<=this.index&&this.index--}}]),e}(),l=function(){function e(){var t=this;r(this,e),this._listeners={},this._runners=[],this.removeRunner=function(e){t._runners.splice(t._runners.indexOf(e),1)}}return u(e,[{key:"createList",value:function(e,t){var n=parseInt(t,10),r=this.getPrioritiesByKey(e),o=String(n),i=void 0;return a(r,o)?i=r[o]:(i=[],r[o]=i),i}},{key:"getPrioritiesByKey",value:function(e){var t=void 0;return a(this._listeners,e)?t=this._listeners[e]:(t={},this._listeners[e]=t),t}},{key:"add",value:function(e,t,n){var r=this.createList(e,n);r.indexOf(t)<0&&r.push(t)}},{key:"has",value:function(e){var t=void 0,n=!1,r=this.getPrioritiesByKey(e);if(r)for(t in r)if(a(r,t)){n=!0;break}return n}},{key:"remove",value:function(e,t){var n=this,r=this.getPrioritiesByKey(e);if(r)for(var o=Object.getOwnPropertyNames(r),i=o.length,u=0;u<i;u++)!function(e){var i=o[e],u=r[i],a=u.indexOf(t);a>=0&&(u.splice(a,1),u.length||delete r[i],n._runners.forEach(function(e){e.listenerRemoved(u,a)}))}(u)}},{key:"removeAll",value:function(e){delete this._listeners[e]}},{key:"createRunner",value:function(e,t){var n=new s(e,t,this.removeRunner);return this._runners.push(n),n}},{key:"call",value:function(e,t){var n=this.getPrioritiesByKey(e.type),r=!1,o=function(){r=!0};if(n)for(var i=Object.getOwnPropertyNames(n).sort(function(e,t){return e-t}),u=i.length,a=0;a<u&&!r;a++){var c=n[i[a]];if(c){var s=this.createRunner(c,o);if(s.run(e,t),s.immediatelyStopped)break}}}}]),e}(),f=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r(this,e),n||this.initialize(t)}return u(e,[{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this._eventPreprocessor=e,this._listeners=new l}},{key:"addEventListener",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this._listeners.add(e,t,-n||0)}},{key:"hasEventListener",value:function(e){return this._listeners.has(e)}},{key:"removeEventListener",value:function(e,t){this._listeners.remove(e,t)}},{key:"removeAllEventListeners",value:function(e){this._listeners.removeAll(e)}},{key:"dispatchEvent",value:function(t,n){var r=e.getEvent(t,n);this._eventPreprocessor&&(r=this._eventPreprocessor.call(this,r)),this._listeners.call(r)}}],[{key:"isObject",value:function(e){return"object"===(void 0===e?"undefined":o(e))&&null!==e}},{key:"getEvent",value:function(t,n){var r=t;return e.isObject(t)||(r=new e.Event(String(t),n)),r}},{key:"create",value:function(t){return new e(t)}}]),e}();f.Event=c,t.default=f}])})}).call(t,n(30)(e))},function(e,t,n){"use strict";var r="DA/"+Date.now()+"/",o=0;t.a=function(){return""+r+ ++o+"/"+Date.now()}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return y});var i=n(2),u=n(1),a=n(3),c=n(11),s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){return e?e.id:null},h=function(){function e(t,n,a,c){var s,l=this;o(this,e),this.toJSON=function(){return r({},i.a,{id:l.id,type:l.type,poolId:l.poolId})},Object.defineProperties(this,(s={},r(s,u.a,{value:{pool:t,value:n,type:a,id:c,active:!0,poolId:f(t)}}),r(s,i.a,{get:this.toJSON}),s))}return l(e,[{key:"destroy",value:function(){var e=Object(a.a)(this),t=e.id,n=e.pool;e.active&&(e.active=!1,n.remove(t),Object.keys(e).map(function(t){return delete e[t]}))}},{key:"active",get:function(){return Boolean(Object(a.a)(this).active)}},{key:"value",get:function(){return Object(a.a)(this).value}},{key:"type",get:function(){return Object(a.a)(this).type||s(Object(a.a)(this).value)}},{key:"id",get:function(){return Object(a.a)(this).id}},{key:"poolId",get:function(){return Object(a.a)(this).poolId}}]),e}(),y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new h(e,t,n,r||Object(c.a)())};t.b=h},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return i});var o=function e(){var t=this;r(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},i=function(){return new o};t.b=o},function(e,t,n){"use strict";var r=n(1),o=n(2),i=n(0),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e){return"object"===u(e[r.a])?e[r.a].poolId:Object(i.a)(e)?e[o.a].poolId:null}},function(e,t,n){"use strict";var r=n(1),o=n(2),i=n(0),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(e){return"object"===u(e[r.a])?e[r.a].id:Object(i.a)(e)?e[o.a].id:null}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var o=n(4),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=Object.freeze({GET:"get",SET:"set",APPLY:"apply",DELETE_PROPERTY:"deleteProperty"}),a=Object.freeze({get:Symbol("proxy.commands::get"),set:Symbol("proxy.commands::set"),apply:Symbol("proxy.commands::apply"),deleteProperty:Symbol("proxy.commands::deleteProperty")}),c=function(){function e(){r(this,e),this.names=u,this.fields=a,this.createGETDescriptor=Object(o.d)(u.GET,a.get),this.createSETDescriptor=Object(o.d)(u.SET,a.set),this.createAPPLYDescriptor=Object(o.d)(u.APPLY,a.apply),Object.freeze(this)}return i(e,[{key:"list",get:function(){return[u.GET,u.SET,u.APPLY,u.DELETE_PROPERTY]}},{key:"required",get:function(){return[u.GET,u.SET,u.APPLY]}}]),e}(),s=new c;t.b=s},function(e,t,n){"use strict";var r=n(1),o=n(2),i=n(0),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e){return"object"===u(e[r.a])?e[r.a].type:Object(i.a)(e)?e[o.a].type:null};t.a=a},function(e,t,n){"use strict";t.a=function(e,t,n){return{type:e,args:t,cmd:t[0],value:t[1],target:n}}},function(e,t,n){"use strict";var r=n(2),o=n(8);t.a=function(e){var t=Object(o.a)(e);return t?t[r.a]:null}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return u});var o=n(4),i=Object.freeze({DESTROY:"::destroy.resource"}),u=Object.freeze({DESTROY:Symbol("::destroy.resource")}),a=function e(){r(this,e),this.names=i,this.fields=u,this.createDESTROYDescriptor=function(e,t){var n=new o.c(i.DESTROY,e,u.DESTROY);return n.cacheable=!1,n.virtual=!0,Object(o.a)(n,t),Object.freeze(n)},Object.freeze(this)};t.c=new a},function(e,t,n){"use strict";t.a=Object.freeze({names:Object.freeze({then:!0,catch:!0})})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a}),n.d(t,"b",function(){return s});var o=n(39),i=n(6),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a={},c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r(this,e),this.cache=n,this.handlers=t,t!==a&&(this.decorator=Object(o.a)(this,t))}return u(e,[{key:"create",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=Object(i.a)(e,this.handlers);return this.handlers.available&&this.decorator.apply(o),this.cache&&r&&this.cache.set(t,n,o),o}},{key:"getCached",value:function(e,t){return this.cache&&this.cache.get(e,t)}}]),e}(),s=function(e,t){return new c(e,t)};t.c=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return m});var u=n(10),a=n.n(u),c=n(14),s=n(15),l=n(0),f=n(24),h=n(8),y=n(42),p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=Object.freeze({RESOURCE_CREATED:"resourceCreated",RESOURCE_CONVERTED:"resourceConverted"}),b=function(e){function t(e,n,i){var u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;r(this,t);var a=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.factory=e,a.pool=i,a.registry=n,u&&u.setConverter(a),a}return i(t,e),d(t,[{key:"resourceToObject",value:function(e){var t=void 0;if(Object(f.a)(e))t=Object(h.a)(e,this.pool);else{if("function"!=typeof e.toJSON)return e;t=e.toJSON()}return this.hasEventListener(v.RESOURCE_CONVERTED)&&this.dispatchEvent(v.RESOURCE_CONVERTED,{data:e,result:t}),t}},{key:"objectToResource",value:function(e){var t=e;if(Object(l.a)(e)){var n=Object(c.a)(e);if(this.registry.isRegistered(n)){var r=this.registry.get(n).get(Object(s.a)(e));r&&(t=r.value)}else t=this.factory.create(Promise.resolve(e))}return t!==e&&this.hasEventListener(v.RESOURCE_CREATED)&&this.dispatchEvent(v.RESOURCE_CREATED,{data:e,result:t}),t}},{key:"lookupArray",value:function(e,t){var n=this;return e.map(function(e){return t.call(n,e)})}},{key:"lookupObject",value:function(e,t){var n=this;return Object.getOwnPropertyNames(e).reduce(function(r,o){return Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=t.call(n,e[o])),r},{})}},{key:"toJSON",value:function(e){var t=e;return void 0!==e&&null!==e&&(Object(f.a)(e)?t=this.resourceToObject(e):e instanceof Array?t=this.lookupArray(e,this.resourceToObject):e.constructor===Object&&(t=this.lookupObject(e,this.resourceToObject))),t}},{key:"parse",value:function(e){var t=e;return void 0!==e&&null!==e&&(Object(l.a)(e)?t=this.objectToResource(e):e instanceof Array?t=this.lookupArray(e,this.objectToResource):e.constructor===Object&&(t=this.lookupObject(e,this.objectToResource))),t}},{key:"lookupForPending",value:function(e){var t=[],n=function(e){return Object(y.a)(e)&&t.push(e),e};return"object"===(void 0===e?"undefined":p(e))&&null!==e&&(Object(y.a)(e)?t.push(e):e instanceof Array?this.lookupArray(e,n):e.constructor===Object&&this.lookupObject(e,n)),t}}]),t}(a.a);b.events=v;var m=function(e,t,n,r){return new b(e,t,n,r)};t.b=b},function(e,t,n){"use strict";var r=n(0),o=n(9);t.a=function(e){return Object(r.a)(e)||"function"==typeof e||e instanceof o.a}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.d(t,"a",function(){return y});var u=n(10),a=n.n(u),c=n(5),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=Object.freeze({RESOURCE_POOL_CREATED:"resourcePoolCreated",RESOURCE_POOL_REGISTERED:"resourcePoolRegistered",RESOURCE_POOL_REMOVED:"resourcePoolRemoved"}),f=Symbol("resource.pool.registry::pools"),h=function(e){function t(){r(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handlePoolDestroyed=function(t){e.remove(t.data)},e[f]={},e.register(c.d),e}return i(t,e),s(t,[{key:"createPool",value:function(){var e=Object(c.b)();return this.hasEventListener(l.RESOURCE_POOL_CREATED)&&this.dispatchEvent(l.RESOURCE_POOL_CREATED,e),this.register(e),e}},{key:"register",value:function(e){Object.prototype.hasOwnProperty.call(this[f],e.id)||(this[f][e.id]=e,e.addEventListener(c.a.POOL_DESTROYED,this.handlePoolDestroyed),this.hasEventListener(l.RESOURCE_POOL_REGISTERED)&&this.dispatchEvent(l.RESOURCE_POOL_REGISTERED,e))}},{key:"get",value:function(e){return this[f][e]||null}},{key:"isRegistered",value:function(e){return Object.prototype.hasOwnProperty.call(this[f],e instanceof c.c?e.id:String(e))}},{key:"remove",value:function(e){var t=!1;return e=e instanceof c.c?e:this.get(e),e&&(e.removeEventListener(c.a.POOL_DESTROYED,this.handlePoolDestroyed),t=delete this[f][e.id]),this.hasEventListener(l.RESOURCE_POOL_REMOVED)&&this.dispatchEvent(l.RESOURCE_POOL_REMOVED,e),t}}]),t}(a.a);h.events=l;var y=function(){return new h};t.b=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o=n(13),i=n(4),u=n(21),a=n(20),c=n(16),s=n(6),l=n(5),f=n(25),h=n(23),y=n(9),p=n(24),d=n(8),v=n(19),b=n(15),m=n(14),O=n(17),E=n(0);n.d(t,"create",function(){return r.a}),n.d(t,"dummy",function(){return r.dummy}),n.d(t,"createDeferred",function(){return o.a}),n.d(t,"Deferred",function(){return o.b}),n.d(t,"Descriptor",function(){return i.c}),n.d(t,"Reserved",function(){return u.a}),n.d(t,"RequestCommands",function(){return a.c}),n.d(t,"ProxyCommands",function(){return c.b}),n.d(t,"Target",function(){return s.b}),n.d(t,"ResourcePool",function(){return l.c}),n.d(t,"PoolRegistry",function(){return f.b}),n.d(t,"Converter",function(){return h.b}),n.d(t,"IConvertible",function(){return y.a}),n.d(t,"isResourceConvertible",function(){return p.a}),n.d(t,"getRawResource",function(){return d.a}),n.d(t,"getResourceData",function(){return v.a}),n.d(t,"getResourceId",function(){return b.a}),n.d(t,"getResourcePoolId",function(){return m.a}),n.d(t,"getResourceType",function(){return O.a}),n.d(t,"isResource",function(){return E.a}),t.default=r.b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return b});var o=n(28),i=n(0),u=n(14),a=n(15),c=n(35),s=n(36),l=n(38),f=n(22),h=n(5),y=n(23),p=n(25),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;r(this,e),this.poolRegistry=o,this.pool=i,this.cache=u,this.initialize(t,n)}return d(e,[{key:"initialize",value:function(e,t){var n=this;if(t&&!Object(o.a)())throw new Error("Proxies are not available in this environment");this.handlers=Object(s.a)(t),this.factory=t?Object(l.a)(this.handlers,this.cache):Object(f.b)(this.handlers,this.cache),this.poolRegistry||(this.poolRegistry=Object(p.a)()),this.pool?this.poolRegistry.register(this.pool):void 0!==this.pool?this.pool=this.poolRegistry.createPool():this.pool=h.d,this.resourceConverter=Object(y.a)(this.factory,this.poolRegistry,this.pool,this.handlers);var r=function e(){n.pool.removeEventListener(h.a.POOL_DESTROYED,e),n.pool=n.poolRegistry.createPool(),n.pool.addEventListener(h.a.POOL_DESTROYED,e)};this.handlers.setCommands(e),this.pool.addEventListener(h.a.POOL_DESTROYED,r)}},{key:"parse",value:function(e){return this.resourceConverter.parse(e)}},{key:"dummy",value:function(){return this.parse(Object(c.a)())}},{key:"toJSON",value:function(e){return this.resourceConverter.toJSON(e)}},{key:"isOwnResource",value:function(e){var t=void 0;return!!Object(i.a)(e)&&((t=this.poolRegistry.get(Object(u.a)(e)))&&t.has(Object(a.a)(e)))}},{key:"proxyEnabled",get:function(){return this.handlers.proxyEnabled}}]),e}(),b=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return new v(e,t,n,r,o)};t.b=v},function(e,t,n){"use strict";t.a=function(){return"function"==typeof Proxy}},function(e,t,n){"use strict";var r=n(3);t.a=function(e){return Object(r.a)(e).toJSON()}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=n(13),a=n(7),c=n(32),s=n(33),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,n));return i.handleSubRequest=function(e,t,n,r){return i.parent.handlers.handle(i.parent,e,t,n,r)},i.queue=null,i.setParent(e),i}return i(t,e),l(t,[{key:"setParent",value:function(e){this.parent=e}},{key:"parentResolved",value:function(){this.hasQueue()&&(this.queue.send(this.parent.id,this.handleSubRequest),this.queue=null)}},{key:"parentRejected",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.queue.reject(new Error(e||"This request was rejected before sending.")),this.queue=null}},{key:"hasQueue",value:function(){return Boolean(this.queue&&this.queue.length)}},{key:"send",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=this.parent.handlers,i=void 0;return o.hasCommand(e)?(i=this.handleSend(e,t,n||Object(u.a)(),r),r&&(i=this.register(r)),i):Promise.reject(new Error('Request handler for "'+e+'" is not registered.'))}},{key:"handleSend",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=this.parent.status;switch(o){case a.a.PENDING:return this.queue||(this.queue=Object(c.a)()),this.queue.add(e,t,n,r);case a.a.REJECTED:return Promise.reject(new Error("Target object was rejected and cannot be used for calls."));case a.a.DESTROYED:return Promise.reject(new Error("Target object was destroyed and cannot be used for calls."));case a.a.RESOLVED:return this.handleSubRequest(e,t,n,r),n.promise;default:return Promise.reject(new Error('Target object is in unknown status "'+o+'".'))}}}]),t}(s.a);t.a=f},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return a});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e),this.list=t}return i(e,[{key:"add",value:function(e,t,n,r){return this.list.push({name:e,pack:t,deferred:n,child:r}),n.promise}},{key:"getList",value:function(){return[].concat(r(this.list))}},{key:"getCommands",value:function(){return this.list.map(function(e){return e.name})}},{key:"send",value:function(e,t){this.list.forEach(function(n){var r=n.name,o=n.pack,i=n.deferred,u=n.child;o.target=e,t(r,o,i,u)}),this.list=[]}},{key:"reject",value:function(e){var t=new Error(e||"This request was rejected before sending.");this.list.forEach(function(e){return e.deferred.reject(t)}),this.list=[]}},{key:"length",get:function(){return this.list.length}}]),e}(),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new u(e)}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(34),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];o(this,e),this.list=t}return u(e,[{key:"register",value:function(e){var t=this,n=function(){var n=t.list.indexOf(e);n>=0&&t.list.splice(n,1)};return this.list.push(e),Object(i.a)(e).then(n,n)}},{key:"getList",value:function(){return[].concat(r(this.list))}},{key:"contains",value:function(e){return this.list.indexOf(e)>=0}},{key:"length",get:function(){return this.list.length}},{key:"lastItem",get:function(){var e=this.list.length;return e?this.list[e-1]:null}}]),e}();t.a=a},function(e,t,n){"use strict";var r=n(3),o=n(44);t.a=function(e){var t=Object(r.a)(e);return t&&t.promise?t.promise:e[o.a]||null}},function(e,t,n){"use strict";var r=n(2),o=n(11),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t[r.a]={id:"foreign-id-"+Object(o.a)(),type:e||(void 0===t?"undefined":i(t)),poolId:"foreign-poolId-"+Object(o.a)()},t}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return d});var u=n(4),a=n(16),c=n(37),s=n(17),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f="",h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!0;return a.b.required.forEach(function(r){if(!(a.a[r]in e)&&(n=!1,t))throw new Error('For Proxy interface, handler "'+r+'" should be set.')}),n},y=Object.freeze({HANDLERS_UPDATED:"handlersUpdated"}),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i(this,e),this.properties=o({},f,[]),this.descriptors=o({},f,[]),this.proxyEnabled=Boolean(t),this.converter=null}return l(e,[{key:"setConverter",value:function(e){this.converter=e}},{key:"setCommands",value:function(e){var t=this;this.setCommandsByType(f,e),Object.keys(e).forEach(function(n){var r=e[n];r&&(r.constructor===Object||r instanceof Array)&&t.setCommandsByType(n,r)}),this.proxyEnabled&&h(this.descriptors[f],!0)}},{key:"setCommandsByType",value:function(e,t){var n={},r=[];Object(c.a)(t,n,r),this.descriptors[e]=n,this.properties[e]=r}},{key:"hasCommand",value:function(e,t){return this.descriptors[t]&&Object.prototype.hasOwnProperty.call(this.descriptors[t],e)||this.descriptors[f]&&Object.prototype.hasOwnProperty.call(this.descriptors[f],e)}},{key:"getPropertyCommands",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[].concat(r(this.properties[e||f]||[]))}},{key:"getPropertyNames",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.getPropertyCommands(e).map(function(e){return e.name})}},{key:"getCommands",value:function(e){return this.descriptors[e]?Object.assign({},this.descriptors[f],this.descriptors[e]):this.descriptors[f]}},{key:"getCommand",value:function(e,t){return this.descriptors[t]&&this.descriptors[t][e]||this.descriptors[f]&&this.descriptors[f][e]||null}},{key:"handle",value:function(e,t,n,r,o){var i=this,u=this.converter?this.converter.lookupForPending(n.value):null;u&&u.length?Promise.all(u).then(function(){i.handleImmediately(e,t,n,r,o)}):this.handleImmediately(e,t,n,r,o)}},{key:"handleImmediately",value:function(e,t,n,r,o){var i=this.getCommand(t,Object(s.a)(e));if(!(i instanceof u.c))throw new Error('Command descriptor for "'+t+'" was not found.');i.handler(e,n,r,o)}},{key:"available",get:function(){var e=this;return Object.getOwnPropertyNames(this.properties).findIndex(function(t){var n=e.properties[t];return Boolean(n&&n.length)})>=0}}]),e}();p.events=y;var d=function(e){return new p(e)}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(4),i=n(21),u=function(e,t,n){var r=e.name;if(r in i.a.names)throw new Error('Name "'+r+'" is reserved and cannot be used in descriptor.');if(Object.prototype.hasOwnProperty.call(t,r)&&t[r]instanceof o.c)throw new Error('Field names should be unique, "'+String(r)+'" field has duplicates.');t[r]=e,e.virtual||n.push(e)},a=function(e,t,n){e.forEach(function(e){e instanceof o.c&&u(e,t,n)})},c=function(e,t,n){e&&[].concat(r(Object.getOwnPropertyNames(e)),r(Object.getOwnPropertySymbols(e))).forEach(function(r){var i=e[r];"function"==typeof i&&(i=Object(o.b)(r,i)),i instanceof o.c&&u(i,t,n)})};t.a=function(e,t,n){e instanceof Array?a(e,t,n):c(e,t,n)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}n.d(t,"a",function(){return w});var a=n(22),c=n(16),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f={arguments:!0,caller:!0,prototype:!0},h=function(e){function t(){}return t.target=e,t},y=function(e,t){return new Proxy(h(e),t)},p=function(e,t){var n=e.target;return t in n||t in f||"symbol"===(void 0===t?"undefined":l(t))?n[t]:n[c.a.get](t)},d=function(e,t,n){return e.target[c.a.apply](null,n)},v=function(e,t,n){var r=e.target;return t in r||t in f||"symbol"===(void 0===t?"undefined":l(t))?(r[t]=n,n):c.a.set in r&&(r[c.a.set](t,n),!0)},b=function(e,t){return Object.prototype.hasOwnProperty.call(e.target,t)},m=function(e,t){var n=e.target;return c.a.deleteProperty in n&&(n[c.a.deleteProperty](t),!0)},O=function(e){var t=e.target;return[].concat(u(Object.getOwnPropertyNames(t)),u(Object.getOwnPropertyNames(f)))},E=function(e){var t=e.target;return[].concat(u(Object.getOwnPropertyNames(t)),u(Object.getOwnPropertyNames(f)))[Symbol.iterator]()},g=function(e,t){return Object.prototype.hasOwnProperty.call(f,t)?Object.getOwnPropertyDescriptor(e,t):Object.getOwnPropertyDescriptor(e.target,t)},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({get:p,apply:d,set:v,has:b,deleteProperty:m,ownKeys:O,enumerate:E,getOwnPropertyDescriptor:g},e)}(),P=function(e){function t(e,n){r(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,a.a));return i.handlers=e,i.factory=Object(a.b)(e,n),i.factory.decorator.setFactory(i),i}return i(t,e),s(t,[{key:"create",value:function(e){var t=this.factory.create(e);return this.handlers.available?y(t,j):t}},{key:"getCached",value:function(e,t){return this.factory.getCached(e,t)}},{key:"createCached",value:function(e,t,n){var r=this.factory.createCached(e,t,n);return this.handlers.available?y(r,j):r}}]),t}(a.c),w=function(e,t){return new P(e,t)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return c});var o=n(40),i=n(17),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n){r(this,e),this.handlers=n,this.members=new o.a(t)}return u(e,[{key:"apply",value:function(e){var t=this;return this.handlers.available?this.handlers.getPropertyCommands(Object(i.a)(e)).forEach(function(n){e[n.name]=t.members.get(n)}):e}},{key:"setFactory",value:function(e){e&&this.members.setFactory(e)}}]),e}(),c=function(e,t){return new a(e,t)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=n(3),i=n(13),u=n(18),a=n(41),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(e,t,n,r,i){function a(e,a){var f=Object(o.a)(this),h=void 0,y=void 0;if(f){for(var p=arguments.length,d=Array(p>2?p-2:0),v=2;v<p;v++)d[v-2]=arguments[v];var b=Object(u.a)(n,[e,a].concat(d),f.id),m=l(t,b,i);h=m.child,m.deferred&&(y=f.send(t,b,m.deferred,h),y?s(y,r,this,h,b):(h=null,y=Promise.reject(new Error("Initial request failed and didn't result in promise."))))}else y=Promise.reject(new Error("Target object is not a resource, so cannot be used for calls."));return h||c.create(y)}var c=e.factory,s=e.checkState,l=e.getChildRequest;return a},l=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r(this,e),this.members=new Map,this.factory=null,this.getChildRequest=function(e,n,r){var o=void 0,u=void 0;return r&&(o=t.factory.getCached(e,n)),o||(u=Object(i.a)(),o=t.factory.create(u.promise,e,n,r)),{child:o,deferred:u}},this.checkState=function(e,t,n,r,o){e.then(function(e){var i=Boolean(t(n,r,o,e));Object(a.a)(r,i)})},this.setFactory(n)}return c(e,[{key:"get",value:function(e){var t=e.name;return this.members.has(t)||this.members.set(t,this.create(e.name,e.type,e.isTemporary,e.cacheable)),this.members.get(t)}},{key:"create",value:function(e,t,n,r){return s(this,e,t,n,r)}},{key:"setFactory",value:function(e){this.factory=e}}]),e}();t.a=l},function(e,t,n){"use strict";var r=n(3);t.a=function(e,t){return Object(r.a)(e).temporary=Boolean(t)}},function(e,t,n){"use strict";var r=n(43),o=n(7);t.a=function(e){return Object(r.a)(e)===o.a.PENDING}},function(e,t,n){"use strict";var r=n(3);t.a=function(e){return Object(r.a)(e).status}},function(e,t,n){"use strict";t.a=Symbol("request.target::promise")},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(7),c=n(2),s=n(18),l=n(0),f=n(19),h=n(20),y=n(31),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e){function t(e,n,r){o(this,t);var u=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.handlePromiseResolve=function(e){var t={target:u.target,value:e};return u.status=a.a.RESOLVED,Object(l.a)(e)&&(u.link=Object(f.a)(e),t.value=u.target),u.parentResolved(),u.temporary&&u.destroy(),t},u.handlePromiseReject=function(e){return u.status=a.a.REJECTED,u.parentRejected("Target of the call was rejected and call cannot be sent."),Promise.reject(e)},u.handlers=r,u.target=e,u.link={},u.temporary=void 0,u.hadChildPromises=!1,u.status=a.a.PENDING,u.promise=n.then(u.handlePromiseResolve).catch(u.handlePromiseReject),u.setParent(u),u}return u(t,e),p(t,[{key:"isActive",value:function(){return this.status===a.a.PENDING||this.status===a.a.RESOLVED}},{key:"canBeDestroyed",value:function(){return this.status===a.a.RESOLVED||this.status===a.a.REJECTED}},{key:"destroy",value:function(){var e=null;return this.canBeDestroyed()?(e=this.status===a.a.RESOLVED?this.send(h.a.DESTROY,Object(s.a)(h.b.DESTROY,[null,null],this.id)):Promise.resolve(),this.status=a.a.DESTROYED):e=Promise.reject(new Error("Invalid or already destroyed target.")),e}},{key:"then",value:function(e,t){var n=this.promise.then(e,t);return this.hadChildPromises=!0,n}},{key:"catch",value:function(e){var t=this.promise.catch(e);return this.hadChildPromises=!0,t}},{key:"toJSON",value:function(){return r({},c.a,{id:this.link.id,type:this.link.type,poolId:this.link.poolId})}},{key:"poolId",get:function(){return this.link.poolId||null}},{key:"type",get:function(){return this.link.type||null}},{key:"id",get:function(){return this.link.id||null}}]),t}(y.a);t.a=d}])});
//# sourceMappingURL=deferred-data-access.min.js.map
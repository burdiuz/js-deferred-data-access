<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Deferred Data Access Example</title>
  <script type="text/javascript" src="../bower_components/event-dispatcher/dist/event-dispatcher.js"></script>
  <script type="text/javascript" src="../source/core.js"></script>
  <script type="text/javascript" src="../source/target-resource.js"></script>
  <script type="text/javascript" src="../source/target-pool.js"></script>
  <script type="text/javascript" src="../source/target-pool-registry.js"></script>
  <script type="text/javascript" src="../source/resource-converter.js"></script>
  <script type="text/javascript" src="../source/request-handlers.js"></script>
  <script type="text/javascript" src="../source/request-target-decorator.js"></script>
  <script type="text/javascript" src="../source/request-factory.js"></script>
  <script type="text/javascript" src="../source/request-proxy-factory.js"></script>
  <script type="text/javascript" src="../source/request-target-internals.js"></script>
  <script type="text/javascript" src="../source/request-target.js"></script>
  <script type="text/javascript" src="../source/data-access-interface.js"></script>
  <script type="text/javascript">
    // Create interface
    var api = new DataAccessInterface(true);
    // Setup commands that can be applied to request targets
    api.setHandlers({
      get: function(res, cmd, def) {
        console.log('GET', res, cmd, def);
      },
      set: function(res, cmd, def) {
        console.log('SET', res, cmd, def);
      },
      apply: function(res, cmd, def) {
        console.log('APPLY', res, cmd, def);
      }
    });
    // create a request target
    var request = api.factory.create(Promise.resolve({id: '11111', poolId: '222222', type: 'object'}));
    // make a request
    request.get('My Command', 'any-value-here');
    // make Proxy'ed request
    request.MyCommand = 'any-value-here';
  </script>
</head>
<body>
</body>
</html>
